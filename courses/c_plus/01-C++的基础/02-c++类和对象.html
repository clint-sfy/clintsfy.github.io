<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>C++类和对象 | 阿源的知识库</title>
    <meta name="description" content="个人技术知识库，记录 & 分享个人碎片化、结构化、体系化的技术知识内容。">
    <link rel="preload stylesheet" href="/assets/style.d8880d86.css" as="style">
    
    <script type="module" src="/assets/app.47f68a69.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.2aeb816e.js">
    <link rel="modulepreload" href="/assets/chunks/theme.842597fa.js">
    <link rel="modulepreload" href="/assets/chunks/md5.772bbdf1.js">
    <link rel="modulepreload" href="/assets/chunks/use-popup-manager.3f657eb0.js">
    <link rel="modulepreload" href="/assets/chunks/virtual_mermaid-config.ade1a5ba.js">
    <link rel="modulepreload" href="/assets/chunks/ArticleMetadata.e10718d6.js">
    <link rel="modulepreload" href="/assets/courses_c_plus_01-C__的基础_02-c__类和对象.md.5fedb2f2.lean.js">
    <link rel="icon" href="/favicon.ico">
    <meta name="author" content="Charles7c">
    <meta name="keywords" content="查尔斯的知识库, 知识库, 博客, Charles7c">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="theme-color" content="#3c8772">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="zh_CN">
    <meta property="og:title" content="阿源的知识库">
    <meta property="og:description" content="个人技术知识库，记录 &amp; 分享个人碎片化、结构化、体系化的技术知识内容。">
    <meta property="og:site" content="https://blog.clint-sfy.cn">
    <meta property="og:site_name" content="阿源的知识库">
    <meta property="og:image" content="https://blog.clint-sfy.cn/logo.jpg">
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-4fcb24f0><!--[--><!--]--><!--[--><span tabindex="-1" data-v-a5c1bab3></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-a5c1bab3> Skip to content </a><!--]--><!----><header class="VPNav" data-v-4fcb24f0 data-v-05a374fe><div class="VPNavBar has-sidebar" data-v-05a374fe data-v-a9879803><div class="container" data-v-a9879803><div class="title" data-v-a9879803><div class="VPNavBarTitle has-sidebar" data-v-a9879803 data-v-ac0e29ec><a class="title" href="/" data-v-ac0e29ec><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.png" alt data-v-65c82d5d><!--]--><!--[-->阿源的知识库<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-a9879803><div class="curtain" data-v-a9879803></div><div class="content-body" data-v-a9879803><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-a9879803><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-a9879803 data-v-7c687a88><span id="main-nav-aria-label" class="visually-hidden" data-v-7c687a88>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/introduction" tabindex="0" data-v-7c687a88 data-v-8ce6bdaf><!--[-->首页<!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/my_project/01-project/01-%E9%A1%B9%E7%9B%AE1/01-%E4%BB%8B%E7%BB%8D" tabindex="0" data-v-7c687a88 data-v-8ce6bdaf><!--[-->项目文档<!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7c687a88 data-v-8c1da57f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8c1da57f><span class="text" data-v-8c1da57f><!----> 前沿 &amp; 工作 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-8c1da57f><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-8c1da57f><div class="VPMenu" data-v-8c1da57f data-v-aff3ecf7><div class="items" data-v-aff3ecf7><!--[--><!--[--><div class="VPMenuLink" data-v-aff3ecf7 data-v-b61fb414><a class="VPLink link" href="/categories/issues/index" data-v-b61fb414><!--[-->Bug万象集<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-aff3ecf7 data-v-b61fb414><a class="VPLink link" href="/categories/chatgpt/01-ChatGPT%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/01-GPT%E9%A1%B9%E7%9B%AE" data-v-b61fb414><!--[-->ChatGPT<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-7c687a88 data-v-8c1da57f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8c1da57f><span class="text" data-v-8c1da57f><!----> 学习笔记 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-8c1da57f><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-8c1da57f><div class="VPMenu" data-v-8c1da57f data-v-aff3ecf7><div class="items" data-v-aff3ecf7><!--[--><!--[--><div class="VPMenuLink" data-v-aff3ecf7 data-v-b61fb414><a class="VPLink link" href="/courses/c/index" data-v-b61fb414><!--[-->C语言基础快速入门<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-aff3ecf7 data-v-b61fb414><a class="VPLink link active" href="/courses/c_plus/01-C++%E7%9A%84%E5%9F%BA%E7%A1%80/01-c++%E5%AF%B9c%E7%9A%84%E6%89%A9%E5%B1%95" data-v-b61fb414><!--[-->C++基础快速入门<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-aff3ecf7 data-v-b61fb414><a class="VPLink link" href="/courses/python/01-python%E5%9F%BA%E7%A1%80%E7%AF%87/01-python%E5%9F%BA%E7%A1%80" data-v-b61fb414><!--[-->Python基础快速入门<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-aff3ecf7 data-v-b61fb414><a class="VPLink link" href="/courses/tangyudi/02-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AF%87/01-%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92" data-v-b61fb414><!--[-->唐宇迪AI课程<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-aff3ecf7 data-v-b61fb414><a class="VPLink link" href="/courses/yuanzi/03-QT%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91%E5%92%8C%E9%83%A8%E7%BD%B2/01-linux%E5%AE%89%E8%A3%85qt" data-v-b61fb414><!--[-->正点原子Linux课程<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/tags" tabindex="0" data-v-7c687a88 data-v-8ce6bdaf><!--[-->我的标签<!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7c687a88 data-v-8c1da57f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8c1da57f><span class="text" data-v-8c1da57f><!----> 关于 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-8c1da57f><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-8c1da57f><div class="VPMenu" data-v-8c1da57f data-v-aff3ecf7><div class="items" data-v-aff3ecf7><!--[--><!--[--><div class="VPMenuLink" data-v-aff3ecf7 data-v-b61fb414><a class="VPLink link" href="/about/index" data-v-b61fb414><!--[-->关于知识库<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-aff3ecf7 data-v-b61fb414><a class="VPLink link" href="/about/me" data-v-b61fb414><!--[-->关于我<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-aff3ecf7 data-v-b61fb414><a class="VPLink link" href="/about/donate" data-v-b61fb414><!--[-->赞助<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-aff3ecf7 data-v-b61fb414><a class="VPLink link" href="/about/see" data-v-b61fb414><!--[-->在线体验<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-aff3ecf7 data-v-b61fb414><a class="VPLink link" href="/archives" data-v-b61fb414><!--[-->我的归档<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-a9879803 data-v-94372bba><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-94372bba data-v-e5b225bc data-v-6fc16645><span class="check" data-v-6fc16645><span class="icon" data-v-6fc16645><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-e5b225bc><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-e5b225bc><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-a9879803 data-v-c838d38e data-v-3624d9f6><!--[--><a class="VPSocialLink no-icon" href="https://github.com/clint-sfy" aria-label="github" target="_blank" rel="noopener" data-v-3624d9f6 data-v-d27e23fd><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="https://gitee.com/clint_sfy" aria-label target="_blank" rel="noopener" data-v-3624d9f6 data-v-d27e23fd><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>码云</title><path d="M11.984 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.016 0zm6.09 5.333c.328 0 .593.266.592.593v1.482a.594.594 0 0 1-.593.592H9.777c-.982 0-1.778.796-1.778 1.778v5.63c0 .327.266.592.593.592h5.63c.982 0 1.778-.796 1.778-1.778v-.296a.593.593 0 0 0-.592-.593h-4.15a.592.592 0 0 1-.592-.592v-1.482a.593.593 0 0 1 .593-.592h6.815c.327 0 .593.265.593.592v3.408a4 4 0 0 1-4 4H5.926a.593.593 0 0 1-.593-.593V9.778a4.444 4.444 0 0 1 4.445-4.444h8.296Z"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-a9879803 data-v-3e258995 data-v-8c1da57f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-8c1da57f><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-8c1da57f><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-8c1da57f><div class="VPMenu" data-v-8c1da57f data-v-aff3ecf7><!----><!--[--><!--[--><!----><div class="group" data-v-3e258995><div class="item appearance" data-v-3e258995><p class="label" data-v-3e258995>切换日光/暗黑模式</p><div class="appearance-action" data-v-3e258995><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-3e258995 data-v-e5b225bc data-v-6fc16645><span class="check" data-v-6fc16645><span class="icon" data-v-6fc16645><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-e5b225bc><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-e5b225bc><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-3e258995><div class="item social-links" data-v-3e258995><div class="VPSocialLinks social-links-list" data-v-3e258995 data-v-3624d9f6><!--[--><a class="VPSocialLink no-icon" href="https://github.com/clint-sfy" aria-label="github" target="_blank" rel="noopener" data-v-3624d9f6 data-v-d27e23fd><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="https://gitee.com/clint_sfy" aria-label target="_blank" rel="noopener" data-v-3624d9f6 data-v-d27e23fd><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>码云</title><path d="M11.984 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.016 0zm6.09 5.333c.328 0 .593.266.592.593v1.482a.594.594 0 0 1-.593.592H9.777c-.982 0-1.778.796-1.778 1.778v5.63c0 .327.266.592.593.592h5.63c.982 0 1.778-.796 1.778-1.778v-.296a.593.593 0 0 0-.592-.593h-4.15a.592.592 0 0 1-.592-.592v-1.482a.593.593 0 0 1 .593-.592h6.815c.327 0 .593.265.593.592v3.408a4 4 0 0 1-4 4H5.926a.593.593 0 0 1-.593-.593V9.778a4.444 4.444 0 0 1 4.445-4.444h8.296Z"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-a9879803 data-v-7d88f313><span class="container" data-v-7d88f313><span class="top" data-v-7d88f313></span><span class="middle" data-v-7d88f313></span><span class="bottom" data-v-7d88f313></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-4fcb24f0 data-v-eb2e1b3c><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-eb2e1b3c><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-eb2e1b3c><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-eb2e1b3c>文章</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-eb2e1b3c data-v-aaa51a79><button data-v-aaa51a79>返回顶部</button><!----></div></div><aside class="VPSidebar" data-v-4fcb24f0 data-v-b318eb5c><div class="curtain" data-v-b318eb5c></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-b318eb5c><span class="visually-hidden" id="sidebar-aria-label" data-v-b318eb5c> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-b318eb5c><section class="VPSidebarItem level-0 collapsible has-active" data-v-b318eb5c data-v-791e5f86><div class="item" role="button" tabindex="0" data-v-791e5f86><div class="indicator" data-v-791e5f86></div><h2 class="text" data-v-791e5f86>C++的基础 (5篇)</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-791e5f86><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-791e5f86><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-791e5f86><!--[--><div class="VPSidebarItem level-1 is-link" data-v-791e5f86 data-v-791e5f86><div class="item" data-v-791e5f86><div class="indicator" data-v-791e5f86></div><a class="VPLink link link" href="/courses/c_plus/01-C++%E7%9A%84%E5%9F%BA%E7%A1%80/01-c++%E5%AF%B9c%E7%9A%84%E6%89%A9%E5%B1%95" data-v-791e5f86><!--[--><p class="text" data-v-791e5f86><div class="text-color-red mr-[6px]" style="font-weight: 550; display: inline-block;">1</div>C++对C的扩展</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-791e5f86 data-v-791e5f86><div class="item" data-v-791e5f86><div class="indicator" data-v-791e5f86></div><a class="VPLink link link" href="/courses/c_plus/01-C++%E7%9A%84%E5%9F%BA%E7%A1%80/02-c++%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1" data-v-791e5f86><!--[--><p class="text" data-v-791e5f86><div class="text-color-orange mr-[6px]" style="font-weight: 550; display: inline-block;">2</div>C++类和对象</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-791e5f86 data-v-791e5f86><div class="item" data-v-791e5f86><div class="indicator" data-v-791e5f86></div><a class="VPLink link link" href="/courses/c_plus/01-C++%E7%9A%84%E5%9F%BA%E7%A1%80/03-c++%E6%A8%A1%E6%9D%BF" data-v-791e5f86><!--[--><p class="text" data-v-791e5f86><div class="text-color-yellow mr-[6px]" style="font-weight: 550; display: inline-block;">3</div>C++模板</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-791e5f86 data-v-791e5f86><div class="item" data-v-791e5f86><div class="indicator" data-v-791e5f86></div><a class="VPLink link link" href="/courses/c_plus/01-C++%E7%9A%84%E5%9F%BA%E7%A1%80/04-c++%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2" data-v-791e5f86><!--[--><p class="text" data-v-791e5f86><div class="text-color-gray mr-[6px]" style="font-weight: 550; display: inline-block;">4</div>C++类型转换</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-791e5f86 data-v-791e5f86><div class="item" data-v-791e5f86><div class="indicator" data-v-791e5f86></div><a class="VPLink link link" href="/courses/c_plus/01-C++%E7%9A%84%E5%9F%BA%E7%A1%80/05-c++%E5%BC%82%E5%B8%B8" data-v-791e5f86><!--[--><p class="text" data-v-791e5f86><div class="text-color-gray mr-[6px]" style="font-weight: 550; display: inline-block;">5</div>C++异常</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b318eb5c><section class="VPSidebarItem level-0 collapsible" data-v-b318eb5c data-v-791e5f86><div class="item" role="button" tabindex="0" data-v-791e5f86><div class="indicator" data-v-791e5f86></div><h2 class="text" data-v-791e5f86>C++的STL (11篇)</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-791e5f86><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-791e5f86><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-791e5f86><!--[--><div class="VPSidebarItem level-1 is-link" data-v-791e5f86 data-v-791e5f86><div class="item" data-v-791e5f86><div class="indicator" data-v-791e5f86></div><a class="VPLink link link" href="/courses/c_plus/02-C++%E7%9A%84STL/01-c++STL" data-v-791e5f86><!--[--><p class="text" data-v-791e5f86><div class="text-color-red mr-[6px]" style="font-weight: 550; display: inline-block;">1</div>C++的STL概述</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-791e5f86 data-v-791e5f86><div class="item" data-v-791e5f86><div class="indicator" data-v-791e5f86></div><a class="VPLink link link" href="/courses/c_plus/02-C++%E7%9A%84STL/02-String%E5%AE%B9%E5%99%A8" data-v-791e5f86><!--[--><p class="text" data-v-791e5f86><div class="text-color-orange mr-[6px]" style="font-weight: 550; display: inline-block;">2</div>C++的string容器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-791e5f86 data-v-791e5f86><div class="item" data-v-791e5f86><div class="indicator" data-v-791e5f86></div><a class="VPLink link link" href="/courses/c_plus/02-C++%E7%9A%84STL/03-vector%E5%AE%B9%E5%99%A8" data-v-791e5f86><!--[--><p class="text" data-v-791e5f86><div class="text-color-yellow mr-[6px]" style="font-weight: 550; display: inline-block;">3</div>C++的vector容器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-791e5f86 data-v-791e5f86><div class="item" data-v-791e5f86><div class="indicator" data-v-791e5f86></div><a class="VPLink link link" href="/courses/c_plus/02-C++%E7%9A%84STL/04-deque%E5%AE%B9%E5%99%A8" data-v-791e5f86><!--[--><p class="text" data-v-791e5f86><div class="text-color-gray mr-[6px]" style="font-weight: 550; display: inline-block;">4</div>C++的deque容器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-791e5f86 data-v-791e5f86><div class="item" data-v-791e5f86><div class="indicator" data-v-791e5f86></div><a class="VPLink link link" href="/courses/c_plus/02-C++%E7%9A%84STL/05-stack%E5%AE%B9%E5%99%A8" data-v-791e5f86><!--[--><p class="text" data-v-791e5f86><div class="text-color-gray mr-[6px]" style="font-weight: 550; display: inline-block;">5</div>C++的stack容器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-791e5f86 data-v-791e5f86><div class="item" data-v-791e5f86><div class="indicator" data-v-791e5f86></div><a class="VPLink link link" href="/courses/c_plus/02-C++%E7%9A%84STL/06-queue%E5%AE%B9%E5%99%A8" data-v-791e5f86><!--[--><p class="text" data-v-791e5f86><div class="text-color-gray mr-[6px]" style="font-weight: 550; display: inline-block;">6</div>C++的queue容器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-791e5f86 data-v-791e5f86><div class="item" data-v-791e5f86><div class="indicator" data-v-791e5f86></div><a class="VPLink link link" href="/courses/c_plus/02-C++%E7%9A%84STL/07-list%E5%AE%B9%E5%99%A8" data-v-791e5f86><!--[--><p class="text" data-v-791e5f86><div class="text-color-gray mr-[6px]" style="font-weight: 550; display: inline-block;">7</div>C++的list容器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-791e5f86 data-v-791e5f86><div class="item" data-v-791e5f86><div class="indicator" data-v-791e5f86></div><a class="VPLink link link" href="/courses/c_plus/02-C++%E7%9A%84STL/08-set%E5%AE%B9%E5%99%A8" data-v-791e5f86><!--[--><p class="text" data-v-791e5f86><div class="text-color-gray mr-[6px]" style="font-weight: 550; display: inline-block;">8</div>C++的set容器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-791e5f86 data-v-791e5f86><div class="item" data-v-791e5f86><div class="indicator" data-v-791e5f86></div><a class="VPLink link link" href="/courses/c_plus/02-C++%E7%9A%84STL/09-map%E5%AE%B9%E5%99%A8" data-v-791e5f86><!--[--><p class="text" data-v-791e5f86><div class="text-color-gray mr-[6px]" style="font-weight: 550; display: inline-block;">9</div>C++的map容器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-791e5f86 data-v-791e5f86><div class="item" data-v-791e5f86><div class="indicator" data-v-791e5f86></div><a class="VPLink link link" href="/courses/c_plus/02-C++%E7%9A%84STL/10-%E5%85%B6%E4%BB%96%E8%A1%A5%E5%85%85" data-v-791e5f86><!--[--><p class="text" data-v-791e5f86><div class="text-color-gray mr-[6px]" style="font-weight: 550; display: inline-block;">10</div>C++的STL补充</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-791e5f86 data-v-791e5f86><div class="item" data-v-791e5f86><div class="indicator" data-v-791e5f86></div><a class="VPLink link link" href="/courses/c_plus/02-C++%E7%9A%84STL/11-%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95" data-v-791e5f86><!--[--><p class="text" data-v-791e5f86><div class="text-color-gray mr-[6px]" style="font-weight: 550; display: inline-block;">11</div>C++的常见算法</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-4fcb24f0 data-v-0dcf1054><div class="VPDoc has-sidebar has-aside" data-v-0dcf1054 data-v-48b5bc29><!--[--><!--]--><div class="container" data-v-48b5bc29><div class="aside" data-v-48b5bc29><div class="aside-curtain" data-v-48b5bc29></div><div class="aside-container" data-v-48b5bc29><div class="aside-content" data-v-48b5bc29><div class="VPDocAside" data-v-48b5bc29 data-v-b311d026><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-b311d026 data-v-1498c68b><div class="content" data-v-1498c68b><div class="outline-marker" data-v-1498c68b></div><div class="outline-title" data-v-1498c68b>目录</div><nav aria-labelledby="doc-outline-aria-label" data-v-1498c68b><span class="visually-hidden" id="doc-outline-aria-label" data-v-1498c68b> Table of Contents for current page </span><ul class="root" data-v-1498c68b data-v-0170c45a><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-b311d026></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-48b5bc29><div class="content-container" data-v-48b5bc29><!--[--><!--]--><!----><main class="main" data-v-48b5bc29><div style="position:relative;" class="vp-doc _courses_c_plus_01-C++%E7%9A%84%E5%9F%BA%E7%A1%80_02-c++%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1" data-v-48b5bc29><div><h1 id="类和对象" tabindex="-1">类和对象 <a class="header-anchor" href="#类和对象" aria-label="Permalink to &quot;类和对象&quot;">​</a></h1><!----><h2 id="_1-类的概述" tabindex="-1">1. 类的概述 <a class="header-anchor" href="#_1-类的概述" aria-label="Permalink to &quot;1. 类的概述&quot;">​</a></h2><p>类将数据和方法封装在一起，加以权限区分，用户只能通过公共方法 访问私有数据。</p><h3 id="_1、定义一个类-关键字class" tabindex="-1">1、定义一个类 关键字class <a class="header-anchor" href="#_1、定义一个类-关键字class" aria-label="Permalink to &quot;1、定义一个类 关键字class&quot;">​</a></h3><p>类的权限分为：private、protected、public。但是在类的内部 不存在 权限之分。只是对类外有效。 如果类不涉及到继承，private、protected没有区别，都是私有属性。</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> #include </span><span style="color:#F47067;">&lt;</span><span style="color:#ADBAC7;">iostream</span><span style="color:#F47067;">&gt;</span></span>
<span class="line"><span style="color:#6CB6FF;">2</span></span>
<span class="line"><span style="color:#6CB6FF;">3</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">using</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">namespace</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">std</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#6CB6FF;">4</span></span>
<span class="line"><span style="color:#6CB6FF;">5</span><span style="color:#768390;"> //类Data1 是一个类型</span></span>
<span class="line"><span style="color:#6CB6FF;">6</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Data1</span></span>
<span class="line"><span style="color:#ADBAC7;">7 {</span></span>
<span class="line"><span style="color:#6CB6FF;">8</span><span style="color:#768390;"> //类中 默认为私有</span></span>
<span class="line"><span style="color:#6CB6FF;">9</span><span style="color:#ADBAC7;">  </span><span style="color:#F47067;">private:</span></span>
<span class="line"><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> a;</span><span style="color:#768390;">//不要给类中成员 初始化</span></span>
<span class="line"><span style="color:#6CB6FF;">11</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">protected:</span><span style="color:#768390;">//保护</span></span>
<span class="line"><span style="color:#6CB6FF;">12</span><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> b;</span></span>
<span class="line"><span style="color:#6CB6FF;">13</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">public:</span><span style="color:#768390;">//公共</span></span>
<span class="line"><span style="color:#6CB6FF;">14</span><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> c;</span></span>
<span class="line"><span style="color:#6CB6FF;">15</span><span style="color:#768390;"> //在类的内部 不存在 权限之分</span></span>
<span class="line"><span style="color:#6CB6FF;">16</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">showData</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#6CB6FF;">17</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">18</span><span style="color:#ADBAC7;"> cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">a</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot; &quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">b</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot; &quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">c</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">19</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;"> };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6CB6FF;">21</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test01</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#6CB6FF;">22</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">23</span><span style="color:#768390;"> //类实例化一个对象</span></span>
<span class="line"><span style="color:#6CB6FF;">24</span><span style="color:#ADBAC7;"> Data1 ob;</span></span>
<span class="line"><span style="color:#6CB6FF;">25</span><span style="color:#768390;"> //类外不能直接访问 类的私有和保护数据</span></span>
<span class="line"><span style="color:#6CB6FF;">26</span><span style="color:#768390;"> //cout&lt;&lt;ob.a &lt;&lt;endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">27</span><span style="color:#768390;"> //cout&lt;&lt;ob.b &lt;&lt;endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">28</span><span style="color:#ADBAC7;"> cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob.c </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">29</span></span>
<span class="line"><span style="color:#6CB6FF;">30</span><span style="color:#768390;">    //类中的成员函数 需要对象调用</span></span>
<span class="line"><span style="color:#6CB6FF;">31</span><span style="color:#ADBAC7;">    ob.</span><span style="color:#DCBDFB;">showData</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#6CB6FF;">32</span><span style="color:#ADBAC7;"> }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">1</span><span style="color:#24292E;"> #include </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">iostream</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#005CC5;">2</span></span>
<span class="line"><span style="color:#005CC5;">3</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">using</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">namespace</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">std</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#005CC5;">4</span></span>
<span class="line"><span style="color:#005CC5;">5</span><span style="color:#6A737D;"> //类Data1 是一个类型</span></span>
<span class="line"><span style="color:#005CC5;">6</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Data1</span></span>
<span class="line"><span style="color:#24292E;">7 {</span></span>
<span class="line"><span style="color:#005CC5;">8</span><span style="color:#6A737D;"> //类中 默认为私有</span></span>
<span class="line"><span style="color:#005CC5;">9</span><span style="color:#24292E;">  </span><span style="color:#D73A49;">private:</span></span>
<span class="line"><span style="color:#005CC5;">10</span><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> a;</span><span style="color:#6A737D;">//不要给类中成员 初始化</span></span>
<span class="line"><span style="color:#005CC5;">11</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">protected:</span><span style="color:#6A737D;">//保护</span></span>
<span class="line"><span style="color:#005CC5;">12</span><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> b;</span></span>
<span class="line"><span style="color:#005CC5;">13</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">public:</span><span style="color:#6A737D;">//公共</span></span>
<span class="line"><span style="color:#005CC5;">14</span><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> c;</span></span>
<span class="line"><span style="color:#005CC5;">15</span><span style="color:#6A737D;"> //在类的内部 不存在 权限之分</span></span>
<span class="line"><span style="color:#005CC5;">16</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">showData</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#005CC5;">17</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">18</span><span style="color:#24292E;"> cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">a</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot; &quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">b</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot; &quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">c</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#005CC5;">19</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">20</span><span style="color:#24292E;"> };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5;">21</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test01</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#005CC5;">22</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">23</span><span style="color:#6A737D;"> //类实例化一个对象</span></span>
<span class="line"><span style="color:#005CC5;">24</span><span style="color:#24292E;"> Data1 ob;</span></span>
<span class="line"><span style="color:#005CC5;">25</span><span style="color:#6A737D;"> //类外不能直接访问 类的私有和保护数据</span></span>
<span class="line"><span style="color:#005CC5;">26</span><span style="color:#6A737D;"> //cout&lt;&lt;ob.a &lt;&lt;endl;</span></span>
<span class="line"><span style="color:#005CC5;">27</span><span style="color:#6A737D;"> //cout&lt;&lt;ob.b &lt;&lt;endl;</span></span>
<span class="line"><span style="color:#005CC5;">28</span><span style="color:#24292E;"> cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob.c </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#005CC5;">29</span></span>
<span class="line"><span style="color:#005CC5;">30</span><span style="color:#6A737D;">    //类中的成员函数 需要对象调用</span></span>
<span class="line"><span style="color:#005CC5;">31</span><span style="color:#24292E;">    ob.</span><span style="color:#6F42C1;">showData</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#005CC5;">32</span><span style="color:#24292E;"> }</span></span></code></pre></div><p><img src="https://cdn.staticaly.com/gh/clint-sfy/blogcdn@master/img/c_plus/%E7%B1%BB1.png" alt=""></p><h2 id="_2-实现一个类" tabindex="-1">2. 实现一个类 <a class="header-anchor" href="#_2-实现一个类" aria-label="Permalink to &quot;2. 实现一个类&quot;">​</a></h2><h3 id="请设计一个person类" tabindex="-1">请设计一个Person类 <a class="header-anchor" href="#请设计一个person类" aria-label="Permalink to &quot;请设计一个Person类&quot;">​</a></h3><p>请设计一个Person类，Person类具有name和age属性，提供初始化函数(Init)，并提供对name和age的读写函数(set，get)，但必须确保age的赋值在有效范围内(0-100),超出有效范围，则拒绝赋值，并提供方法输出姓名和年龄</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">#include</span><span style="color:#96D0FF;">&lt;string.h&gt;</span></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Person</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">private:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> mName[</span><span style="color:#6CB6FF;">32</span><span style="color:#ADBAC7;">];</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> mAge;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#768390;">    //初始化成员</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">init</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">name</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">age</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#DCBDFB;">strcpy</span><span style="color:#ADBAC7;">(mName, name);</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(age</span><span style="color:#F47067;">&gt;=</span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;&amp;</span><span style="color:#ADBAC7;"> age</span><span style="color:#F47067;">&lt;=</span><span style="color:#6CB6FF;">100</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">        {</span></span>
<span class="line"><span style="color:#ADBAC7;">            mAge </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> age;</span></span>
<span class="line"><span style="color:#ADBAC7;">        }</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">else</span></span>
<span class="line"><span style="color:#ADBAC7;">        {</span></span>
<span class="line"><span style="color:#ADBAC7;">            cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;年龄无效&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">        }</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#768390;">    //设置name</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">setName</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">name</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#DCBDFB;">strcpy</span><span style="color:#ADBAC7;">(mName, name);</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#768390;">    //获取name</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#DCBDFB;">getName</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> mName;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">    //设置age</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">setAge</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">age</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(age</span><span style="color:#F47067;">&gt;=</span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;&amp;</span><span style="color:#ADBAC7;"> age</span><span style="color:#F47067;">&lt;=</span><span style="color:#6CB6FF;">100</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">        {</span></span>
<span class="line"><span style="color:#ADBAC7;">            mAge </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> age;</span></span>
<span class="line"><span style="color:#ADBAC7;">        }</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">else</span></span>
<span class="line"><span style="color:#ADBAC7;">        {</span></span>
<span class="line"><span style="color:#ADBAC7;">            cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;年龄无效&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">        }</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#768390;">    //得到age</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">getAge</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> mAge;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">    //显示所有数据</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">showPerson</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">mName</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot; &quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">mAge</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#include</span><span style="color:#032F62;">&lt;string.h&gt;</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Person</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">private:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> mName[</span><span style="color:#005CC5;">32</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> mAge;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#6A737D;">    //初始化成员</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">init</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">name</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">age</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">strcpy</span><span style="color:#24292E;">(mName, name);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(age</span><span style="color:#D73A49;">&gt;=</span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> age</span><span style="color:#D73A49;">&lt;=</span><span style="color:#005CC5;">100</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">            mAge </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> age;</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">else</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">            cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;年龄无效&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#6A737D;">    //设置name</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setName</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">name</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">strcpy</span><span style="color:#24292E;">(mName, name);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#6A737D;">    //获取name</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#6F42C1;">getName</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> mName;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    //设置age</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setAge</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">age</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(age</span><span style="color:#D73A49;">&gt;=</span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> age</span><span style="color:#D73A49;">&lt;=</span><span style="color:#005CC5;">100</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">            mAge </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> age;</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">else</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">            cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;年龄无效&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#6A737D;">    //得到age</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getAge</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> mAge;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    //显示所有数据</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">showPerson</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">mName</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot; &quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">mAge</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre></div><h3 id="点和圆的关系" tabindex="-1"><strong>点和圆的关系</strong> <a class="header-anchor" href="#点和圆的关系" aria-label="Permalink to &quot;**点和圆的关系**&quot;">​</a></h3><p>设计一个圆形类（AdvCircle），和一个点类（Point），计算点和圆的关系。 假如圆心坐标为x0, y0, 半径为r，点的坐标为x1, y1： 1）点在圆上：(x1-x0)(x1-x0) + (y1-y0)(y1-y0) == rr 2）点在圆内：(x1-x0)(x1-x0) + (y1-y0)(y1-y0) &lt; rr 3）点在圆外：(x1-x0)(x1-x0) + (y1-y0)(y1-y0) &gt; r*r</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Point</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">private:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> mX;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> mY;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">setX</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">x</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        mX </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> x;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">getX</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> mX;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">setY</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">y</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        mY </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> y;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">getY</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> mY;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Circle</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">private:</span></span>
<span class="line"><span style="color:#ADBAC7;">    Point p;</span><span style="color:#768390;">//对象作为类的成员变量</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> mR;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">setPoint</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">x</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">y</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        p.</span><span style="color:#DCBDFB;">setX</span><span style="color:#ADBAC7;">(x);</span></span>
<span class="line"><span style="color:#ADBAC7;">        p.</span><span style="color:#DCBDFB;">setY</span><span style="color:#ADBAC7;">(y);</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F69D50;">Point</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">getPoint</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> p;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">setR</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">r</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        mR </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> r;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">getR</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> mR;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">    //判断点 在圆的位置</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">pointIsOnCircle</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">Point</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">ob</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> len </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> (ob.</span><span style="color:#DCBDFB;">getX</span><span style="color:#ADBAC7;">()</span><span style="color:#F47067;">-</span><span style="color:#ADBAC7;">p.</span><span style="color:#DCBDFB;">getX</span><span style="color:#ADBAC7;">())</span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">(ob.</span><span style="color:#DCBDFB;">getX</span><span style="color:#ADBAC7;">()</span><span style="color:#F47067;">-</span><span style="color:#ADBAC7;">p.</span><span style="color:#DCBDFB;">getX</span><span style="color:#ADBAC7;">())</span><span style="color:#F47067;">+\</span></span>
<span class="line"><span style="color:#ADBAC7;">                (ob.</span><span style="color:#DCBDFB;">getY</span><span style="color:#ADBAC7;">()</span><span style="color:#F47067;">-</span><span style="color:#ADBAC7;">p.</span><span style="color:#DCBDFB;">getY</span><span style="color:#ADBAC7;">())</span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">(ob.</span><span style="color:#DCBDFB;">getY</span><span style="color:#ADBAC7;">()</span><span style="color:#F47067;">-</span><span style="color:#ADBAC7;">p.</span><span style="color:#DCBDFB;">getY</span><span style="color:#ADBAC7;">());</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(len </span><span style="color:#F47067;">==</span><span style="color:#ADBAC7;"> mR</span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">mR)</span></span>
<span class="line"><span style="color:#ADBAC7;">        {</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">        }</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">else</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(len </span><span style="color:#F47067;">&gt;</span><span style="color:#ADBAC7;"> mR</span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">mR)</span></span>
<span class="line"><span style="color:#ADBAC7;">        {</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">        }</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">else</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(len </span><span style="color:#F47067;">&lt;</span><span style="color:#ADBAC7;"> mR</span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">mR)</span></span>
<span class="line"><span style="color:#ADBAC7;">        {</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">-</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">        }</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Point</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">private:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> mX;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> mY;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setX</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">x</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        mX </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> x;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getX</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> mX;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setY</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">y</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        mY </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> y;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getY</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> mY;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Circle</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">private:</span></span>
<span class="line"><span style="color:#24292E;">    Point p;</span><span style="color:#6A737D;">//对象作为类的成员变量</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> mR;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setPoint</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">x</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">y</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        p.</span><span style="color:#6F42C1;">setX</span><span style="color:#24292E;">(x);</span></span>
<span class="line"><span style="color:#24292E;">        p.</span><span style="color:#6F42C1;">setY</span><span style="color:#24292E;">(y);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Point</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getPoint</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> p;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setR</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">r</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        mR </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> r;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getR</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> mR;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    //判断点 在圆的位置</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">pointIsOnCircle</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">Point</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">ob</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> len </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (ob.</span><span style="color:#6F42C1;">getX</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">p.</span><span style="color:#6F42C1;">getX</span><span style="color:#24292E;">())</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">(ob.</span><span style="color:#6F42C1;">getX</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">p.</span><span style="color:#6F42C1;">getX</span><span style="color:#24292E;">())</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">\</span></span>
<span class="line"><span style="color:#24292E;">                (ob.</span><span style="color:#6F42C1;">getY</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">p.</span><span style="color:#6F42C1;">getY</span><span style="color:#24292E;">())</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">(ob.</span><span style="color:#6F42C1;">getY</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">p.</span><span style="color:#6F42C1;">getY</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(len </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> mR</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">mR)</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(len </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> mR</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">mR)</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(len </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> mR</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">mR)</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre></div><h2 id="_3-成员函数在类外实现" tabindex="-1">3. 成员函数在类外实现 <a class="header-anchor" href="#_3-成员函数在类外实现" aria-label="Permalink to &quot;3. 成员函数在类外实现&quot;">​</a></h2><div class="language-c vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#ADBAC7;">class Data2</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">private:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> mA;</span></span>
<span class="line"><span style="color:#ADBAC7;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">setA</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> a);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">getA</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test05</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    Data2 ob;</span></span>
<span class="line"><span style="color:#ADBAC7;">    ob.</span><span style="color:#DCBDFB;">setA</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob.</span><span style="color:#DCBDFB;">getA</span><span style="color:#ADBAC7;">()</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">main</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">argc</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">argv</span><span style="color:#F47067;">[]</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">test05</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// 利用作用域符号</span></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> Data2::</span><span style="color:#DCBDFB;">setA</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">a</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    mA </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> Data2::</span><span style="color:#DCBDFB;">getA</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> mA;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">class Data2</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">private:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> mA;</span></span>
<span class="line"><span style="color:#24292E;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setA</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> a);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getA</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test05</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    Data2 ob;</span></span>
<span class="line"><span style="color:#24292E;">    ob.</span><span style="color:#6F42C1;">setA</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob.</span><span style="color:#6F42C1;">getA</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">argc</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">argv</span><span style="color:#D73A49;">[]</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">test05</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">// 利用作用域符号</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> Data2::</span><span style="color:#6F42C1;">setA</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">a</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    mA </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> Data2::</span><span style="color:#6F42C1;">getA</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> mA;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="_4-类在其他文件实现" tabindex="-1">4.类在其他文件实现 <a class="header-anchor" href="#_4-类在其他文件实现" aria-label="Permalink to &quot;4.类在其他文件实现&quot;">​</a></h2><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">#ifndef</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">DATA_H</span></span>
<span class="line"><span style="color:#F47067;">#define</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">DATA_H</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Data</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">private:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> mA;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">getA</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">setA</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">a</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">#endif</span><span style="color:#768390;"> // DATA_H</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#ifndef</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">DATA_H</span></span>
<span class="line"><span style="color:#D73A49;">#define</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">DATA_H</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Data</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">private:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> mA;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getA</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setA</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">a</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">#endif</span><span style="color:#6A737D;"> // DATA_H</span></span></code></pre></div><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">#include</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;data.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Data</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">getA</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> mA;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Data</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">setA</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">a</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    mA </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;data.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Data</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">getA</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> mA;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Data</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">setA</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">a</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    mA </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">#include</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&lt;iostream&gt;</span></span>
<span class="line"><span style="color:#F47067;">#include</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;data.h&quot;</span></span>
<span class="line"><span style="color:#F47067;">using</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">namespace</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">std</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">main</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">argc</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">argv</span><span style="color:#ADBAC7;">[])</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    Data ob;</span></span>
<span class="line"><span style="color:#ADBAC7;">    ob.</span><span style="color:#DCBDFB;">setA</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">100</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob.</span><span style="color:#DCBDFB;">getA</span><span style="color:#ADBAC7;">()</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;iostream&gt;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;data.h&quot;</span></span>
<span class="line"><span style="color:#D73A49;">using</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">namespace</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">std</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">argc</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">argv</span><span style="color:#24292E;">[])</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    Data ob;</span></span>
<span class="line"><span style="color:#24292E;">    ob.</span><span style="color:#6F42C1;">setA</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">100</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob.</span><span style="color:#6F42C1;">getA</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="_5-构造函数" tabindex="-1">5. 构造函数 <a class="header-anchor" href="#_5-构造函数" aria-label="Permalink to &quot;5. 构造函数&quot;">​</a></h2><h3 id="_1、构造函数的概述" tabindex="-1">1、构造函数的概述 <a class="header-anchor" href="#_1、构造函数的概述" aria-label="Permalink to &quot;1、构造函数的概述&quot;">​</a></h3><p>构造函数 是类实例化对象的时候自动调用。</p><h3 id="_2、创建构造函数" tabindex="-1">2、创建构造函数 <a class="header-anchor" href="#_2、创建构造函数" aria-label="Permalink to &quot;2、创建构造函数&quot;">​</a></h3><p>构造函数名和类名称相同，不能有返回值类型（连void都不可以），可以有有参数（支持重载）,必须public权限</p><div class="language-c vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#ADBAC7;">class Data1</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> mA;</span></span>
<span class="line"><span style="color:#ADBAC7;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">//无参构造函数</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Data1</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        mA</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;无参构造函数&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">class Data1</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> mA;</span></span>
<span class="line"><span style="color:#24292E;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//无参构造函数</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Data1</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        mA</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;无参构造函数&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>类实例化对象时：先为对象开辟空间 然后才是 调用构造函数</p><h3 id="_3、构造函数的分类" tabindex="-1">3、构造函数的分类 <a class="header-anchor" href="#_3、构造函数的分类" aria-label="Permalink to &quot;3、构造函数的分类&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">using</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">namespace</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">std</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Data1</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> mA;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#768390;">    //无参构造函数</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Data1</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        mA</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;无参构造函数&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">    //有参构造函数</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Data1</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">a</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        mA</span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;">a;</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;有参构造函数 mA=&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">mA</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">    //析构函数</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">~Data1</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;析构函数 mA=&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">mA</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">using</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">namespace</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">std</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Data1</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> mA;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#6A737D;">    //无参构造函数</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Data1</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        mA</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;无参构造函数&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    //有参构造函数</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Data1</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">a</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        mA</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">a;</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;有参构造函数 mA=&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">mA</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    //析构函数</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">~Data1</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;析构函数 mA=&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">mA</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre></div><h3 id="_4、构造函数的调用" tabindex="-1">4、构造函数的调用 <a class="header-anchor" href="#_4、构造函数的调用" aria-label="Permalink to &quot;4、构造函数的调用&quot;">​</a></h3><p>1、如果用户不提供构造函数 编译器会自动 提供一个无参的空的构造函数。</p><p>2、如果用户提供构造函数 编译器会自动 屏蔽默认无参的构造</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test01</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#768390;">    //隐式调用无参构造函数（推荐）</span></span>
<span class="line"><span style="color:#ADBAC7;">    Data1 ob1;</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob1.mA</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#768390;">    //显示调用无参构造函数</span></span>
<span class="line"><span style="color:#ADBAC7;">    Data1 ob2 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">Data1</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">    //隐式调用有参构造函数（推荐）</span></span>
<span class="line"><span style="color:#ADBAC7;">    Data1 </span><span style="color:#DCBDFB;">ob3</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">    //显示调用有参构造函数</span></span>
<span class="line"><span style="color:#ADBAC7;">    Data1 ob4 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">Data1</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">    //匿名对象(无参)</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Data1</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Data1</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">    //构造函数隐式转换（类中只有一个数据成员）</span></span>
<span class="line"><span style="color:#ADBAC7;">    Data1 ob5 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">100</span><span style="color:#ADBAC7;">;</span><span style="color:#768390;"> //Data ob5(100)</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test01</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#6A737D;">    //隐式调用无参构造函数（推荐）</span></span>
<span class="line"><span style="color:#24292E;">    Data1 ob1;</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob1.mA</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#6A737D;">    //显示调用无参构造函数</span></span>
<span class="line"><span style="color:#24292E;">    Data1 ob2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Data1</span><span style="color:#24292E;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    //隐式调用有参构造函数（推荐）</span></span>
<span class="line"><span style="color:#24292E;">    Data1 </span><span style="color:#6F42C1;">ob3</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    //显示调用有参构造函数</span></span>
<span class="line"><span style="color:#24292E;">    Data1 ob4 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Data1</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    //匿名对象(无参)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Data1</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Data1</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    //构造函数隐式转换（类中只有一个数据成员）</span></span>
<span class="line"><span style="color:#24292E;">    Data1 ob5 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">100</span><span style="color:#24292E;">;</span><span style="color:#6A737D;"> //Data ob5(100)</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"></span></code></pre></div><p>注意：写任何一个类 无参构造， 有参构造需要实现</p><h2 id="_6-析构函数" tabindex="-1">6.析构函数 <a class="header-anchor" href="#_6-析构函数" aria-label="Permalink to &quot;6.析构函数&quot;">​</a></h2><p>当对象生命周期结束的时候 系统自动调用析构函数。 函数名和类名称相同，在函数名前加~，没有返回值类型，没有函数形参。（不能被重载） 先调用析构函数 再释放对象的空间。</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#768390;">//析构函数</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">~</span><span style="color:#DCBDFB;">Data1</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;析构函数 mA=&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">mA</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">//析构函数</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">~</span><span style="color:#6F42C1;">Data1</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;析构函数 mA=&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">mA</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span></code></pre></div><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test02</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    Data1 </span><span style="color:#DCBDFB;">ob2</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#DCBDFB;">Data1</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">200</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">        Data1 </span><span style="color:#DCBDFB;">ob3</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">30</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    Data1 </span><span style="color:#DCBDFB;">ob4</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">40</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// 析构函数在生命周期结束的时候释放空间</span></span>
<span class="line"><span style="color:#768390;">//  括号结束时  括号里的释放  由于是在栈区 后进先出</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test02</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    Data1 </span><span style="color:#6F42C1;">ob2</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">Data1</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">200</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        Data1 </span><span style="color:#6F42C1;">ob3</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">30</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    Data1 </span><span style="color:#6F42C1;">ob4</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">40</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">// 析构函数在生命周期结束的时候释放空间</span></span>
<span class="line"><span style="color:#6A737D;">//  括号结束时  括号里的释放  由于是在栈区 后进先出</span></span></code></pre></div><p><img src="https://cdn.staticaly.com/gh/clint-sfy/blogcdn@master/img/c_plus/%E7%B1%BB2.png" alt=""></p><p>一般情况下，空的析构函数就足够。</p><p>但是如果一个类有指针成员，这个类必须 写析构函数，释放指针成员所指向空间</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">#include</span><span style="color:#96D0FF;">&lt;stdlib.h&gt;</span></span>
<span class="line"><span style="color:#F47067;">#include</span><span style="color:#96D0FF;">&lt;string.h&gt;</span></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Data2</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">name;</span><span style="color:#768390;">//指针成员</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Data2</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        name</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">NULL</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Data2</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">str</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        name </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> (</span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">)</span><span style="color:#DCBDFB;">calloc</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">, </span><span style="color:#DCBDFB;">strlen</span><span style="color:#ADBAC7;">(str)</span><span style="color:#F47067;">+</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#DCBDFB;">strcpy</span><span style="color:#ADBAC7;">(name, str);</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;有参构造 name=&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">name</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">~Data2</span><span style="color:#ADBAC7;">()</span><span style="color:#768390;">  // 防止内存泄漏 先释放堆区 在释放栈区的name</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;析构函数name = &quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">name</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(name </span><span style="color:#F47067;">!=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">NULL</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">        {</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#DCBDFB;">free</span><span style="color:#ADBAC7;">(name);</span></span>
<span class="line"><span style="color:#ADBAC7;">            name</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">NULL</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">        }</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#include</span><span style="color:#032F62;">&lt;stdlib.h&gt;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#032F62;">&lt;string.h&gt;</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Data2</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">name;</span><span style="color:#6A737D;">//指针成员</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Data2</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        name</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Data2</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">str</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        name </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)</span><span style="color:#6F42C1;">calloc</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">strlen</span><span style="color:#24292E;">(str)</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">strcpy</span><span style="color:#24292E;">(name, str);</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;有参构造 name=&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">name</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">~Data2</span><span style="color:#24292E;">()</span><span style="color:#6A737D;">  // 防止内存泄漏 先释放堆区 在释放栈区的name</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;析构函数name = &quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">name</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(name </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">free</span><span style="color:#24292E;">(name);</span></span>
<span class="line"><span style="color:#24292E;">            name</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre></div><h2 id="_7-拷贝构造函数" tabindex="-1">7.拷贝构造函数 <a class="header-anchor" href="#_7-拷贝构造函数" aria-label="Permalink to &quot;7.拷贝构造函数&quot;">​</a></h2><h3 id="_1、拷贝构造的定义" tabindex="-1">1、拷贝构造的定义 <a class="header-anchor" href="#_1、拷贝构造的定义" aria-label="Permalink to &quot;1、拷贝构造的定义&quot;">​</a></h3><p>拷贝构造：本质是构造函数</p><p>拷贝构造的调用时机：旧对象 初始化 新对象 才会调用拷贝构造。</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Data4</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> mA;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#F47067;">#if</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">1</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Data4</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        mA </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;无参构造 mA = &quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">mA</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#F47067;">#endif</span></span>
<span class="line"><span style="color:#F47067;">#if</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">1</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Data4</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">a</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        mA </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;有参构造 mA = &quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">mA</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#F47067;">#endif</span></span>
<span class="line"><span style="color:#F47067;">#if</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">1</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Data4</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">const</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Data4</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">ob</span><span style="color:#ADBAC7;">)</span><span style="color:#768390;">//ob就是旧对象的别名</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#768390;">        //一旦实现 了拷贝构造 必须完成赋值动作</span></span>
<span class="line"><span style="color:#ADBAC7;">        mA </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> ob.mA;</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;拷贝构造函数&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#F47067;">#endif</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">~Data4</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;析构函数 mA = &quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">mA</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"><span style="color:#F69D50;">Data4</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">getObject</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    Data4 </span><span style="color:#DCBDFB;">ob1</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;A:&quot;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#ADBAC7;">ob1 </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> ob1;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test04</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    Data4 ob2 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">getObject</span><span style="color:#ADBAC7;">();</span><span style="color:#768390;">  //旧对象 初始化 为新对象</span></span>
<span class="line"><span style="color:#768390;">    //ob2 = ob1  这个不算  都是旧对象</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;B:&quot;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#ADBAC7;">ob2 </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Data4</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> mA;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#D73A49;">#if</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Data4</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        mA </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;无参构造 mA = &quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">mA</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#D73A49;">#endif</span></span>
<span class="line"><span style="color:#D73A49;">#if</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Data4</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">a</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        mA </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;有参构造 mA = &quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">mA</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#D73A49;">#endif</span></span>
<span class="line"><span style="color:#D73A49;">#if</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Data4</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Data4</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">ob</span><span style="color:#24292E;">)</span><span style="color:#6A737D;">//ob就是旧对象的别名</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#6A737D;">        //一旦实现 了拷贝构造 必须完成赋值动作</span></span>
<span class="line"><span style="color:#24292E;">        mA </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> ob.mA;</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;拷贝构造函数&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#D73A49;">#endif</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">~Data4</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;析构函数 mA = &quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">mA</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#6F42C1;">Data4</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getObject</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    Data4 </span><span style="color:#6F42C1;">ob1</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    cout </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;A:&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;">ob1 </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> endl;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> ob1;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test04</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    Data4 ob2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getObject</span><span style="color:#24292E;">();</span><span style="color:#6A737D;">  //旧对象 初始化 为新对象</span></span>
<span class="line"><span style="color:#6A737D;">    //ob2 = ob1  这个不算  都是旧对象</span></span>
<span class="line"><span style="color:#24292E;">    cout </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;B:&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;">ob2 </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> endl;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>如果用户不提供拷贝构造 编译器会自动提供一个默认的拷贝构造（完成赋值动作--浅拷贝）</p><h3 id="_2、拷贝构造-和-无参构造-有参构造的关系" tabindex="-1">2、拷贝构造 和 无参构造 有参构造的关系 <a class="header-anchor" href="#_2、拷贝构造-和-无参构造-有参构造的关系" aria-label="Permalink to &quot;2、拷贝构造 和 无参构造 有参构造的关系&quot;">​</a></h3><p>如果用户定义了 拷贝构造 或者有参构造 都会屏蔽无参构造。</p><p>如果用户定义了 无参构造 或者有参构造 不会屏蔽拷贝构造。</p><h3 id="_3、拷贝构造几种调用形式-了解" tabindex="-1">3、拷贝构造几种调用形式（了解） <a class="header-anchor" href="#_3、拷贝构造几种调用形式-了解" aria-label="Permalink to &quot;3、拷贝构造几种调用形式（了解）&quot;">​</a></h3><p><strong>1、旧对象给新对象初始化 调用拷贝构造</strong></p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> Data4 </span><span style="color:#DCBDFB;">ob1</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#6CB6FF;">2</span><span style="color:#ADBAC7;"> Data4 ob2 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> ob1;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">1</span><span style="color:#24292E;"> Data4 </span><span style="color:#6F42C1;">ob1</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#005CC5;">2</span><span style="color:#24292E;"> Data4 ob2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> ob1;</span></span></code></pre></div><p><strong>2、给对象取别名 不会调用拷贝构造</strong></p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> Data4 </span><span style="color:#DCBDFB;">ob1</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#6CB6FF;">2</span><span style="color:#ADBAC7;"> Data4 </span><span style="color:#F47067;">&amp;</span><span style="color:#ADBAC7;">ob2 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> ob1;</span><span style="color:#768390;">//不会调用拷贝构造</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">1</span><span style="color:#24292E;"> Data4 </span><span style="color:#6F42C1;">ob1</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#005CC5;">2</span><span style="color:#24292E;"> Data4 </span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;">ob2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> ob1;</span><span style="color:#6A737D;">//不会调用拷贝构造</span></span></code></pre></div><p><strong>3、普通对象作为函数参数 调用函数时 会发生拷贝构造</strong></p><p>实参传给形参的时候，会开辟空间 相当于旧对象给了新对象 发生了拷贝构造</p><p><img src="https://cdn.staticaly.com/gh/clint-sfy/blogcdn@master/img/c_plus/%E7%B1%BB3.png" alt=""></p><p><strong>4、函数返回值普通对象 （Visual Studio会发生拷贝构造）（Qtcreater,linux不会发生）</strong></p><p>Visual Studio会发生拷贝构造</p><p><img src="https://cdn.staticaly.com/gh/clint-sfy/blogcdn@master/img/c_plus/%E7%B1%BB4.png" alt=""></p><h2 id="_8-拷贝构造的浅拷贝和深拷贝" tabindex="-1">8. 拷贝构造的浅拷贝和深拷贝 <a class="header-anchor" href="#_8-拷贝构造的浅拷贝和深拷贝" aria-label="Permalink to &quot;8. 拷贝构造的浅拷贝和深拷贝&quot;">​</a></h2><p>默认的拷贝构造 都是浅拷贝。</p><p>如果类中没有指针成员， 不用实现拷贝构造和析构函数。</p><p>如果类中有指针成员， 必须实现析构函数释放指针成员指向的堆区空间，必须实现拷贝构造完成深拷贝动作</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Data5</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">name;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Data5</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        name</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">NULL</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Data5</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">str</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        name </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> (</span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">)</span><span style="color:#DCBDFB;">calloc</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">, </span><span style="color:#DCBDFB;">strlen</span><span style="color:#ADBAC7;">(str)</span><span style="color:#F47067;">+</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#DCBDFB;">strcpy</span><span style="color:#ADBAC7;">(name, str);</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;有参构造 name=&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">name</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Data5</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">const</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Data5</span><span style="color:#F47067;">&amp;</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">ob</span><span style="color:#ADBAC7;">)</span><span style="color:#768390;">//深拷贝</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#768390;">         //为对象的指针成员申请独立的空间</span></span>
<span class="line"><span style="color:#ADBAC7;">         name </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> (</span><span style="color:#F47067;">char*</span><span style="color:#ADBAC7;">)</span><span style="color:#DCBDFB;">calloc</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">, </span><span style="color:#DCBDFB;">strlen</span><span style="color:#ADBAC7;">(ob.name) </span><span style="color:#F47067;">+</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">         </span><span style="color:#DCBDFB;">strcpy</span><span style="color:#ADBAC7;">(name, ob.name);</span></span>
<span class="line"><span style="color:#ADBAC7;">         cout </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;拷贝构造函数&quot;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">~Data5</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;析构函数name = &quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">name</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(name </span><span style="color:#F47067;">!=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">NULL</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">        {</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#DCBDFB;">free</span><span style="color:#ADBAC7;">(name);</span></span>
<span class="line"><span style="color:#ADBAC7;">            name</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">NULL</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">        }</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test05</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    Data5 </span><span style="color:#DCBDFB;">ob1</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;hello world</span><span style="color:#F47067;">\n</span><span style="color:#96D0FF;">&quot;</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    Data5 ob2 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> ob1;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">main</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">argc</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">argv</span><span style="color:#ADBAC7;">[])</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">test05</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Data5</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">name;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Data5</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        name</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Data5</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">str</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        name </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)</span><span style="color:#6F42C1;">calloc</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">strlen</span><span style="color:#24292E;">(str)</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">strcpy</span><span style="color:#24292E;">(name, str);</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;有参构造 name=&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">name</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Data5</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Data5</span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;"> </span><span style="color:#E36209;">ob</span><span style="color:#24292E;">)</span><span style="color:#6A737D;">//深拷贝</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#6A737D;">         //为对象的指针成员申请独立的空间</span></span>
<span class="line"><span style="color:#24292E;">         name </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">char*</span><span style="color:#24292E;">)</span><span style="color:#6F42C1;">calloc</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">strlen</span><span style="color:#24292E;">(ob.name) </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">strcpy</span><span style="color:#24292E;">(name, ob.name);</span></span>
<span class="line"><span style="color:#24292E;">         cout </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;拷贝构造函数&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">~Data5</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;析构函数name = &quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">name</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(name </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">free</span><span style="color:#24292E;">(name);</span></span>
<span class="line"><span style="color:#24292E;">            name</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test05</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    Data5 </span><span style="color:#6F42C1;">ob1</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;hello world</span><span style="color:#005CC5;">\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    Data5 ob2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> ob1;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">argc</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">argv</span><span style="color:#24292E;">[])</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">test05</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>设计一个类：无参构造、有参构造、析够函数、拷贝构造</p><h2 id="_9-初始化列表" tabindex="-1">9. 初始化列表 <a class="header-anchor" href="#_9-初始化列表" aria-label="Permalink to &quot;9. 初始化列表&quot;">​</a></h2><p>一个类的对象 作为另一个类的成员：成员对象</p><p>如果类中想调用成员对象的有参构造 必须使用初始化列表。</p><p><img src="https://cdn.staticaly.com/gh/clint-sfy/blogcdn@master/img/c_plus/%E7%B1%BB5.png" alt=""></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#adbac7;">A成员对象 B自身</span></span>
<span class="line"><span style="color:#adbac7;">A 无参构造</span></span>
<span class="line"><span style="color:#adbac7;">B 无参构造</span></span>
<span class="line"><span style="color:#adbac7;">B 析构</span></span>
<span class="line"><span style="color:#adbac7;">A 析构</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">A成员对象 B自身</span></span>
<span class="line"><span style="color:#24292e;">A 无参构造</span></span>
<span class="line"><span style="color:#24292e;">B 无参构造</span></span>
<span class="line"><span style="color:#24292e;">B 析构</span></span>
<span class="line"><span style="color:#24292e;">A 析构</span></span></code></pre></div><p>类会自动调用成员对象的无参构造。</p><div class="language-c vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#768390;">// 初始化列表</span></span>
<span class="line"><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">B</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">a</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">b</span><span style="color:#ADBAC7;">):</span><span style="color:#DCBDFB;">ob</span><span style="color:#ADBAC7;">(a)</span></span>
<span class="line"><span style="color:#6CB6FF;">2</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">3</span><span style="color:#ADBAC7;"> </span></span>
<span class="line"><span style="color:#6CB6FF;">4</span><span style="color:#ADBAC7;"> }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 初始化列表</span></span>
<span class="line"><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">B</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">a</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">b</span><span style="color:#24292E;">):</span><span style="color:#6F42C1;">ob</span><span style="color:#24292E;">(a)</span></span>
<span class="line"><span style="color:#005CC5;">2</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">3</span><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#005CC5;">4</span><span style="color:#24292E;"> }</span></span></code></pre></div><p>类想调用成员对象 有参构造 必须使用初始化列表</p><div class="language-c vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#ADBAC7;">class A</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> mA;</span></span>
<span class="line"><span style="color:#ADBAC7;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">A</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        mA </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;A的无参构造 mA=&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">mA</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    explicit </span><span style="color:#DCBDFB;">A</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> a)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        mA </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;A的有参构造mA=&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">mA</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">~</span><span style="color:#DCBDFB;">A</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;A的析构函数 mA = &quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">mA</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">class A</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> mA;</span></span>
<span class="line"><span style="color:#24292E;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">A</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        mA </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;A的无参构造 mA=&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">mA</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    explicit </span><span style="color:#6F42C1;">A</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> a)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        mA </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;A的有参构造mA=&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">mA</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">~</span><span style="color:#6F42C1;">A</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;A的析构函数 mA = &quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">mA</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre></div><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">B</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> mB;</span></span>
<span class="line"><span style="color:#ADBAC7;">    A ob;</span><span style="color:#768390;">//成员对象</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">B</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;B类的无参构造&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#768390;">    //初始化列表 成员对象 必须使用对象名+（）</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">B</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">a</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">b</span><span style="color:#ADBAC7;">):</span><span style="color:#DCBDFB;">mB</span><span style="color:#ADBAC7;">(b),</span><span style="color:#DCBDFB;">ob</span><span style="color:#ADBAC7;">(a)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;B类的有参构造&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">~B</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">       cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;B的析构函数&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test01</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    B </span><span style="color:#DCBDFB;">ob1</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">,</span><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;mA =&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob1.ob.mA</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;, mB =&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob1.mB</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">B</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> mB;</span></span>
<span class="line"><span style="color:#24292E;">    A ob;</span><span style="color:#6A737D;">//成员对象</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">B</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;B类的无参构造&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#6A737D;">    //初始化列表 成员对象 必须使用对象名+（）</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">B</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">a</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">b</span><span style="color:#24292E;">):</span><span style="color:#6F42C1;">mB</span><span style="color:#24292E;">(b),</span><span style="color:#6F42C1;">ob</span><span style="color:#24292E;">(a)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;B类的有参构造&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">~B</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">       cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;B的析构函数&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test01</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    B </span><span style="color:#6F42C1;">ob1</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;mA =&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob1.ob.mA</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;, mB =&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob1.mB</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="_10-对象数组" tabindex="-1">10. 对象数组 <a class="header-anchor" href="#_10-对象数组" aria-label="Permalink to &quot;10. 对象数组&quot;">​</a></h2><p>对象数组：本质是数组 数组的每个元素是对象</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">A</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> mA;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">A</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        mA </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;A的无参构造 mA=&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">mA</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">explicit</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">A</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">a</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        mA </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;A的有参构造mA=&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">mA</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">~A</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;A的析构函数 mA = &quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">mA</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">A</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> mA;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">A</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        mA </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;A的无参构造 mA=&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">mA</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">explicit</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">A</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">a</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        mA </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;A的有参构造mA=&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">mA</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">~A</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;A的析构函数 mA = &quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">mA</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre></div><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test02</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#768390;">    //对象数组 每个元素都会自动调用构造和析构函数</span></span>
<span class="line"><span style="color:#768390;">    //对象数组不初始化  每个元素 调用无参构造</span></span>
<span class="line"><span style="color:#ADBAC7;">    A arr1[</span><span style="color:#6CB6FF;">5</span><span style="color:#ADBAC7;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">    //对象数组的初始化 必须显示使用有参构造 逐个元素初始化</span></span>
<span class="line"><span style="color:#ADBAC7;">    A arr2[</span><span style="color:#6CB6FF;">5</span><span style="color:#ADBAC7;">]</span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;">{</span><span style="color:#DCBDFB;">A</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">),</span><span style="color:#DCBDFB;">A</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;">),</span><span style="color:#DCBDFB;">A</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">30</span><span style="color:#ADBAC7;">),</span><span style="color:#DCBDFB;">A</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">40</span><span style="color:#ADBAC7;">),</span><span style="color:#DCBDFB;">A</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">50</span><span style="color:#ADBAC7;">) };</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> n </span><span style="color:#F47067;">=sizeof</span><span style="color:#ADBAC7;">(arr2)</span><span style="color:#F47067;">/sizeof</span><span style="color:#ADBAC7;">(arr2[</span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">]);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> i</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">for</span><span style="color:#ADBAC7;">(i</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;i</span><span style="color:#F47067;">&lt;</span><span style="color:#ADBAC7;">n;i</span><span style="color:#F47067;">++</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">arr2[i].mA</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot; &quot;</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test02</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#6A737D;">    //对象数组 每个元素都会自动调用构造和析构函数</span></span>
<span class="line"><span style="color:#6A737D;">    //对象数组不初始化  每个元素 调用无参构造</span></span>
<span class="line"><span style="color:#24292E;">    A arr1[</span><span style="color:#005CC5;">5</span><span style="color:#24292E;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    //对象数组的初始化 必须显示使用有参构造 逐个元素初始化</span></span>
<span class="line"><span style="color:#24292E;">    A arr2[</span><span style="color:#005CC5;">5</span><span style="color:#24292E;">]</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#6F42C1;">A</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">),</span><span style="color:#6F42C1;">A</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">),</span><span style="color:#6F42C1;">A</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">30</span><span style="color:#24292E;">),</span><span style="color:#6F42C1;">A</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">40</span><span style="color:#24292E;">),</span><span style="color:#6F42C1;">A</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">50</span><span style="color:#24292E;">) };</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> n </span><span style="color:#D73A49;">=sizeof</span><span style="color:#24292E;">(arr2)</span><span style="color:#D73A49;">/sizeof</span><span style="color:#24292E;">(arr2[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">]);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> i</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">for</span><span style="color:#24292E;">(i</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;i</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">n;i</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">arr2[i].mA</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot; &quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="_11-explicit关键字" tabindex="-1">11. explicit关键字 <a class="header-anchor" href="#_11-explicit关键字" aria-label="Permalink to &quot;11. explicit关键字&quot;">​</a></h2><p>explicit防止构造函数隐式转换</p><p>explicit修饰构造函数</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#adbac7;">1 //允许有参构造 隐式转换</span></span>
<span class="line"><span style="color:#adbac7;">2 A(int a)</span></span>
<span class="line"><span style="color:#adbac7;">3 {</span></span>
<span class="line"><span style="color:#adbac7;">4 mA = a;</span></span>
<span class="line"><span style="color:#adbac7;">5 cout&lt;&lt;&quot;A的有参构造mA=&quot;&lt;&lt;mA&lt;&lt;endl;</span></span>
<span class="line"><span style="color:#adbac7;">6 }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">1 //允许有参构造 隐式转换</span></span>
<span class="line"><span style="color:#24292e;">2 A(int a)</span></span>
<span class="line"><span style="color:#24292e;">3 {</span></span>
<span class="line"><span style="color:#24292e;">4 mA = a;</span></span>
<span class="line"><span style="color:#24292e;">5 cout&lt;&lt;&quot;A的有参构造mA=&quot;&lt;&lt;mA&lt;&lt;endl;</span></span>
<span class="line"><span style="color:#24292e;">6 }</span></span></code></pre></div><div class="language-c vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#6CB6FF;">1</span><span style="color:#768390;"> //构造函数隐式转换（类中只有一个数据成员）</span></span>
<span class="line"><span style="color:#6CB6FF;">2</span><span style="color:#ADBAC7;"> A ob1</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">100</span><span style="color:#ADBAC7;">;</span><span style="color:#768390;">//ok  容易造成误解  本质上是A ob1（100）  不是赋值！</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">1</span><span style="color:#6A737D;"> //构造函数隐式转换（类中只有一个数据成员）</span></span>
<span class="line"><span style="color:#005CC5;">2</span><span style="color:#24292E;"> A ob1</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">100</span><span style="color:#24292E;">;</span><span style="color:#6A737D;">//ok  容易造成误解  本质上是A ob1（100）  不是赋值！</span></span></code></pre></div><div class="language-c vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#6CB6FF;">1</span><span style="color:#768390;"> //防止有参构造 隐式转换 </span></span>
<span class="line"><span style="color:#6CB6FF;">2</span><span style="color:#ADBAC7;"> explicit </span><span style="color:#DCBDFB;">A</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">a</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#6CB6FF;">3</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">4</span><span style="color:#ADBAC7;"> mA </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#6CB6FF;">5</span><span style="color:#ADBAC7;"> cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;A的有参构造mA=&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">mA</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">6</span><span style="color:#ADBAC7;"> }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">1</span><span style="color:#6A737D;"> //防止有参构造 隐式转换 </span></span>
<span class="line"><span style="color:#005CC5;">2</span><span style="color:#24292E;"> explicit </span><span style="color:#6F42C1;">A</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">a</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#005CC5;">3</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">4</span><span style="color:#24292E;"> mA </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#005CC5;">5</span><span style="color:#24292E;"> cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;A的有参构造mA=&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">mA</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#005CC5;">6</span><span style="color:#24292E;"> }</span></span></code></pre></div><div class="language-c vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#6CB6FF;">1</span><span style="color:#768390;"> //构造函数隐式转换（类中只有一个数据成员）</span></span>
<span class="line"><span style="color:#6CB6FF;">2</span><span style="color:#ADBAC7;"> A ob1</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">100</span><span style="color:#ADBAC7;">;</span><span style="color:#768390;">//err 转换失败</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">1</span><span style="color:#6A737D;"> //构造函数隐式转换（类中只有一个数据成员）</span></span>
<span class="line"><span style="color:#005CC5;">2</span><span style="color:#24292E;"> A ob1</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">100</span><span style="color:#24292E;">;</span><span style="color:#6A737D;">//err 转换失败</span></span></code></pre></div><h2 id="_12-new和delete-堆区空间操作" tabindex="-1">12. new和delete 堆区空间操作 <a class="header-anchor" href="#_12-new和delete-堆区空间操作" aria-label="Permalink to &quot;12. new和delete 堆区空间操作&quot;">​</a></h2><h3 id="_1、new和delete操作基本类型的空间" tabindex="-1">1、new和delete操作基本类型的空间 <a class="header-anchor" href="#_1、new和delete操作基本类型的空间" aria-label="Permalink to &quot;1、new和delete操作基本类型的空间&quot;">​</a></h3><p><strong>new和malloc delete和free 没有区别</strong></p><p><strong>区别：</strong></p><p>new 不用强制类型转换</p><p>new在申请空间的时候可以 初始化空间内容</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test01</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">p </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">NULL</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#768390;">    //申请int空间 并初始化为100</span></span>
<span class="line"><span style="color:#ADBAC7;">    p </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">100</span><span style="color:#ADBAC7;">);</span><span style="color:#768390;">//堆区空间</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;*p = &quot;</span><span style="color:#F47067;">&lt;&lt;*</span><span style="color:#ADBAC7;">p</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span><span style="color:#768390;">  // *p=100</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">delete</span><span style="color:#ADBAC7;"> p;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test01</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">p </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#6A737D;">    //申请int空间 并初始化为100</span></span>
<span class="line"><span style="color:#24292E;">    p </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">100</span><span style="color:#24292E;">);</span><span style="color:#6A737D;">//堆区空间</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;*p = &quot;</span><span style="color:#D73A49;">&lt;&lt;*</span><span style="color:#24292E;">p</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span><span style="color:#6A737D;">  // *p=100</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">delete</span><span style="color:#24292E;"> p;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test02</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">arr </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">NULL</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">    //申请数组 5个int元素</span></span>
<span class="line"><span style="color:#768390;">    //arr = new int[5];//堆区空间</span></span>
<span class="line"><span style="color:#ADBAC7;">    arr </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;">[</span><span style="color:#6CB6FF;">5</span><span style="color:#ADBAC7;">]{</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">,</span><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;">,</span><span style="color:#6CB6FF;">30</span><span style="color:#ADBAC7;">,</span><span style="color:#6CB6FF;">40</span><span style="color:#ADBAC7;">,</span><span style="color:#6CB6FF;">50</span><span style="color:#ADBAC7;">};</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> i</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">for</span><span style="color:#ADBAC7;">(i</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;i</span><span style="color:#F47067;">&lt;</span><span style="color:#6CB6FF;">5</span><span style="color:#ADBAC7;">;i</span><span style="color:#F47067;">++</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">arr[i]</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot; &quot;</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">    //如果new有[]  delete就必须有[]</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">delete []</span><span style="color:#ADBAC7;"> arr;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test02</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">arr </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    //申请数组 5个int元素</span></span>
<span class="line"><span style="color:#6A737D;">    //arr = new int[5];//堆区空间</span></span>
<span class="line"><span style="color:#24292E;">    arr </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;">[</span><span style="color:#005CC5;">5</span><span style="color:#24292E;">]{</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">30</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">40</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">50</span><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> i</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">for</span><span style="color:#24292E;">(i</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;i</span><span style="color:#D73A49;">&lt;</span><span style="color:#005CC5;">5</span><span style="color:#24292E;">;i</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">arr[i]</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot; &quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    //如果new有[]  delete就必须有[]</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">delete []</span><span style="color:#24292E;"> arr;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="_2、new和delete操作类的空间" tabindex="-1">2、new和delete操作类的空间 <a class="header-anchor" href="#_2、new和delete操作类的空间" aria-label="Permalink to &quot;2、new和delete操作类的空间&quot;">​</a></h3><p>malloc不会调用构造函数 free不会调用析构函数</p><p>new 会调用构造函数 delete调用析构函数</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">#include</span><span style="color:#96D0FF;">&lt;stdlib.h&gt;</span></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">A</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> mA;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">A</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;无参构造&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">A</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">a</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        mA </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;有参构造 mA=&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">mA</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">~A</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;析构函数 mA=&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">mA</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#include</span><span style="color:#032F62;">&lt;stdlib.h&gt;</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">A</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> mA;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">A</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;无参构造&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">A</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">a</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        mA </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;有参构造 mA=&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">mA</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">~A</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;析构函数 mA=&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">mA</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre></div><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test03</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">#if</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#768390;">  //malloc free</span></span>
<span class="line"><span style="color:#ADBAC7;">    A </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">p </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> (A </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">)</span><span style="color:#DCBDFB;">malloc</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">sizeof</span><span style="color:#ADBAC7;">(A));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    p-&gt;mA </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">100</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">p-&gt;mA</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">free</span><span style="color:#ADBAC7;">(p);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">#endif</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">#if</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">1</span></span>
<span class="line"><span style="color:#ADBAC7;">    A </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">p </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">A</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">100</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">    //p-&gt;mA = 100;</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">p-&gt;mA</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">delete</span><span style="color:#ADBAC7;"> p;</span></span>
<span class="line"><span style="color:#F47067;">#endif</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test03</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">#if</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#6A737D;">  //malloc free</span></span>
<span class="line"><span style="color:#24292E;">    A </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">p </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (A </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)</span><span style="color:#6F42C1;">malloc</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">sizeof</span><span style="color:#24292E;">(A));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    p-&gt;mA </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">100</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">p-&gt;mA</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">free</span><span style="color:#24292E;">(p);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">#endif</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">#if</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">    A </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">p </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">A</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">100</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    //p-&gt;mA = 100;</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">p-&gt;mA</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">delete</span><span style="color:#24292E;"> p;</span></span>
<span class="line"><span style="color:#D73A49;">#endif</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="_3、new申请对象数组" tabindex="-1">3、new申请对象数组 <a class="header-anchor" href="#_3、new申请对象数组" aria-label="Permalink to &quot;3、new申请对象数组&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test04</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#768390;">    //每个元素 默认调用无参构造</span></span>
<span class="line"><span style="color:#768390;">    //A *arr = new A[5];</span></span>
<span class="line"><span style="color:#ADBAC7;">    A </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">arr </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> A[</span><span style="color:#6CB6FF;">5</span><span style="color:#ADBAC7;">]{</span><span style="color:#DCBDFB;">A</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">), </span><span style="color:#DCBDFB;">A</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;">),</span><span style="color:#DCBDFB;">A</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">30</span><span style="color:#ADBAC7;">),</span><span style="color:#DCBDFB;">A</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">40</span><span style="color:#ADBAC7;">),</span><span style="color:#DCBDFB;">A</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">50</span><span style="color:#ADBAC7;">)};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">delete  []</span><span style="color:#ADBAC7;"> arr;</span><span style="color:#768390;">  // 加[]  会进行5次析构</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test04</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#6A737D;">    //每个元素 默认调用无参构造</span></span>
<span class="line"><span style="color:#6A737D;">    //A *arr = new A[5];</span></span>
<span class="line"><span style="color:#24292E;">    A </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">arr </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> A[</span><span style="color:#005CC5;">5</span><span style="color:#24292E;">]{</span><span style="color:#6F42C1;">A</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">), </span><span style="color:#6F42C1;">A</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">),</span><span style="color:#6F42C1;">A</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">30</span><span style="color:#24292E;">),</span><span style="color:#6F42C1;">A</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">40</span><span style="color:#24292E;">),</span><span style="color:#6F42C1;">A</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">50</span><span style="color:#24292E;">)};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">delete  []</span><span style="color:#24292E;"> arr;</span><span style="color:#6A737D;">  // 加[]  会进行5次析构</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="_13-静态成员" tabindex="-1">13. 静态成员 <a class="header-anchor" href="#_13-静态成员" aria-label="Permalink to &quot;13. 静态成员&quot;">​</a></h2><h3 id="_1、概念的引入" tabindex="-1">1、概念的引入 <a class="header-anchor" href="#_1、概念的引入" aria-label="Permalink to &quot;1、概念的引入&quot;">​</a></h3><p><img src="https://cdn.staticaly.com/gh/clint-sfy/blogcdn@master/img/c_plus/%E7%B1%BB6.png" alt=""></p><p>类的对象 拥有独立的 普通成员数据。</p><p>static 修饰的成员 叫 静态成员。</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Data</span></span>
<span class="line"><span style="color:#ADBAC7;">2 {</span></span>
<span class="line"><span style="color:#6CB6FF;">3</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">static</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> a;</span><span style="color:#768390;">//静态成员数据</span></span>
<span class="line"><span style="color:#6CB6FF;">4</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">static</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">func</span><span style="color:#ADBAC7;">()</span><span style="color:#768390;">//静态成员函数</span></span>
<span class="line"><span style="color:#6CB6FF;">5</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">6</span></span>
<span class="line"><span style="color:#6CB6FF;">7</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">8</span><span style="color:#ADBAC7;"> }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Data</span></span>
<span class="line"><span style="color:#24292E;">2 {</span></span>
<span class="line"><span style="color:#005CC5;">3</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> a;</span><span style="color:#6A737D;">//静态成员数据</span></span>
<span class="line"><span style="color:#005CC5;">4</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">func</span><span style="color:#24292E;">()</span><span style="color:#6A737D;">//静态成员函数</span></span>
<span class="line"><span style="color:#005CC5;">5</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">6</span></span>
<span class="line"><span style="color:#005CC5;">7</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">8</span><span style="color:#24292E;"> }</span></span></code></pre></div><h3 id="_2、静态成员数据" tabindex="-1">2、静态成员数据 <a class="header-anchor" href="#_2、静态成员数据" aria-label="Permalink to &quot;2、静态成员数据&quot;">​</a></h3><p>static修饰的静态成员 属于类而不是对象。（所有对象 共享 一份 静态成员数据）</p><p><img src="https://cdn.staticaly.com/gh/clint-sfy/blogcdn@master/img/c_plus/%E7%B1%BB7.png" alt=""></p><p>static修饰的成员 定义类的时候 必须分配空间。</p><p>static修饰的静态成员数据 必须类中定义 类外初始化。</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">#include</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">using</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">namespace</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">std</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Data</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> a;</span><span style="color:#768390;">//普通成员数据</span></span>
<span class="line"><span style="color:#768390;">    //类中定义</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">static</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> b;</span><span style="color:#768390;">//静态成员数据</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"><span style="color:#768390;">//类外初始化</span></span>
<span class="line"><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Data</span><span style="color:#ADBAC7;">::b</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">100</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test01</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#768390;">    //静态成员数据 通过类名称直接访问（属于类）</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#F69D50;">Data</span><span style="color:#ADBAC7;">::b</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">    //静态成员数据 通过对象访问(共享)</span></span>
<span class="line"><span style="color:#ADBAC7;">    Data ob1;</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob1.b</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    ob1.b </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">200</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    Data ob2;</span></span>
<span class="line"><span style="color:#ADBAC7;">    ob2.b </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">300</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#F69D50;">Data</span><span style="color:#ADBAC7;">::b</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span><span style="color:#768390;">//300</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">using</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">namespace</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">std</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Data</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> a;</span><span style="color:#6A737D;">//普通成员数据</span></span>
<span class="line"><span style="color:#6A737D;">    //类中定义</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> b;</span><span style="color:#6A737D;">//静态成员数据</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#6A737D;">//类外初始化</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Data</span><span style="color:#24292E;">::b</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">100</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test01</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#6A737D;">    //静态成员数据 通过类名称直接访问（属于类）</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#6F42C1;">Data</span><span style="color:#24292E;">::b</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    //静态成员数据 通过对象访问(共享)</span></span>
<span class="line"><span style="color:#24292E;">    Data ob1;</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob1.b</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    ob1.b </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">200</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    Data ob2;</span></span>
<span class="line"><span style="color:#24292E;">    ob2.b </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">300</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#6F42C1;">Data</span><span style="color:#24292E;">::b</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span><span style="color:#6A737D;">//300</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p><strong>案例1：使用静态成员数据 统计对象的个数</strong></p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Data2</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> mA;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">static</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> count;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Data2</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        count</span><span style="color:#F47067;">++</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Data2</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">a</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        mA </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#ADBAC7;">        count</span><span style="color:#F47067;">++</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Data2</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">const</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Data2</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">ob</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        count</span><span style="color:#F47067;">++</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">~Data2</span><span style="color:#ADBAC7;">()</span><span style="color:#768390;">  // 析构的时候 --</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">       count</span><span style="color:#F47067;">--</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Data2</span><span style="color:#ADBAC7;">::count</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test02</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    Data2 ob1;</span></span>
<span class="line"><span style="color:#ADBAC7;">    Data2 </span><span style="color:#DCBDFB;">ob2</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    Data2 ob3 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> ob2;</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;对象个数:&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#F69D50;">Data2</span><span style="color:#ADBAC7;">::count</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span><span style="color:#768390;">//3</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        Data2 ob4;</span></span>
<span class="line"><span style="color:#ADBAC7;">        Data2 ob5;</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;对象个数:&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#F69D50;">Data2</span><span style="color:#ADBAC7;">::count</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span><span style="color:#768390;">//5</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;对象个数:&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#F69D50;">Data2</span><span style="color:#ADBAC7;">::count</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span><span style="color:#768390;">//3</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Data2</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> mA;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> count;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Data2</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        count</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Data2</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">a</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        mA </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#24292E;">        count</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Data2</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Data2</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">ob</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        count</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">~Data2</span><span style="color:#24292E;">()</span><span style="color:#6A737D;">  // 析构的时候 --</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">       count</span><span style="color:#D73A49;">--</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Data2</span><span style="color:#24292E;">::count</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test02</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    Data2 ob1;</span></span>
<span class="line"><span style="color:#24292E;">    Data2 </span><span style="color:#6F42C1;">ob2</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    Data2 ob3 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> ob2;</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;对象个数:&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#6F42C1;">Data2</span><span style="color:#24292E;">::count</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span><span style="color:#6A737D;">//3</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        Data2 ob4;</span></span>
<span class="line"><span style="color:#24292E;">        Data2 ob5;</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;对象个数:&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#6F42C1;">Data2</span><span style="color:#24292E;">::count</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span><span style="color:#6A737D;">//5</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;对象个数:&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#6F42C1;">Data2</span><span style="color:#24292E;">::count</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span><span style="color:#6A737D;">//3</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="_3、静态成员函数" tabindex="-1">3、静态成员函数 <a class="header-anchor" href="#_3、静态成员函数" aria-label="Permalink to &quot;3、静态成员函数&quot;">​</a></h3><p>静态成员函数 是属于类 而不是对象（所有对象 共享）</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Data3</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">private:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> data;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">static</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">static</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">getA</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        data </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">;</span><span style="color:#768390;">//err 静态成员函数 只能操作 静态成员数据 而data为普通成员数据</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Data3</span><span style="color:#ADBAC7;">::a </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">100</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test03</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#F69D50;">Data3</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">getA</span><span style="color:#ADBAC7;">()</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span><span style="color:#768390;">  // 由于a是私有的，通过公共方法去实现</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">main</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">argc</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">argv</span><span style="color:#ADBAC7;">[])</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">test03</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Data3</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">private:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> data;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getA</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        data </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#24292E;">;</span><span style="color:#6A737D;">//err 静态成员函数 只能操作 静态成员数据 而data为普通成员数据</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Data3</span><span style="color:#24292E;">::a </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">100</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test03</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#6F42C1;">Data3</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">getA</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span><span style="color:#6A737D;">  // 由于a是私有的，通过公共方法去实现</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">argc</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">argv</span><span style="color:#24292E;">[])</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">test03</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="_14-单例模式" tabindex="-1">14. 单例模式 <a class="header-anchor" href="#_14-单例模式" aria-label="Permalink to &quot;14. 单例模式&quot;">​</a></h2><p>单例模式的类 只能实例化 一个对象。 重要步骤：将构造函数私有化</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">#include</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">using</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">namespace</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">std</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">SingleTon</span><span style="color:#768390;">//单例模式</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#768390;">    //构造私有化 防止实例化其他对象</span></span>
<span class="line"><span style="color:#F47067;">private:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">SingleTon</span><span style="color:#ADBAC7;">(){</span></span>
<span class="line"><span style="color:#ADBAC7;">        count</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;构造&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">SingleTon</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">const</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">SingleTon</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">ob</span><span style="color:#ADBAC7;">){</span></span>
<span class="line"><span style="color:#ADBAC7;">        count</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">~SingleTon</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;析够&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#F47067;">private:</span></span>
<span class="line"><span style="color:#768390;">    //const防止p 在类内部 被修改指向</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">static</span><span style="color:#ADBAC7;"> SingleTon </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">const</span><span style="color:#ADBAC7;"> p;</span><span style="color:#768390;">//保存唯一的实例地址</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> count;</span><span style="color:#768390;">//统计任务执行次数</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">static</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">SingleTon</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">getSingleTon</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">)</span><span style="color:#768390;">//获取唯一的实例地址 静态数据只能用静态方法</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> p;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">    //用户自定义 任务函数</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">printString</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">str</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        count</span><span style="color:#F47067;">++</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;当前第&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">count</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;次任务打印:&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">str</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">SingleTon </span><span style="color:#F47067;">*const</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">SingleTon</span><span style="color:#ADBAC7;">::p </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> SingleTon;</span><span style="color:#768390;">//创建唯一的实例</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">main</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">argc</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">argv</span><span style="color:#ADBAC7;">[])</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#768390;">    //获取单例的地址</span></span>
<span class="line"><span style="color:#ADBAC7;">    SingleTon </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">p1 </span><span style="color:#F47067;">=</span><span style="color:#F69D50;">SingleTon</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">getSingleTon</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    p1-&gt;</span><span style="color:#DCBDFB;">printString</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;离职证明1&quot;</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    p1-&gt;</span><span style="color:#DCBDFB;">printString</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;学历证明1&quot;</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    p1-&gt;</span><span style="color:#DCBDFB;">printString</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;学位证明1&quot;</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    p1-&gt;</span><span style="color:#DCBDFB;">printString</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;身份证明1&quot;</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    SingleTon </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">p2 </span><span style="color:#F47067;">=</span><span style="color:#F69D50;">SingleTon</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">getSingleTon</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    p2-&gt;</span><span style="color:#DCBDFB;">printString</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;离职证明2&quot;</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    p2-&gt;</span><span style="color:#DCBDFB;">printString</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;学历证明2&quot;</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    p2-&gt;</span><span style="color:#DCBDFB;">printString</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;学位证明2&quot;</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    p2-&gt;</span><span style="color:#DCBDFB;">printString</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;身份证明2&quot;</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">using</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">namespace</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">std</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SingleTon</span><span style="color:#6A737D;">//单例模式</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#6A737D;">    //构造私有化 防止实例化其他对象</span></span>
<span class="line"><span style="color:#D73A49;">private:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">SingleTon</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">        count</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;构造&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">SingleTon</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SingleTon</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">ob</span><span style="color:#24292E;">){</span></span>
<span class="line"><span style="color:#24292E;">        count</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">~SingleTon</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;析够&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#D73A49;">private:</span></span>
<span class="line"><span style="color:#6A737D;">    //const防止p 在类内部 被修改指向</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> SingleTon </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> p;</span><span style="color:#6A737D;">//保存唯一的实例地址</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> count;</span><span style="color:#6A737D;">//统计任务执行次数</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SingleTon</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getSingleTon</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)</span><span style="color:#6A737D;">//获取唯一的实例地址 静态数据只能用静态方法</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> p;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    //用户自定义 任务函数</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">printString</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">str</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        count</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;当前第&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">count</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;次任务打印:&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">str</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">SingleTon </span><span style="color:#D73A49;">*const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SingleTon</span><span style="color:#24292E;">::p </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> SingleTon;</span><span style="color:#6A737D;">//创建唯一的实例</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">argc</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">argv</span><span style="color:#24292E;">[])</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#6A737D;">    //获取单例的地址</span></span>
<span class="line"><span style="color:#24292E;">    SingleTon </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">p1 </span><span style="color:#D73A49;">=</span><span style="color:#6F42C1;">SingleTon</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">getSingleTon</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    p1-&gt;</span><span style="color:#6F42C1;">printString</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;离职证明1&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    p1-&gt;</span><span style="color:#6F42C1;">printString</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;学历证明1&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    p1-&gt;</span><span style="color:#6F42C1;">printString</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;学位证明1&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    p1-&gt;</span><span style="color:#6F42C1;">printString</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;身份证明1&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    SingleTon </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">p2 </span><span style="color:#D73A49;">=</span><span style="color:#6F42C1;">SingleTon</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">getSingleTon</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    p2-&gt;</span><span style="color:#6F42C1;">printString</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;离职证明2&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    p2-&gt;</span><span style="color:#6F42C1;">printString</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;学历证明2&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    p2-&gt;</span><span style="color:#6F42C1;">printString</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;学位证明2&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    p2-&gt;</span><span style="color:#6F42C1;">printString</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;身份证明2&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="_15-类的存储结构" tabindex="-1">15. 类的存储结构 <a class="header-anchor" href="#_15-类的存储结构" aria-label="Permalink to &quot;15. 类的存储结构&quot;">​</a></h2><p>成员函数、静态成员 不占类的空间。</p><p><img src="https://cdn.staticaly.com/gh/clint-sfy/blogcdn@master/img/c_plus/%E7%B1%BB8.png" alt=""></p><p>成员函数、静态成员 是独立存储 是所有对象共享</p><h2 id="_16-this指针" tabindex="-1">16.this指针 <a class="header-anchor" href="#_16-this指针" aria-label="Permalink to &quot;16.this指针&quot;">​</a></h2><h3 id="_1、知识点的引入" tabindex="-1">1、知识点的引入 <a class="header-anchor" href="#_1、知识点的引入" aria-label="Permalink to &quot;1、知识点的引入&quot;">​</a></h3><p><img src="https://cdn.staticaly.com/gh/clint-sfy/blogcdn@master/img/c_plus/%E7%B1%BB9.png" alt=""></p><h3 id="_2、普通成员函数-默认有一个this指针-指向调用该成员函数的对象" tabindex="-1">2、普通成员函数 默认有一个this指针 指向调用该成员函数的对象 <a class="header-anchor" href="#_2、普通成员函数-默认有一个this指针-指向调用该成员函数的对象" aria-label="Permalink to &quot;2、普通成员函数 默认有一个this指针 指向调用该成员函数的对象&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Data2</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> b;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">mutable</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> c;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Data2</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">a</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">b</span><span style="color:#ADBAC7;">,</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">c</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;a </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;b </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> b;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;c </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> c;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#768390;">    //const 修饰成员函数为只读（该成员函数不允许对 成员数据 赋值） mutable修饰的成员除外</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">showData</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">const</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#768390;">        //a = 100;//err</span></span>
<span class="line"><span style="color:#ADBAC7;">        c</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">100</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">a</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot; &quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">b</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot; &quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">c</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test02</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    Data2 </span><span style="color:#DCBDFB;">ob1</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">,</span><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;">,</span><span style="color:#6CB6FF;">30</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    ob1.</span><span style="color:#DCBDFB;">showData</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Data2</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> b;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">mutable</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> c;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Data2</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">a</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">b</span><span style="color:#24292E;">,</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">c</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;a </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;b </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> b;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;c </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> c;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#6A737D;">    //const 修饰成员函数为只读（该成员函数不允许对 成员数据 赋值） mutable修饰的成员除外</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">showData</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">const</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#6A737D;">        //a = 100;//err</span></span>
<span class="line"><span style="color:#24292E;">        c</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">100</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">a</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot; &quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">b</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot; &quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">c</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test02</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    Data2 </span><span style="color:#6F42C1;">ob1</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">30</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    ob1.</span><span style="color:#6F42C1;">showData</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="_3、this来完成链式操作" tabindex="-1">3、this来完成链式操作 <a class="header-anchor" href="#_3、this来完成链式操作" aria-label="Permalink to &quot;3、this来完成链式操作&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Data1</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F69D50;">Data1</span><span style="color:#F47067;">&amp;</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">myPrintf</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">str</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">str</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot; &quot;</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">;</span><span style="color:#768390;">//返回调用该成员函数的对象</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test01</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Data1</span><span style="color:#ADBAC7;">().</span><span style="color:#DCBDFB;">myPrintf</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;hehe&quot;</span><span style="color:#ADBAC7;">).</span><span style="color:#DCBDFB;">myPrintf</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;haha&quot;</span><span style="color:#ADBAC7;">).</span><span style="color:#DCBDFB;">myPrintf</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;xixix&quot;</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Data1</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Data1</span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">myPrintf</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">str</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">str</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot; &quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">;</span><span style="color:#6A737D;">//返回调用该成员函数的对象</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test01</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Data1</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">myPrintf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;hehe&quot;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">myPrintf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;haha&quot;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">myPrintf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;xixix&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="_17-const修饰成员函数" tabindex="-1">17.const修饰成员函数 <a class="header-anchor" href="#_17-const修饰成员函数" aria-label="Permalink to &quot;17.const修饰成员函数&quot;">​</a></h2><p>const 修饰成员函数为只读（该成员函数不允许对 成员数据 赋值） mutable修饰的成员除外</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Data2</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> b;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">mutable</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> c;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Data2</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">a</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">b</span><span style="color:#ADBAC7;">,</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">c</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;a </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;b </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> b;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;c </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> c;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#768390;">    //const 修饰成员函数为只读（该成员函数不允许对 成员数据 赋值） mutable修饰的成员除外</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">showData</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">const</span><span style="color:#768390;">   // 注意这里的const!!!!!</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#768390;">        //a = 100;//err</span></span>
<span class="line"><span style="color:#ADBAC7;">        c</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">100</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">a</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot; &quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">b</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot; &quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">c</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test02</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    Data2 </span><span style="color:#DCBDFB;">ob1</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">,</span><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;">,</span><span style="color:#6CB6FF;">30</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    ob1.</span><span style="color:#DCBDFB;">showData</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Data2</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> b;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">mutable</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> c;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Data2</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">a</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">b</span><span style="color:#24292E;">,</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">c</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;a </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;b </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> b;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;c </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> c;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#6A737D;">    //const 修饰成员函数为只读（该成员函数不允许对 成员数据 赋值） mutable修饰的成员除外</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">showData</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">const</span><span style="color:#6A737D;">   // 注意这里的const!!!!!</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#6A737D;">        //a = 100;//err</span></span>
<span class="line"><span style="color:#24292E;">        c</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">100</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">a</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot; &quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">b</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot; &quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">c</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test02</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    Data2 </span><span style="color:#6F42C1;">ob1</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">30</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    ob1.</span><span style="color:#6F42C1;">showData</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="_18-友元-friend" tabindex="-1">18. 友元 friend <a class="header-anchor" href="#_18-友元-friend" aria-label="Permalink to &quot;18. 友元 friend&quot;">​</a></h2><p>类将数据和方法封装在一起 加以权限区分 用户只能通过公共方法 操作私有数据。（封装性）</p><p>友元 重要用在运算符重载上。 一个函数或者类 作为了另一个类的友元 那么这个函数或类 就可以直接访问 另一个类的私有数据。</p><h3 id="_1、普通全局函数-作为类的友元" tabindex="-1">1、普通全局函数 作为类的友元 <a class="header-anchor" href="#_1、普通全局函数-作为类的友元" aria-label="Permalink to &quot;1、普通全局函数 作为类的友元&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Room</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">friend</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">visiting01</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">Room</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">room</span><span style="color:#ADBAC7;">);</span><span style="color:#768390;"> //普通全局函数 作为类的友元</span></span>
<span class="line"><span style="color:#F47067;">private:</span></span>
<span class="line"><span style="color:#ADBAC7;">    string bedRoom;</span><span style="color:#768390;">//卧室</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    string setingRoom;</span><span style="color:#768390;">//客厅</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Room</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">string</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">bedRoom</span><span style="color:#ADBAC7;">, </span><span style="color:#F69D50;">string</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">setingRoom</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;bedRoom </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> bedRoom;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;setingRoom </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> setingRoom;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">//普通全局函数</span></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">visiting01</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">Room</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">room</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;访问了&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">room.setingRoom</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;访问了&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">room.bedRoom</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span><span style="color:#768390;">  // 有friend就可以访问</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">main</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">argc</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">argv</span><span style="color:#ADBAC7;">[])</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    Room </span><span style="color:#DCBDFB;">room</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;刘坤卧室&quot;</span><span style="color:#ADBAC7;">,</span><span style="color:#96D0FF;">&quot;刘坤客厅&quot;</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">visiting01</span><span style="color:#ADBAC7;">(room);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Room</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">friend</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">visiting01</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">Room</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">room</span><span style="color:#24292E;">);</span><span style="color:#6A737D;"> //普通全局函数 作为类的友元</span></span>
<span class="line"><span style="color:#D73A49;">private:</span></span>
<span class="line"><span style="color:#24292E;">    string bedRoom;</span><span style="color:#6A737D;">//卧室</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    string setingRoom;</span><span style="color:#6A737D;">//客厅</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Room</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">string</span><span style="color:#24292E;"> </span><span style="color:#E36209;">bedRoom</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">string</span><span style="color:#24292E;"> </span><span style="color:#E36209;">setingRoom</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;bedRoom </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> bedRoom;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;setingRoom </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> setingRoom;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//普通全局函数</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">visiting01</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">Room</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">room</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;访问了&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">room.setingRoom</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;访问了&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">room.bedRoom</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span><span style="color:#6A737D;">  // 有friend就可以访问</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">argc</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">argv</span><span style="color:#24292E;">[])</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    Room </span><span style="color:#6F42C1;">room</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;刘坤卧室&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;刘坤客厅&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">visiting01</span><span style="color:#24292E;">(room);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="_2、类的某个成员函数-作为另一个类的友元" tabindex="-1">2、类的某个成员函数 作为另一个类的友元 <a class="header-anchor" href="#_2、类的某个成员函数-作为另一个类的友元" aria-label="Permalink to &quot;2、类的某个成员函数 作为另一个类的友元&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Room</span><span style="color:#ADBAC7;">;</span><span style="color:#768390;">//向前声明 只能说明类名称</span></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">goodGay</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">visiting01</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">Room</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">room</span><span style="color:#ADBAC7;">);</span><span style="color:#768390;">  // 有Room 要向前声明</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">visiting02</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">Room</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">room</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Room</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">friend</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">goodGay</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">visiting02</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">Room</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">room</span><span style="color:#ADBAC7;">);</span><span style="color:#768390;">  // 成员函数 作为另一个类的友元</span></span>
<span class="line"><span style="color:#F47067;">private:</span></span>
<span class="line"><span style="color:#ADBAC7;">    string bedRoom;</span><span style="color:#768390;">//卧室</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    string setingRoom;</span><span style="color:#768390;">//客厅</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Room</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">string</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">bedRoom</span><span style="color:#ADBAC7;">, </span><span style="color:#F69D50;">string</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">setingRoom</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;bedRoom </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> bedRoom;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;setingRoom </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> setingRoom;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">goodGay</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">visiting01</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">Room</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">room</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;翰文访问了&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">room.setingRoom</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;翰文访问了&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">room.bedRoom</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">goodGay</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">visiting02</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">Room</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">room</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;好基友张三访问了&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">room.setingRoom</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">   cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;好基友张三访问了&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">room.bedRoom</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">main</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">argc</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">argv</span><span style="color:#ADBAC7;">[])</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    Room </span><span style="color:#DCBDFB;">room</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;吴维的卧室&quot;</span><span style="color:#ADBAC7;">,</span><span style="color:#96D0FF;">&quot;吴维的客厅&quot;</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    goodGay ob;</span></span>
<span class="line"><span style="color:#ADBAC7;">    ob.</span><span style="color:#DCBDFB;">visiting01</span><span style="color:#ADBAC7;">(room);</span></span>
<span class="line"><span style="color:#ADBAC7;">    ob.</span><span style="color:#DCBDFB;">visiting02</span><span style="color:#ADBAC7;">(room);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Room</span><span style="color:#24292E;">;</span><span style="color:#6A737D;">//向前声明 只能说明类名称</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">goodGay</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">visiting01</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">Room</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">room</span><span style="color:#24292E;">);</span><span style="color:#6A737D;">  // 有Room 要向前声明</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">visiting02</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">Room</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">room</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Room</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">friend</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">goodGay</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">visiting02</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">Room</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">room</span><span style="color:#24292E;">);</span><span style="color:#6A737D;">  // 成员函数 作为另一个类的友元</span></span>
<span class="line"><span style="color:#D73A49;">private:</span></span>
<span class="line"><span style="color:#24292E;">    string bedRoom;</span><span style="color:#6A737D;">//卧室</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    string setingRoom;</span><span style="color:#6A737D;">//客厅</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Room</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">string</span><span style="color:#24292E;"> </span><span style="color:#E36209;">bedRoom</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">string</span><span style="color:#24292E;"> </span><span style="color:#E36209;">setingRoom</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;bedRoom </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> bedRoom;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;setingRoom </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> setingRoom;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">goodGay</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">visiting01</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">Room</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">room</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;翰文访问了&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">room.setingRoom</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;翰文访问了&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">room.bedRoom</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">goodGay</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">visiting02</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">Room</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">room</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;好基友张三访问了&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">room.setingRoom</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">   cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;好基友张三访问了&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">room.bedRoom</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">argc</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">argv</span><span style="color:#24292E;">[])</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    Room </span><span style="color:#6F42C1;">room</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;吴维的卧室&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;吴维的客厅&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    goodGay ob;</span></span>
<span class="line"><span style="color:#24292E;">    ob.</span><span style="color:#6F42C1;">visiting01</span><span style="color:#24292E;">(room);</span></span>
<span class="line"><span style="color:#24292E;">    ob.</span><span style="color:#6F42C1;">visiting02</span><span style="color:#24292E;">(room);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#adbac7;">翰文访问了吴维的客厅</span></span>
<span class="line"><span style="color:#adbac7;">好基友张三访问了吴维的客厅</span></span>
<span class="line"><span style="color:#adbac7;">好基友张三访问了吴维的卧室</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">翰文访问了吴维的客厅</span></span>
<span class="line"><span style="color:#24292e;">好基友张三访问了吴维的客厅</span></span>
<span class="line"><span style="color:#24292e;">好基友张三访问了吴维的卧室</span></span></code></pre></div><h3 id="_3、整个类作为-另一个类的友元" tabindex="-1">3、整个类作为 另一个类的友元 <a class="header-anchor" href="#_3、整个类作为-另一个类的友元" aria-label="Permalink to &quot;3、整个类作为 另一个类的友元&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Room</span><span style="color:#ADBAC7;">;</span><span style="color:#768390;">//向前声明 只能说明类名称</span></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">goodGay</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">visiting01</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">Room</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">room</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">visiting02</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">Room</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">room</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Room</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">friend</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">goodGay</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#F47067;">private:</span></span>
<span class="line"><span style="color:#ADBAC7;">    string bedRoom;</span><span style="color:#768390;">//卧室</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    string setingRoom;</span><span style="color:#768390;">//客厅</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Room</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">string</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">bedRoom</span><span style="color:#ADBAC7;">, </span><span style="color:#F69D50;">string</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">setingRoom</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;bedRoom </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> bedRoom;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;setingRoom </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> setingRoom;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">main</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">argc</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">argv</span><span style="color:#ADBAC7;">[])</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    Room </span><span style="color:#DCBDFB;">room</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;吴维的卧室&quot;</span><span style="color:#ADBAC7;">,</span><span style="color:#96D0FF;">&quot;吴维的客厅&quot;</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    goodGay ob;</span></span>
<span class="line"><span style="color:#ADBAC7;">    ob.</span><span style="color:#DCBDFB;">visiting01</span><span style="color:#ADBAC7;">(room);</span></span>
<span class="line"><span style="color:#ADBAC7;">    ob.</span><span style="color:#DCBDFB;">visiting02</span><span style="color:#ADBAC7;">(room);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">goodGay</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">visiting01</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">Room</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">room</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;翰文访问了&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">room.setingRoom</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;翰文访问了&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">room.bedRoom</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">goodGay</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">visiting02</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">Room</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">room</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;好基友张三访问了&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">room.setingRoom</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;好基友张三访问了&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">room.bedRoom</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Room</span><span style="color:#24292E;">;</span><span style="color:#6A737D;">//向前声明 只能说明类名称</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">goodGay</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">visiting01</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">Room</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">room</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">visiting02</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">Room</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">room</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Room</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">friend</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">goodGay</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">private:</span></span>
<span class="line"><span style="color:#24292E;">    string bedRoom;</span><span style="color:#6A737D;">//卧室</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    string setingRoom;</span><span style="color:#6A737D;">//客厅</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Room</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">string</span><span style="color:#24292E;"> </span><span style="color:#E36209;">bedRoom</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">string</span><span style="color:#24292E;"> </span><span style="color:#E36209;">setingRoom</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;bedRoom </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> bedRoom;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;setingRoom </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> setingRoom;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">argc</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">argv</span><span style="color:#24292E;">[])</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    Room </span><span style="color:#6F42C1;">room</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;吴维的卧室&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;吴维的客厅&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    goodGay ob;</span></span>
<span class="line"><span style="color:#24292E;">    ob.</span><span style="color:#6F42C1;">visiting01</span><span style="color:#24292E;">(room);</span></span>
<span class="line"><span style="color:#24292E;">    ob.</span><span style="color:#6F42C1;">visiting02</span><span style="color:#24292E;">(room);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">goodGay</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">visiting01</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">Room</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">room</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;翰文访问了&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">room.setingRoom</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;翰文访问了&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">room.bedRoom</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">goodGay</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">visiting02</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">Room</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">room</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;好基友张三访问了&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">room.setingRoom</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;好基友张三访问了&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">room.bedRoom</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#ADBAC7;">翰文访问了吴维的客厅</span></span>
<span class="line"><span style="color:#ADBAC7;">翰文访问了吴维的卧室</span></span>
<span class="line"><span style="color:#ADBAC7;">好基友张三访问了吴维的客厅</span></span>
<span class="line"><span style="color:#ADBAC7;">好基友张三访问了吴维的卧室</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">翰文访问了吴维的客厅</span></span>
<span class="line"><span style="color:#24292E;">翰文访问了吴维的卧室</span></span>
<span class="line"><span style="color:#24292E;">好基友张三访问了吴维的客厅</span></span>
<span class="line"><span style="color:#24292E;">好基友张三访问了吴维的卧室</span></span></code></pre></div><h3 id="_4、友元的注意" tabindex="-1">4、友元的注意 <a class="header-anchor" href="#_4、友元的注意" aria-label="Permalink to &quot;4、友元的注意&quot;">​</a></h3><p>1．友元关系不能被继承。</p><p>2．友元关系是单向的，类A是类B的朋友，但类B不一定是类A的朋友。</p><p>3．友元关系不具有传递性。类B是类A的朋友，类C是类B的朋友，但类C不一定是类A的朋友</p><h3 id="友元案例-遥控器的类" tabindex="-1">友元案例（遥控器的类） <a class="header-anchor" href="#友元案例-遥控器的类" aria-label="Permalink to &quot;友元案例（遥控器的类）&quot;">​</a></h3><p>请编写电视机类，电视机有开机和关机状态，有音量，有频道，提供音量操作的方法，频道操作的方法。由于电视机只能逐一调整频道，不能指定频道，增加遥控类，遥控类除了拥有电视机已有的功能，再增加根据输入调台功能。</p><p>提示：遥控器可作为电视机类的友元类</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">#include</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">using</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">namespace</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">std</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">TV</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Remote</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">private:</span></span>
<span class="line"><span style="color:#ADBAC7;">    TV </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">p;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Remote</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">TV</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">p</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">offOrOn</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">upVolume</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">downVolume</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">upChannel</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">downChannel</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">showTv</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">setChannel</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">channel</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">TV</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">   </span><span style="color:#F47067;">friend</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Remote</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">setChannel</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">channel</span><span style="color:#ADBAC7;">);</span><span style="color:#768390;">  // 遥控器要去操作TV的频道</span></span>
<span class="line"><span style="color:#ADBAC7;">   </span><span style="color:#F47067;">enum</span><span style="color:#ADBAC7;">{</span><span style="color:#6CB6FF;">OFF</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">ON</span><span style="color:#ADBAC7;">};</span></span>
<span class="line"><span style="color:#ADBAC7;">   </span><span style="color:#F47067;">enum</span><span style="color:#ADBAC7;">{</span><span style="color:#6CB6FF;">minVol</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">maxVol</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">};</span></span>
<span class="line"><span style="color:#ADBAC7;">   </span><span style="color:#F47067;">enum</span><span style="color:#ADBAC7;">{</span><span style="color:#6CB6FF;">minChan</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">maxChan</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">25</span><span style="color:#ADBAC7;">};</span></span>
<span class="line"><span style="color:#F47067;">private:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> state;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> volume;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> channel;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">TV</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        state </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> OFF;</span></span>
<span class="line"><span style="color:#ADBAC7;">        volume </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> minVol;</span></span>
<span class="line"><span style="color:#ADBAC7;">        channel </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> minChan;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">offOrOn</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">upVolume</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">downVolume</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">upChannel</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">downChannel</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">showTv</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">using</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">namespace</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">std</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">TV</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Remote</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">private:</span></span>
<span class="line"><span style="color:#24292E;">    TV </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">p;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Remote</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">TV</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">p</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">offOrOn</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">upVolume</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">downVolume</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">upChannel</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">downChannel</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">showTv</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setChannel</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">channel</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">TV</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">friend</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Remote</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">setChannel</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">channel</span><span style="color:#24292E;">);</span><span style="color:#6A737D;">  // 遥控器要去操作TV的频道</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">enum</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">OFF</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">ON</span><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">enum</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">minVol</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">maxVol</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">enum</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">minChan</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">maxChan</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">25</span><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#D73A49;">private:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> state;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> volume;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> channel;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">TV</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        state </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> OFF;</span></span>
<span class="line"><span style="color:#24292E;">        volume </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> minVol;</span></span>
<span class="line"><span style="color:#24292E;">        channel </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> minChan;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">offOrOn</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">upVolume</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">downVolume</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">upChannel</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">downChannel</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">showTv</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre></div><h4 id="offoron" tabindex="-1">offOrOn <a class="header-anchor" href="#offoron" aria-label="Permalink to &quot;offOrOn&quot;">​</a></h4><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">TV</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">offOrOn</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    state </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> (state</span><span style="color:#F47067;">==</span><span style="color:#ADBAC7;">OFF</span><span style="color:#F47067;">?</span><span style="color:#ADBAC7;">ON</span><span style="color:#F47067;">:</span><span style="color:#ADBAC7;">OFF);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">TV</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">offOrOn</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    state </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (state</span><span style="color:#D73A49;">==</span><span style="color:#24292E;">OFF</span><span style="color:#D73A49;">?</span><span style="color:#24292E;">ON</span><span style="color:#D73A49;">:</span><span style="color:#24292E;">OFF);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="upvolume" tabindex="-1">upVolume <a class="header-anchor" href="#upvolume" aria-label="Permalink to &quot;upVolume&quot;">​</a></h4><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">TV</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">upVolume</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(volume </span><span style="color:#F47067;">==</span><span style="color:#ADBAC7;"> maxVol)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;音量已经最大了&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    volume</span><span style="color:#F47067;">++</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">TV</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">upVolume</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(volume </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> maxVol)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;音量已经最大了&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    volume</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="downvolume" tabindex="-1">downVolume <a class="header-anchor" href="#downvolume" aria-label="Permalink to &quot;downVolume&quot;">​</a></h4><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">TV</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">downVolume</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(volume </span><span style="color:#F47067;">==</span><span style="color:#ADBAC7;"> minVol)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;音量已经最小了&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    volume</span><span style="color:#F47067;">--</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">TV</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">downVolume</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(volume </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> minVol)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;音量已经最小了&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    volume</span><span style="color:#D73A49;">--</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="upchannel" tabindex="-1">upChannel <a class="header-anchor" href="#upchannel" aria-label="Permalink to &quot;upChannel&quot;">​</a></h4><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">TV</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">upChannel</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(channel </span><span style="color:#F47067;">==</span><span style="color:#ADBAC7;"> maxChan)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;频道已经最大了&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    channel</span><span style="color:#F47067;">++</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">TV</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">downChannel</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(channel </span><span style="color:#F47067;">==</span><span style="color:#ADBAC7;"> minChan)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;频道已经最小了&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    channel</span><span style="color:#F47067;">--</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">TV</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">upChannel</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(channel </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> maxChan)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;频道已经最大了&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    channel</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">TV</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">downChannel</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(channel </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> minChan)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;频道已经最小了&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    channel</span><span style="color:#D73A49;">--</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="showtv" tabindex="-1">showTv <a class="header-anchor" href="#showtv" aria-label="Permalink to &quot;showTv&quot;">​</a></h4><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">TV</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">showTv</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;当前电视机的状态:&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">(state</span><span style="color:#F47067;">==</span><span style="color:#ADBAC7;">OFF</span><span style="color:#F47067;">?</span><span style="color:#96D0FF;">&quot;关&quot;</span><span style="color:#F47067;">:</span><span style="color:#96D0FF;">&quot;开&quot;</span><span style="color:#ADBAC7;">)</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;当前电视机的音量:&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">volume</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;当前电视机的频道:&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">channel</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">TV</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">showTv</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;当前电视机的状态:&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">(state</span><span style="color:#D73A49;">==</span><span style="color:#24292E;">OFF</span><span style="color:#D73A49;">?</span><span style="color:#032F62;">&quot;关&quot;</span><span style="color:#D73A49;">:</span><span style="color:#032F62;">&quot;开&quot;</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;当前电视机的音量:&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">volume</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;当前电视机的频道:&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">channel</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="remote" tabindex="-1">Remote <a class="header-anchor" href="#remote" aria-label="Permalink to &quot;Remote&quot;">​</a></h4><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F69D50;">Remote</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">Remote</span><span style="color:#ADBAC7;">(TV </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">p)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;p </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> p;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Remote</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">offOrOn</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    p-&gt;</span><span style="color:#DCBDFB;">offOrOn</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Remote</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">upVolume</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    p-&gt;</span><span style="color:#DCBDFB;">upVolume</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Remote</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">downVolume</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    p-&gt;</span><span style="color:#DCBDFB;">downVolume</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Remote</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">upChannel</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    p-&gt;</span><span style="color:#DCBDFB;">upChannel</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Remote</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">downChannel</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    p-&gt;</span><span style="color:#DCBDFB;">downChannel</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Remote</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">showTv</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    p-&gt;</span><span style="color:#DCBDFB;">showTv</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Remote</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">setChannel</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">channel</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    p-&gt;channel </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> channel;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">Remote</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">Remote</span><span style="color:#24292E;">(TV </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">p)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;p </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> p;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Remote</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">offOrOn</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    p-&gt;</span><span style="color:#6F42C1;">offOrOn</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Remote</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">upVolume</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    p-&gt;</span><span style="color:#6F42C1;">upVolume</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Remote</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">downVolume</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    p-&gt;</span><span style="color:#6F42C1;">downVolume</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Remote</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">upChannel</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    p-&gt;</span><span style="color:#6F42C1;">upChannel</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Remote</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">downChannel</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    p-&gt;</span><span style="color:#6F42C1;">downChannel</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Remote</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">showTv</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    p-&gt;</span><span style="color:#6F42C1;">showTv</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Remote</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">setChannel</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">channel</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    p-&gt;channel </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> channel;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="main" tabindex="-1">main <a class="header-anchor" href="#main" aria-label="Permalink to &quot;main&quot;">​</a></h4><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">main</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">argc</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">argv</span><span style="color:#ADBAC7;">[])</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#768390;">    //实例化一个电视机</span></span>
<span class="line"><span style="color:#ADBAC7;">    TV tv;</span></span>
<span class="line"><span style="color:#ADBAC7;">    Remote </span><span style="color:#DCBDFB;">re</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">&amp;</span><span style="color:#ADBAC7;">tv);</span><span style="color:#768390;"> // Remote(TV *p); 所以要传地址</span></span>
<span class="line"><span style="color:#ADBAC7;">    re.</span><span style="color:#DCBDFB;">offOrOn</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    re.</span><span style="color:#DCBDFB;">upVolume</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    re.</span><span style="color:#DCBDFB;">upVolume</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    re.</span><span style="color:#DCBDFB;">upVolume</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    re.</span><span style="color:#DCBDFB;">setChannel</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    re.</span><span style="color:#DCBDFB;">showTv</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">argc</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">argv</span><span style="color:#24292E;">[])</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#6A737D;">    //实例化一个电视机</span></span>
<span class="line"><span style="color:#24292E;">    TV tv;</span></span>
<span class="line"><span style="color:#24292E;">    Remote </span><span style="color:#6F42C1;">re</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;">tv);</span><span style="color:#6A737D;"> // Remote(TV *p); 所以要传地址</span></span>
<span class="line"><span style="color:#24292E;">    re.</span><span style="color:#6F42C1;">offOrOn</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    re.</span><span style="color:#6F42C1;">upVolume</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    re.</span><span style="color:#6F42C1;">upVolume</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    re.</span><span style="color:#6F42C1;">upVolume</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    re.</span><span style="color:#6F42C1;">setChannel</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    re.</span><span style="color:#6F42C1;">showTv</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="_5、设计动态数组类" tabindex="-1">5、设计动态数组类 <a class="header-anchor" href="#_5、设计动态数组类" aria-label="Permalink to &quot;5、设计动态数组类&quot;">​</a></h3><p>相当于数组达到最大限度时 会自行扩充然后复制</p><p><img src="https://cdn.staticaly.com/gh/clint-sfy/blogcdn@master/img/c_plus/%E7%B1%BB10.png" alt=""></p><h4 id="array-h" tabindex="-1">array.h <a class="header-anchor" href="#array-h" aria-label="Permalink to &quot;array.h&quot;">​</a></h4><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">#ifndef</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">ARRAY_H</span></span>
<span class="line"><span style="color:#F47067;">#define</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">ARRAY_H</span></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Array</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">private:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">arr;</span><span style="color:#768390;">//存放首元素地址</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> capacity;</span><span style="color:#768390;">//容量</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> size;</span><span style="color:#768390;">//大小</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Array</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Array</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">capacity</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Array</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">const</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Array</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">ob</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">~Array</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">getCapacity</span><span style="color:#ADBAC7;">() </span><span style="color:#F47067;">const</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">getSize</span><span style="color:#ADBAC7;">() </span><span style="color:#F47067;">const</span><span style="color:#ADBAC7;">;</span><span style="color:#768390;">  // 不允许成员赋值！</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">printArray</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">    //插入尾部元素</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">pushBack</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">elem</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#768390;">    //删除尾部元素</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">popBack</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#DCBDFB;">at</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">pos</span><span style="color:#ADBAC7;">);</span><span style="color:#768390;">  // 访问arr[pos] 相当于 *(arr+pos) </span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">#endif</span><span style="color:#768390;"> // ARRAY_H</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#ifndef</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ARRAY_H</span></span>
<span class="line"><span style="color:#D73A49;">#define</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ARRAY_H</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Array</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">private:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">arr;</span><span style="color:#6A737D;">//存放首元素地址</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> capacity;</span><span style="color:#6A737D;">//容量</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> size;</span><span style="color:#6A737D;">//大小</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Array</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Array</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">capacity</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Array</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Array</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">ob</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">~Array</span><span style="color:#24292E;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getCapacity</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">const</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getSize</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">const</span><span style="color:#24292E;">;</span><span style="color:#6A737D;">  // 不允许成员赋值！</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">printArray</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    //插入尾部元素</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">pushBack</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">elem</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#6A737D;">    //删除尾部元素</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">popBack</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#6F42C1;">at</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">pos</span><span style="color:#24292E;">);</span><span style="color:#6A737D;">  // 访问arr[pos] 相当于 *(arr+pos) </span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">#endif</span><span style="color:#6A737D;"> // ARRAY_H</span></span></code></pre></div><h4 id="array-cpp" tabindex="-1">array.cpp <a class="header-anchor" href="#array-cpp" aria-label="Permalink to &quot;array.cpp&quot;">​</a></h4><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">#include</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;array.h&quot;</span></span>
<span class="line"><span style="color:#F47067;">#include</span><span style="color:#96D0FF;">&lt;string.h&gt;</span></span>
<span class="line"><span style="color:#F47067;">#include</span><span style="color:#96D0FF;">&lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">using</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">namespace</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">std</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Array</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">getCapacity</span><span style="color:#ADBAC7;">() </span><span style="color:#F47067;">const</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> capacity;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Array</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">getSize</span><span style="color:#ADBAC7;">() </span><span style="color:#F47067;">const</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> size;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Array</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">printArray</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> i</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">for</span><span style="color:#ADBAC7;">(i</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;i</span><span style="color:#F47067;">&lt;</span><span style="color:#ADBAC7;">size; i</span><span style="color:#F47067;">++</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">arr[i]</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot; &quot;</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Array</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">pushBack</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">elem</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#768390;">    //判断容器是否满</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(size </span><span style="color:#F47067;">==</span><span style="color:#ADBAC7;"> capacity)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#768390;">        //申请空间</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">tmp </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;">[</span><span style="color:#6CB6FF;">2</span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">capacity];</span></span>
<span class="line"><span style="color:#768390;">        //将就空间的内容 拷贝到新空间</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#DCBDFB;">memcpy</span><span style="color:#ADBAC7;">(tmp, arr, capacity</span><span style="color:#F47067;">*sizeof</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;">));</span></span>
<span class="line"><span style="color:#768390;">        //释放原有的空间</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">delete []</span><span style="color:#ADBAC7;"> arr;</span></span>
<span class="line"><span style="color:#768390;">        //更新arr的空间</span></span>
<span class="line"><span style="color:#ADBAC7;">        arr </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> tmp;</span></span>
<span class="line"><span style="color:#768390;">        //更新容量</span></span>
<span class="line"><span style="color:#ADBAC7;">        capacity </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">2</span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">capacity;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    arr[size]</span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;">elem;</span></span>
<span class="line"><span style="color:#ADBAC7;">    size</span><span style="color:#F47067;">++</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Array</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">popBack</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(size </span><span style="color:#F47067;">==</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;容量为空&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">else</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        size</span><span style="color:#F47067;">--</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">int&amp;</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Array</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">at</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">pos</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(pos</span><span style="color:#F47067;">&lt;</span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">||</span><span style="color:#ADBAC7;"> pos </span><span style="color:#F47067;">&gt;=</span><span style="color:#ADBAC7;">size)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;访问违法内存&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#DCBDFB;">exit</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">-</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> arr[pos];</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F69D50;">Array</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">Array</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    capacity </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">5</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    size </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    arr </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;">[capacity];</span></span>
<span class="line"><span style="color:#768390;">    //空间清0</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">memset</span><span style="color:#ADBAC7;">(arr, </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">sizeof</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;">)</span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">capacity);</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F69D50;">Array</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">Array</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> capacity)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;capacity </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> capacity;</span></span>
<span class="line"><span style="color:#ADBAC7;">    size </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    arr  </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;">[capacity];</span></span>
<span class="line"><span style="color:#768390;">    //空间清0</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">memset</span><span style="color:#ADBAC7;">(arr, </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">sizeof</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;">)</span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">capacity);</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F69D50;">Array</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">Array</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">const</span><span style="color:#ADBAC7;"> Array </span><span style="color:#F47067;">&amp;</span><span style="color:#ADBAC7;">ob)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    capacity </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> ob.capacity;</span></span>
<span class="line"><span style="color:#ADBAC7;">    size </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> ob.size;</span></span>
<span class="line"><span style="color:#768390;">    //深拷贝</span></span>
<span class="line"><span style="color:#ADBAC7;">    arr </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;">[capacity];</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">memcpy</span><span style="color:#ADBAC7;">(arr, ob.arr, </span><span style="color:#F47067;">sizeof</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;">)</span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">capacity);</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F69D50;">Array</span><span style="color:#ADBAC7;">::</span><span style="color:#F47067;">~</span><span style="color:#DCBDFB;">Array</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(arr </span><span style="color:#F47067;">!=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">NULL</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">delete []</span><span style="color:#ADBAC7;"> arr;</span></span>
<span class="line"><span style="color:#ADBAC7;">        arr </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">NULL</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;array.h&quot;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#032F62;">&lt;string.h&gt;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#032F62;">&lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">using</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">namespace</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">std</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Array</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">getCapacity</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">const</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> capacity;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Array</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">getSize</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">const</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> size;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Array</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">printArray</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> i</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">for</span><span style="color:#24292E;">(i</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;i</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">size; i</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">arr[i]</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot; &quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Array</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">pushBack</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">elem</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#6A737D;">    //判断容器是否满</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(size </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> capacity)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#6A737D;">        //申请空间</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">tmp </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;">[</span><span style="color:#005CC5;">2</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">capacity];</span></span>
<span class="line"><span style="color:#6A737D;">        //将就空间的内容 拷贝到新空间</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">memcpy</span><span style="color:#24292E;">(tmp, arr, capacity</span><span style="color:#D73A49;">*sizeof</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;">));</span></span>
<span class="line"><span style="color:#6A737D;">        //释放原有的空间</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">delete []</span><span style="color:#24292E;"> arr;</span></span>
<span class="line"><span style="color:#6A737D;">        //更新arr的空间</span></span>
<span class="line"><span style="color:#24292E;">        arr </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> tmp;</span></span>
<span class="line"><span style="color:#6A737D;">        //更新容量</span></span>
<span class="line"><span style="color:#24292E;">        capacity </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">capacity;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    arr[size]</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">elem;</span></span>
<span class="line"><span style="color:#24292E;">    size</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Array</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">popBack</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(size </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;容量为空&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">else</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        size</span><span style="color:#D73A49;">--</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">int&amp;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Array</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">at</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">pos</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(pos</span><span style="color:#D73A49;">&lt;</span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> pos </span><span style="color:#D73A49;">&gt;=</span><span style="color:#24292E;">size)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;访问违法内存&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">exit</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> arr[pos];</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">Array</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">Array</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    capacity </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">5</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    size </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    arr </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;">[capacity];</span></span>
<span class="line"><span style="color:#6A737D;">    //空间清0</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">memset</span><span style="color:#24292E;">(arr, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">sizeof</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">capacity);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">Array</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">Array</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> capacity)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;capacity </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> capacity;</span></span>
<span class="line"><span style="color:#24292E;">    size </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    arr  </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;">[capacity];</span></span>
<span class="line"><span style="color:#6A737D;">    //空间清0</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">memset</span><span style="color:#24292E;">(arr, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">sizeof</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">capacity);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">Array</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">Array</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> Array </span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;">ob)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    capacity </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> ob.capacity;</span></span>
<span class="line"><span style="color:#24292E;">    size </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> ob.size;</span></span>
<span class="line"><span style="color:#6A737D;">    //深拷贝</span></span>
<span class="line"><span style="color:#24292E;">    arr </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;">[capacity];</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">memcpy</span><span style="color:#24292E;">(arr, ob.arr, </span><span style="color:#D73A49;">sizeof</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">capacity);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">Array</span><span style="color:#24292E;">::</span><span style="color:#D73A49;">~</span><span style="color:#6F42C1;">Array</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(arr </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">delete []</span><span style="color:#24292E;"> arr;</span></span>
<span class="line"><span style="color:#24292E;">        arr </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="main-h" tabindex="-1">main.h <a class="header-anchor" href="#main-h" aria-label="Permalink to &quot;main.h&quot;">​</a></h4><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">#include</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&lt;iostream&gt;</span></span>
<span class="line"><span style="color:#F47067;">#include</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;array.h&quot;</span></span>
<span class="line"><span style="color:#F47067;">using</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">namespace</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">std</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">main</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">argc</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">argv</span><span style="color:#ADBAC7;">[])</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    Array ob;</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob.</span><span style="color:#DCBDFB;">getCapacity</span><span style="color:#ADBAC7;">()</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot; &quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob.</span><span style="color:#DCBDFB;">getSize</span><span style="color:#ADBAC7;">()</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    ob.</span><span style="color:#DCBDFB;">pushBack</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    ob.</span><span style="color:#DCBDFB;">pushBack</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    ob.</span><span style="color:#DCBDFB;">pushBack</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">30</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    ob.</span><span style="color:#DCBDFB;">pushBack</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">40</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    ob.</span><span style="color:#DCBDFB;">printArray</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob.</span><span style="color:#DCBDFB;">getCapacity</span><span style="color:#ADBAC7;">()</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot; &quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob.</span><span style="color:#DCBDFB;">getSize</span><span style="color:#ADBAC7;">()</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    ob.</span><span style="color:#DCBDFB;">pushBack</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">50</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    ob.</span><span style="color:#DCBDFB;">pushBack</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">60</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    ob.</span><span style="color:#DCBDFB;">printArray</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob.</span><span style="color:#DCBDFB;">getCapacity</span><span style="color:#ADBAC7;">()</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot; &quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob.</span><span style="color:#DCBDFB;">getSize</span><span style="color:#ADBAC7;">()</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    ob.</span><span style="color:#DCBDFB;">popBack</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    ob.</span><span style="color:#DCBDFB;">popBack</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    ob.</span><span style="color:#DCBDFB;">printArray</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob.</span><span style="color:#DCBDFB;">getCapacity</span><span style="color:#ADBAC7;">()</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot; &quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob.</span><span style="color:#DCBDFB;">getSize</span><span style="color:#ADBAC7;">()</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;arr[2] = &quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob.</span><span style="color:#DCBDFB;">at</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">2</span><span style="color:#ADBAC7;">)</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    ob.</span><span style="color:#DCBDFB;">at</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">2</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">100</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    ob.</span><span style="color:#DCBDFB;">printArray</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;iostream&gt;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;array.h&quot;</span></span>
<span class="line"><span style="color:#D73A49;">using</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">namespace</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">std</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">argc</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">argv</span><span style="color:#24292E;">[])</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    Array ob;</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob.</span><span style="color:#6F42C1;">getCapacity</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot; &quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob.</span><span style="color:#6F42C1;">getSize</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    ob.</span><span style="color:#6F42C1;">pushBack</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    ob.</span><span style="color:#6F42C1;">pushBack</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    ob.</span><span style="color:#6F42C1;">pushBack</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">30</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    ob.</span><span style="color:#6F42C1;">pushBack</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">40</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    ob.</span><span style="color:#6F42C1;">printArray</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob.</span><span style="color:#6F42C1;">getCapacity</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot; &quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob.</span><span style="color:#6F42C1;">getSize</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    ob.</span><span style="color:#6F42C1;">pushBack</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">50</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    ob.</span><span style="color:#6F42C1;">pushBack</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">60</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    ob.</span><span style="color:#6F42C1;">printArray</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob.</span><span style="color:#6F42C1;">getCapacity</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot; &quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob.</span><span style="color:#6F42C1;">getSize</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    ob.</span><span style="color:#6F42C1;">popBack</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    ob.</span><span style="color:#6F42C1;">popBack</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    ob.</span><span style="color:#6F42C1;">printArray</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob.</span><span style="color:#6F42C1;">getCapacity</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot; &quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob.</span><span style="color:#6F42C1;">getSize</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;arr[2] = &quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob.</span><span style="color:#6F42C1;">at</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    ob.</span><span style="color:#6F42C1;">at</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">100</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    ob.</span><span style="color:#6F42C1;">printArray</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="_19-运算符重载-operator" tabindex="-1">19. 运算符重载 operator <a class="header-anchor" href="#_19-运算符重载-operator" aria-label="Permalink to &quot;19. 运算符重载 operator&quot;">​</a></h2><p>运算符重载 是对已有的运算符 指定新功能。不能创建新运算。</p><p>运算符重载关键字operator</p><p><strong>思路：</strong></p><p>1、弄懂运算符的运算对象的个数。（个数决定了 重载函数的参数个数）</p><p>2、识别运算符左边的运算对象 是类的对象 还是其他.</p><p>类的对象：全局函数实现（不推荐） 成员函数实现（推荐，少一个参数）</p><p>其他：只能是全局函数实现</p><h3 id="_1、重载-运算符-全局函数实现-重载输入" tabindex="-1">1、重载&lt;&lt;运算符（全局函数实现） <strong>重载输入&gt;&gt;</strong> <a class="header-anchor" href="#_1、重载-运算符-全局函数实现-重载输入" aria-label="Permalink to &quot;1、重载&lt;&lt;运算符（全局函数实现） **重载输入&gt;&gt;**&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">#include</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&lt;iostream&gt;</span></span>
<span class="line"><span style="color:#F47067;">#include</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&lt;string&gt;</span></span>
<span class="line"><span style="color:#F47067;">using</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">namespace</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">std</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Person</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#768390;">    // 重载的话 全局函数一定要加友元！！！</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">friend</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">ostream</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">&lt;&lt;</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">ostream</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">out</span><span style="color:#ADBAC7;">, </span><span style="color:#F69D50;">Person</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">ob</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">friend</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">istream</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;operator</span><span style="color:#F69D50;">&gt;&gt;</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">istream</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">in</span><span style="color:#ADBAC7;">, </span><span style="color:#F69D50;">Person</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">ob</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#F47067;">private:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> num;</span></span>
<span class="line"><span style="color:#ADBAC7;">    string name;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">float</span><span style="color:#ADBAC7;"> score;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Person</span><span style="color:#ADBAC7;">(){}</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Person</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">num</span><span style="color:#ADBAC7;">, </span><span style="color:#F69D50;">string</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">name</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">float</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">score</span><span style="color:#ADBAC7;">):</span><span style="color:#DCBDFB;">num</span><span style="color:#ADBAC7;">(num),</span><span style="color:#DCBDFB;">name</span><span style="color:#ADBAC7;">(name),</span><span style="color:#DCBDFB;">score</span><span style="color:#ADBAC7;">(score){}</span></span>
<span class="line"><span style="color:#768390;">    //成员函数重载+   lucy+bob</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F69D50;">Person</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">+</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">Person</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">ob</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        Person tmp;</span></span>
<span class="line"><span style="color:#ADBAC7;">        tmp.num </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;num </span><span style="color:#F47067;">+</span><span style="color:#ADBAC7;"> ob.num;</span></span>
<span class="line"><span style="color:#ADBAC7;">        tmp.name </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;name </span><span style="color:#F47067;">+</span><span style="color:#ADBAC7;"> ob.name;</span></span>
<span class="line"><span style="color:#ADBAC7;">        tmp.score </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;score </span><span style="color:#F47067;">+</span><span style="color:#ADBAC7;"> ob.score;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> tmp;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#768390;">    //成员函数重载==  lucy == bob</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">bool</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">==</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">Person</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">ob</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(num </span><span style="color:#F47067;">==</span><span style="color:#ADBAC7;"> ob.num </span><span style="color:#F47067;">&amp;&amp;</span><span style="color:#ADBAC7;"> name</span><span style="color:#F47067;">==</span><span style="color:#ADBAC7;">ob.name </span><span style="color:#F47067;">&amp;&amp;</span><span style="color:#ADBAC7;"> score</span><span style="color:#F47067;">==</span><span style="color:#ADBAC7;">ob.score)</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">false</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#768390;">    //重载后置++ operator++(a,int)</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F69D50;">Person</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">++</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#768390;">        //先保存 旧的值</span></span>
<span class="line"><span style="color:#ADBAC7;">        Person old </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">;</span><span style="color:#768390;">//*this == lucy</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">        //lucy++ ==&gt; lucy = lucy+1</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;num </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;num </span><span style="color:#F47067;">+</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;name </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;name</span><span style="color:#F47067;">+</span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;name;</span><span style="color:#768390;">//（自定义操作）</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;score </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;score</span><span style="color:#F47067;">+</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> old;</span><span style="color:#768390;">//返回旧值</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#768390;">    //重载前置++ operator++(a)</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F69D50;">Person</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">++</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#768390;">        //先++</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;num </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;num </span><span style="color:#F47067;">+</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;name </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;name</span><span style="color:#F47067;">+</span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;name;</span><span style="color:#768390;">//（自定义操作）</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;score </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;score</span><span style="color:#F47067;">+</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">        //后使用</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;iostream&gt;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;string&gt;</span></span>
<span class="line"><span style="color:#D73A49;">using</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">namespace</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">std</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Person</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#6A737D;">    // 重载的话 全局函数一定要加友元！！！</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">friend</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ostream</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">&lt;&lt;</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">ostream</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">out</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">Person</span><span style="color:#24292E;"> </span><span style="color:#E36209;">ob</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">friend</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">istream</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;operator</span><span style="color:#6F42C1;">&gt;&gt;</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">istream</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">in</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">Person</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">ob</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">private:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> num;</span></span>
<span class="line"><span style="color:#24292E;">    string name;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">float</span><span style="color:#24292E;"> score;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Person</span><span style="color:#24292E;">(){}</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Person</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">num</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">string</span><span style="color:#24292E;"> </span><span style="color:#E36209;">name</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">float</span><span style="color:#24292E;"> </span><span style="color:#E36209;">score</span><span style="color:#24292E;">):</span><span style="color:#6F42C1;">num</span><span style="color:#24292E;">(num),</span><span style="color:#6F42C1;">name</span><span style="color:#24292E;">(name),</span><span style="color:#6F42C1;">score</span><span style="color:#24292E;">(score){}</span></span>
<span class="line"><span style="color:#6A737D;">    //成员函数重载+   lucy+bob</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Person</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">+</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">Person</span><span style="color:#24292E;"> </span><span style="color:#E36209;">ob</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        Person tmp;</span></span>
<span class="line"><span style="color:#24292E;">        tmp.num </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;num </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> ob.num;</span></span>
<span class="line"><span style="color:#24292E;">        tmp.name </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;name </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> ob.name;</span></span>
<span class="line"><span style="color:#24292E;">        tmp.score </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;score </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> ob.score;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> tmp;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#6A737D;">    //成员函数重载==  lucy == bob</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">bool</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">==</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">Person</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">ob</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(num </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> ob.num </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> name</span><span style="color:#D73A49;">==</span><span style="color:#24292E;">ob.name </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> score</span><span style="color:#D73A49;">==</span><span style="color:#24292E;">ob.score)</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#6A737D;">    //重载后置++ operator++(a,int)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Person</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">++</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#6A737D;">        //先保存 旧的值</span></span>
<span class="line"><span style="color:#24292E;">        Person old </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">;</span><span style="color:#6A737D;">//*this == lucy</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">        //lucy++ ==&gt; lucy = lucy+1</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;num </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;num </span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;name </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;name</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;name;</span><span style="color:#6A737D;">//（自定义操作）</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;score </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;score</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> old;</span><span style="color:#6A737D;">//返回旧值</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#6A737D;">    //重载前置++ operator++(a)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Person</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">++</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#6A737D;">        //先++</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;num </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;num </span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;name </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;name</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;name;</span><span style="color:#6A737D;">//（自定义操作）</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;score </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;score</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">        //后使用</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre></div><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F69D50;">ostream</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">&lt;&lt;</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">ostream</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">out</span><span style="color:#ADBAC7;">, </span><span style="color:#F69D50;">Person</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">ob</span><span style="color:#ADBAC7;">)</span><span style="color:#768390;"> // ostream &amp; 输出可以进行链式操作</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#768390;">    // 输出的时候最好不要引用   Person ob</span></span>
<span class="line"><span style="color:#ADBAC7;">    out</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob.num</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot; &quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob.name</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot; &quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob.score</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> out;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#F69D50;">istream</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;operator</span><span style="color:#F69D50;">&gt;&gt;</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">istream</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">in</span><span style="color:#ADBAC7;">, </span><span style="color:#F69D50;">Person</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">ob</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    in</span><span style="color:#F47067;">&gt;&gt;</span><span style="color:#ADBAC7;">ob.num</span><span style="color:#F47067;">&gt;&gt;</span><span style="color:#ADBAC7;">ob.name</span><span style="color:#F47067;">&gt;&gt;</span><span style="color:#ADBAC7;">ob.score;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> in;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">main</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">argc</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">argv</span><span style="color:#ADBAC7;">[])</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    Person </span><span style="color:#DCBDFB;">lucy</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">100</span><span style="color:#ADBAC7;">,</span><span style="color:#96D0FF;">&quot;lucy&quot;</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">88.8</span><span style="color:#F47067;">f</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    Person bob;</span></span>
<span class="line"><span style="color:#768390;">    //先++  后使用</span></span>
<span class="line"><span style="color:#ADBAC7;">    bob </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">++</span><span style="color:#ADBAC7;">lucy;</span><span style="color:#768390;">//</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">bob</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;  </span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">lucy</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span><span style="color:#768390;"> //opreator&lt;&lt;(count,lucy)</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">ostream</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">&lt;&lt;</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">ostream</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">out</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">Person</span><span style="color:#24292E;"> </span><span style="color:#E36209;">ob</span><span style="color:#24292E;">)</span><span style="color:#6A737D;"> // ostream &amp; 输出可以进行链式操作</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#6A737D;">    // 输出的时候最好不要引用   Person ob</span></span>
<span class="line"><span style="color:#24292E;">    out</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob.num</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot; &quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob.name</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot; &quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob.score</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> out;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">istream</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;operator</span><span style="color:#6F42C1;">&gt;&gt;</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">istream</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">in</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">Person</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">ob</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    in</span><span style="color:#D73A49;">&gt;&gt;</span><span style="color:#24292E;">ob.num</span><span style="color:#D73A49;">&gt;&gt;</span><span style="color:#24292E;">ob.name</span><span style="color:#D73A49;">&gt;&gt;</span><span style="color:#24292E;">ob.score;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> in;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">argc</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">argv</span><span style="color:#24292E;">[])</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    Person </span><span style="color:#6F42C1;">lucy</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">100</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;lucy&quot;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">88.8</span><span style="color:#D73A49;">f</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    Person bob;</span></span>
<span class="line"><span style="color:#6A737D;">    //先++  后使用</span></span>
<span class="line"><span style="color:#24292E;">    bob </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">++</span><span style="color:#24292E;">lucy;</span><span style="color:#6A737D;">//</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">bob</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;  </span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">lucy</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span><span style="color:#6A737D;"> //opreator&lt;&lt;(count,lucy)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#adbac7;">100 lucy 88</span></span>
<span class="line"><span style="color:#adbac7;">102 bob 99</span></span>
<span class="line"><span style="color:#adbac7;">100 lucy 88</span></span>
<span class="line"><span style="color:#adbac7;">102 bob 99</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">100 lucy 88</span></span>
<span class="line"><span style="color:#24292e;">102 bob 99</span></span>
<span class="line"><span style="color:#24292e;">100 lucy 88</span></span>
<span class="line"><span style="color:#24292e;">102 bob 99</span></span></code></pre></div><p>如果使用全局函数 重载运算符 必须将全局函数设置成友元。</p><p><img src="https://cdn.staticaly.com/gh/clint-sfy/blogcdn@master/img/c_plus/%E7%B1%BB12.png" alt=""></p><h3 id="_3、可以重载的运算符" tabindex="-1">3、可以重载的运算符 <a class="header-anchor" href="#_3、可以重载的运算符" aria-label="Permalink to &quot;3、可以重载的运算符&quot;">​</a></h3><p><img src="https://cdn.staticaly.com/gh/clint-sfy/blogcdn@master/img/c_plus/%E7%B1%BB11.png" alt=""></p><h2 id="_20-强化string类" tabindex="-1">20. 强化string类 <a class="header-anchor" href="#_20-强化string类" aria-label="Permalink to &quot;20. 强化string类&quot;">​</a></h2><h3 id="mystring-h" tabindex="-1">Mystring.h <a class="header-anchor" href="#mystring-h" aria-label="Permalink to &quot;Mystring.h&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">#ifndef</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">MYSTRING_H</span></span>
<span class="line"><span style="color:#F47067;">#define</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">MYSTRING_H</span></span>
<span class="line"><span style="color:#F47067;">#include</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&lt;iostream&gt;</span></span>
<span class="line"><span style="color:#F47067;">using</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">namespace</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">std</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">MyString</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">friend</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">ostream</span><span style="color:#F47067;">&amp;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">&lt;&lt;</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">ostream</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">out</span><span style="color:#ADBAC7;">, </span><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">ob</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">friend</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">istream</span><span style="color:#F47067;">&amp;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">&gt;&gt;</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">istream</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">in</span><span style="color:#ADBAC7;">, </span><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">ob</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#F47067;">private:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">str;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> size;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">MyString</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">MyString</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">str</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">MyString</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">const</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">ob</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">~MyString</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">getSize</span><span style="color:#ADBAC7;">() </span><span style="color:#F47067;">const</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#768390;">    //成员函数重载[]</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">char&amp;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">[]</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">pos</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">+</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">ob</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">+</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">str</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">    // 将一个字符串拷贝给 当前Mystring 要深拷贝</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F69D50;">MyString</span><span style="color:#F47067;">&amp;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">=</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">ob</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F69D50;">MyString</span><span style="color:#F47067;">&amp;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">=</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">str</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">bool</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">&gt;</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">ob</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">bool</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">&gt;</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">str</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390;">//    bool operator&lt;(MyString ob);</span></span>
<span class="line"><span style="color:#768390;">//    bool operator&lt;(char *str);</span></span>
<span class="line"><span style="color:#768390;">//    bool operator==(MyString ob);</span></span>
<span class="line"><span style="color:#768390;">//    bool operator==(char *str);</span></span>
<span class="line"><span style="color:#768390;">//    bool operator!=(MyString ob);</span></span>
<span class="line"><span style="color:#768390;">//    bool operator!=(char *str);</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">#endif</span><span style="color:#768390;"> // MYSTRING_H</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#ifndef</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MYSTRING_H</span></span>
<span class="line"><span style="color:#D73A49;">#define</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MYSTRING_H</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;iostream&gt;</span></span>
<span class="line"><span style="color:#D73A49;">using</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">namespace</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">std</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MyString</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">friend</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ostream</span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">&lt;&lt;</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">ostream</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">out</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;"> </span><span style="color:#E36209;">ob</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">friend</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">istream</span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">&gt;&gt;</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">istream</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">in</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">ob</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">private:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">str;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> size;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">str</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">ob</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">~MyString</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getSize</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">const</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#6A737D;">    //成员函数重载[]</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">char&amp;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">[]</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">pos</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">+</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;"> </span><span style="color:#E36209;">ob</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">+</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">str</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    // 将一个字符串拷贝给 当前Mystring 要深拷贝</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">MyString</span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">=</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;"> </span><span style="color:#E36209;">ob</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">MyString</span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">=</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">str</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">bool</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">&gt;</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;"> </span><span style="color:#E36209;">ob</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">bool</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">&gt;</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">str</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//    bool operator&lt;(MyString ob);</span></span>
<span class="line"><span style="color:#6A737D;">//    bool operator&lt;(char *str);</span></span>
<span class="line"><span style="color:#6A737D;">//    bool operator==(MyString ob);</span></span>
<span class="line"><span style="color:#6A737D;">//    bool operator==(char *str);</span></span>
<span class="line"><span style="color:#6A737D;">//    bool operator!=(MyString ob);</span></span>
<span class="line"><span style="color:#6A737D;">//    bool operator!=(char *str);</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">#endif</span><span style="color:#6A737D;"> // MYSTRING_H</span></span></code></pre></div><h3 id="_1、构造和析构函数" tabindex="-1"><strong>1、构造和析构函数</strong> <a class="header-anchor" href="#_1、构造和析构函数" aria-label="Permalink to &quot;**1、构造和析构函数**&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">MyString</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    str</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">NULL</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    size</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">MyString</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">str)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    size </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">strlen</span><span style="color:#ADBAC7;">(str);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;str </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;">[size</span><span style="color:#F47067;">+</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">];</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">memset</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;str, </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">, size</span><span style="color:#F47067;">+</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">strcpy</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;str, str);</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;">::</span><span style="color:#DCBDFB;">MyString</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">const</span><span style="color:#ADBAC7;"> MyString </span><span style="color:#F47067;">&amp;</span><span style="color:#ADBAC7;">ob)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    size </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> ob.size;</span></span>
<span class="line"><span style="color:#ADBAC7;">    str </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;">[size</span><span style="color:#F47067;">+</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">];</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">memset</span><span style="color:#ADBAC7;">(str, </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">, size</span><span style="color:#F47067;">+</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">strcpy</span><span style="color:#ADBAC7;">(str, ob.str);</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;">::</span><span style="color:#F47067;">~</span><span style="color:#DCBDFB;">MyString</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(str </span><span style="color:#F47067;">!=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">NULL</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">delete []</span><span style="color:#ADBAC7;"> str;</span></span>
<span class="line"><span style="color:#ADBAC7;">        str</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">NULL</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    str</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    size</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">str)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    size </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">strlen</span><span style="color:#24292E;">(str);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;str </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">char</span><span style="color:#24292E;">[size</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">memset</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;str, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, size</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">strcpy</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;str, str);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> MyString </span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;">ob)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    size </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> ob.size;</span></span>
<span class="line"><span style="color:#24292E;">    str </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">char</span><span style="color:#24292E;">[size</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">memset</span><span style="color:#24292E;">(str, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, size</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">strcpy</span><span style="color:#24292E;">(str, ob.str);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;">::</span><span style="color:#D73A49;">~</span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(str </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">delete []</span><span style="color:#24292E;"> str;</span></span>
<span class="line"><span style="color:#24292E;">        str</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="_2、重载输入输出" tabindex="-1">2、重载输入输出 <a class="header-anchor" href="#_2、重载输入输出" aria-label="Permalink to &quot;2、重载输入输出&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#768390;">//全局函数实现 &lt;&lt;重载</span></span>
<span class="line"><span style="color:#F69D50;">ostream</span><span style="color:#F47067;">&amp;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">&lt;&lt;</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">ostream</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">out</span><span style="color:#ADBAC7;">, </span><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">ob</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    out</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob.str;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> out;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">//全局函数实现 &gt;&gt;重载</span></span>
<span class="line"><span style="color:#F69D50;">istream</span><span style="color:#F47067;">&amp;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">&gt;&gt;</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">istream</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">in</span><span style="color:#ADBAC7;">, </span><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">ob</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> buf[</span><span style="color:#6CB6FF;">1024</span><span style="color:#ADBAC7;">]</span><span style="color:#F47067;">=</span><span style="color:#96D0FF;">&quot;&quot;</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    cin</span><span style="color:#F47067;">&gt;&gt;</span><span style="color:#ADBAC7;">buf;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(ob.str </span><span style="color:#F47067;">!=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">NULL</span><span style="color:#ADBAC7;">)</span><span style="color:#768390;">//ob已经有字符串</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">delete []</span><span style="color:#ADBAC7;"> ob.str;</span></span>
<span class="line"><span style="color:#ADBAC7;">        ob.str </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">NULL</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    ob.size </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">strlen</span><span style="color:#ADBAC7;">(buf);</span></span>
<span class="line"><span style="color:#ADBAC7;">    ob.str </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;">[ob.size</span><span style="color:#F47067;">+</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">];</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">memset</span><span style="color:#ADBAC7;">(ob.str, </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">,ob.size</span><span style="color:#F47067;">+</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">strcpy</span><span style="color:#ADBAC7;">(ob.str, buf);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> in;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">//全局函数实现 &lt;&lt;重载</span></span>
<span class="line"><span style="color:#6F42C1;">ostream</span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">&lt;&lt;</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">ostream</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">out</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;"> </span><span style="color:#E36209;">ob</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    out</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob.str;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> out;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">//全局函数实现 &gt;&gt;重载</span></span>
<span class="line"><span style="color:#6F42C1;">istream</span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">&gt;&gt;</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">istream</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">in</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#E36209;">ob</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> buf[</span><span style="color:#005CC5;">1024</span><span style="color:#24292E;">]</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    cin</span><span style="color:#D73A49;">&gt;&gt;</span><span style="color:#24292E;">buf;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(ob.str </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">)</span><span style="color:#6A737D;">//ob已经有字符串</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">delete []</span><span style="color:#24292E;"> ob.str;</span></span>
<span class="line"><span style="color:#24292E;">        ob.str </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    ob.size </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">strlen</span><span style="color:#24292E;">(buf);</span></span>
<span class="line"><span style="color:#24292E;">    ob.str </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">char</span><span style="color:#24292E;">[ob.size</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">memset</span><span style="color:#24292E;">(ob.str, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">,ob.size</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">strcpy</span><span style="color:#24292E;">(ob.str, buf);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> in;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="_3、重载中括号运算符" tabindex="-1">3、重载中括号运算符 <a class="header-anchor" href="#_3、重载中括号运算符" aria-label="Permalink to &quot;3、重载中括号运算符&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">char&amp;</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;">::</span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">[]</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">pos</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(pos</span><span style="color:#F47067;">&lt;</span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">||</span><span style="color:#ADBAC7;"> pos</span><span style="color:#F47067;">&gt;=</span><span style="color:#ADBAC7;">size)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;元素位置不合法&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#DCBDFB;">exit</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">-</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> str[pos];</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">char&amp;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;">::</span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">[]</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">pos</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(pos</span><span style="color:#D73A49;">&lt;</span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> pos</span><span style="color:#D73A49;">&gt;=</span><span style="color:#24292E;">size)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;元素位置不合法&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">exit</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> str[pos];</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="_4、重载-运算符" tabindex="-1">4、重载+运算符 <a class="header-anchor" href="#_4、重载-运算符" aria-label="Permalink to &quot;4、重载+运算符&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;">::</span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">+</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">ob</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    MyString tmp;</span></span>
<span class="line"><span style="color:#ADBAC7;">    tmp.size </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> size</span><span style="color:#F47067;">+</span><span style="color:#ADBAC7;">ob.size;</span></span>
<span class="line"><span style="color:#ADBAC7;">    tmp.str </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;">[tmp.size</span><span style="color:#F47067;">+</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">];</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">memset</span><span style="color:#ADBAC7;">(tmp.str, </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">, tmp.size</span><span style="color:#F47067;">+</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">strcpy</span><span style="color:#ADBAC7;">(tmp.str, str);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">strcat</span><span style="color:#ADBAC7;">(tmp.str, ob.str);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> tmp;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;">::</span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">+</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">str</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    MyString tmp;</span></span>
<span class="line"><span style="color:#ADBAC7;">    tmp.size </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> size</span><span style="color:#F47067;">+</span><span style="color:#DCBDFB;">strlen</span><span style="color:#ADBAC7;">(str);</span></span>
<span class="line"><span style="color:#ADBAC7;">    tmp.str </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;">[tmp.size</span><span style="color:#F47067;">+</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">];</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">memset</span><span style="color:#ADBAC7;">(tmp.str, </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">, tmp.size</span><span style="color:#F47067;">+</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">strcpy</span><span style="color:#ADBAC7;">(tmp.str, </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;str);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">strcat</span><span style="color:#ADBAC7;">(tmp.str, str);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> tmp;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;">::</span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">+</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;"> </span><span style="color:#E36209;">ob</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    MyString tmp;</span></span>
<span class="line"><span style="color:#24292E;">    tmp.size </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> size</span><span style="color:#D73A49;">+</span><span style="color:#24292E;">ob.size;</span></span>
<span class="line"><span style="color:#24292E;">    tmp.str </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">char</span><span style="color:#24292E;">[tmp.size</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">memset</span><span style="color:#24292E;">(tmp.str, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, tmp.size</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">strcpy</span><span style="color:#24292E;">(tmp.str, str);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">strcat</span><span style="color:#24292E;">(tmp.str, ob.str);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> tmp;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;">::</span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">+</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">str</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    MyString tmp;</span></span>
<span class="line"><span style="color:#24292E;">    tmp.size </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> size</span><span style="color:#D73A49;">+</span><span style="color:#6F42C1;">strlen</span><span style="color:#24292E;">(str);</span></span>
<span class="line"><span style="color:#24292E;">    tmp.str </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">char</span><span style="color:#24292E;">[tmp.size</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">memset</span><span style="color:#24292E;">(tmp.str, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, tmp.size</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">strcpy</span><span style="color:#24292E;">(tmp.str, </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;str);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">strcat</span><span style="color:#24292E;">(tmp.str, str);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> tmp;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="_5、如果有指针成员-必须重载-赋值运算符-深拷贝" tabindex="-1">5、如果有指针成员 必须重载=赋值运算符（深拷贝） <a class="header-anchor" href="#_5、如果有指针成员-必须重载-赋值运算符-深拷贝" aria-label="Permalink to &quot;5、如果有指针成员 必须重载=赋值运算符（深拷贝）&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;">::</span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">=</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">ob</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#768390;">    //str2 = str1;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;str </span><span style="color:#F47067;">!=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">NULL</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">delete []</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;str;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;str </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">NULL</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;size </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> ob.size;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;str </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;">[</span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;size</span><span style="color:#F47067;">+</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">];</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">memset</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;str, </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;size</span><span style="color:#F47067;">+</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">strcpy</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;str, ob.str);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&amp;</span><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;">::</span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">=</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">str</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#768390;">    //str2 = str1;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;str </span><span style="color:#F47067;">!=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">NULL</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">delete []</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;str;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;str </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">NULL</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;size </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">strlen</span><span style="color:#ADBAC7;">(str);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;str </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;">[</span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;size</span><span style="color:#F47067;">+</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">];</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">memset</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;str, </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;size</span><span style="color:#F47067;">+</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">strcpy</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;str, str);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;">::</span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">=</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;"> </span><span style="color:#E36209;">ob</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#6A737D;">    //str2 = str1;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;str </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">delete []</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;str;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;str </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;size </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> ob.size;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;str </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">char</span><span style="color:#24292E;">[</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;size</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">memset</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;str, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;size</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">strcpy</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;str, ob.str);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;">::</span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">=</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">str</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#6A737D;">    //str2 = str1;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;str </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">delete []</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;str;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;str </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;size </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">strlen</span><span style="color:#24292E;">(str);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;str </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">char</span><span style="color:#24292E;">[</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;size</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">memset</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;str, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;size</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">strcpy</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;str, str);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="_6、重载-运算符" tabindex="-1">6、重载&gt;运算符 <a class="header-anchor" href="#_6、重载-运算符" aria-label="Permalink to &quot;6、重载&gt;运算符&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">bool</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;">::</span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">&gt;</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">ob</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(str</span><span style="color:#F47067;">==</span><span style="color:#6CB6FF;">NULL</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">||</span><span style="color:#ADBAC7;"> ob.str </span><span style="color:#F47067;">==</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">NULL</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#DCBDFB;">exit</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">-</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(</span><span style="color:#DCBDFB;">strcmp</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;str, ob.str) </span><span style="color:#F47067;">&gt;</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">false</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">bool</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">MyString</span><span style="color:#ADBAC7;">::</span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">&gt;</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">str</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;str</span><span style="color:#F47067;">==</span><span style="color:#6CB6FF;">NULL</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">||</span><span style="color:#ADBAC7;"> str </span><span style="color:#F47067;">==</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">NULL</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#DCBDFB;">exit</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">-</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;">(</span><span style="color:#DCBDFB;">strcmp</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;str, str) </span><span style="color:#F47067;">&gt;</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">false</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">bool</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;">::</span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">&gt;</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;"> </span><span style="color:#E36209;">ob</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(str</span><span style="color:#D73A49;">==</span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> ob.str </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">exit</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">strcmp</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;str, ob.str) </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">bool</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MyString</span><span style="color:#24292E;">::</span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">&gt;</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">str</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;str</span><span style="color:#D73A49;">==</span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> str </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">exit</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">strcmp</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;str, str) </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="_21-重载函数调用运算符" tabindex="-1">21. 重载函数调用运算符() <a class="header-anchor" href="#_21-重载函数调用运算符" aria-label="Permalink to &quot;21. 重载函数调用运算符()&quot;">​</a></h2><p><img src="https://cdn.staticaly.com/gh/clint-sfy/blogcdn@master/img/c_plus/%E7%B1%BB13.png" alt=""></p><h2 id="_22-智能指针" tabindex="-1">22. 智能指针 <a class="header-anchor" href="#_22-智能指针" aria-label="Permalink to &quot;22. 智能指针&quot;">​</a></h2><p>智能指针：解决 堆区空间的对象 释放问题</p><p>重载* 运算符：</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">#include</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">using</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">namespace</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">std</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Data</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Data</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;无参构造&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">~Data</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;析构函数&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">func</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;func函数&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">SmartPointer</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">private:</span></span>
<span class="line"><span style="color:#ADBAC7;">    Data </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">p;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">SmartPointer</span><span style="color:#ADBAC7;">(){}</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">SmartPointer</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">Data</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">p</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;p </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> p;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">~SmartPointer</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">delete</span><span style="color:#ADBAC7;"> p;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F69D50;">Data</span><span style="color:#F47067;">&amp;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">*</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">       </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">p;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F69D50;">Data</span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">operator</span><span style="color:#F69D50;">-&gt;</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> p;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test02</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    SmartPointer </span><span style="color:#DCBDFB;">ob</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> Data);</span></span>
<span class="line"><span style="color:#ADBAC7;">    ob.operator </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">().</span><span style="color:#DCBDFB;">func</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    (</span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">ob).</span><span style="color:#DCBDFB;">func</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    ob.operator </span><span style="color:#F47067;">-&gt;</span><span style="color:#ADBAC7;">()-&gt;</span><span style="color:#DCBDFB;">func</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    ob-&gt;</span><span style="color:#DCBDFB;">func</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">main</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">argc</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">argv</span><span style="color:#ADBAC7;">[])</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">test02</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">using</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">namespace</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">std</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Data</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Data</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;无参构造&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">~Data</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;析构函数&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">func</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;func函数&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SmartPointer</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">private:</span></span>
<span class="line"><span style="color:#24292E;">    Data </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">p;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">SmartPointer</span><span style="color:#24292E;">(){}</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">SmartPointer</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">Data</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">p</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;p </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> p;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">~SmartPointer</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">delete</span><span style="color:#24292E;"> p;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Data</span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">*</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">       </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">p;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Data</span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">operator</span><span style="color:#6F42C1;">-&gt;</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> p;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test02</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    SmartPointer </span><span style="color:#6F42C1;">ob</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> Data);</span></span>
<span class="line"><span style="color:#24292E;">    ob.operator </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">func</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    (</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">ob).</span><span style="color:#6F42C1;">func</span><span style="color:#24292E;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    ob.operator </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;">()-&gt;</span><span style="color:#6F42C1;">func</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    ob-&gt;</span><span style="color:#6F42C1;">func</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">argc</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">argv</span><span style="color:#24292E;">[])</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">test02</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#adbac7;">无参构造</span></span>
<span class="line"><span style="color:#adbac7;">func函数</span></span>
<span class="line"><span style="color:#adbac7;">func函数</span></span>
<span class="line"><span style="color:#adbac7;">func函数</span></span>
<span class="line"><span style="color:#adbac7;">func函数</span></span>
<span class="line"><span style="color:#adbac7;">析构函数</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">无参构造</span></span>
<span class="line"><span style="color:#24292e;">func函数</span></span>
<span class="line"><span style="color:#24292e;">func函数</span></span>
<span class="line"><span style="color:#24292e;">func函数</span></span>
<span class="line"><span style="color:#24292e;">func函数</span></span>
<span class="line"><span style="color:#24292e;">析构函数</span></span></code></pre></div><h2 id="_23-继承概述" tabindex="-1">23. 继承概述 <a class="header-anchor" href="#_23-继承概述" aria-label="Permalink to &quot;23. 继承概述&quot;">​</a></h2><p><img src="https://cdn.staticaly.com/gh/clint-sfy/blogcdn@master/img/c_plus/%E7%BB%A7%E6%89%BF1.png" alt=""></p><h2 id="_24-子类的定义形式" tabindex="-1">24. 子类的定义形式 <a class="header-anchor" href="#_24-子类的定义形式" aria-label="Permalink to &quot;24. 子类的定义形式&quot;">​</a></h2><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> 父类{};</span></span>
<span class="line"><span style="color:#6CB6FF;">2</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> 子类:继承方式 父类名</span></span>
<span class="line"><span style="color:#ADBAC7;">3 {</span></span>
<span class="line"><span style="color:#6CB6FF;">4</span><span style="color:#768390;"> //新增子类数据</span></span>
<span class="line"><span style="color:#6CB6FF;">5</span><span style="color:#ADBAC7;"> };</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> 父类{};</span></span>
<span class="line"><span style="color:#005CC5;">2</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> 子类:继承方式 父类名</span></span>
<span class="line"><span style="color:#24292E;">3 {</span></span>
<span class="line"><span style="color:#005CC5;">4</span><span style="color:#6A737D;"> //新增子类数据</span></span>
<span class="line"><span style="color:#005CC5;">5</span><span style="color:#24292E;"> };</span></span></code></pre></div><p>继承方式：private protected public(推荐)</p><p><img src="https://cdn.staticaly.com/gh/clint-sfy/blogcdn@master/img/c_plus/%E7%BB%A7%E6%89%BF2.png" alt=""></p><p>公共继承 保持不变，保护继承变保护，私有继承变私有，所有父类私有在子类中不可见</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">#include</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">using</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">namespace</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">std</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Base</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Base</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;父类默认构造&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Base</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">a</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;a </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;父类有参构造&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">~Base</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;父类析够&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Son</span><span style="color:#ADBAC7;">:</span><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Base</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">using</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">namespace</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">std</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Base</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;父类默认构造&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Base</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">a</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;a </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;父类有参构造&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">~Base</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;父类析够&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Son</span><span style="color:#24292E;">:</span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base</span></span></code></pre></div><h2 id="_25-子类的构造析够顺序" tabindex="-1">25. 子类的构造析够顺序 <a class="header-anchor" href="#_25-子类的构造析够顺序" aria-label="Permalink to &quot;25. 子类的构造析够顺序&quot;">​</a></h2><p><img src="https://cdn.staticaly.com/gh/clint-sfy/blogcdn@master/img/c_plus/%E7%BB%A7%E6%89%BF3.png" alt=""></p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">#include</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">using</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">namespace</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">std</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Base</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Base</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;父类默认构造&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Base</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">a</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;a </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;父类有参构造&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">~Base</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;父类析够&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Other</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> b;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Other</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;Other默认构造&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Other</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">b</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;b </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> b;</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;Other有参构造&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">~Other</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;Other析够&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Son</span><span style="color:#ADBAC7;">:</span><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Base</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    Other ob;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> c;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Son</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;Son构造&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#768390;">    //父类写类名称   成员对象用对象名</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Son</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">a</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">b</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">c</span><span style="color:#ADBAC7;">):</span><span style="color:#DCBDFB;">Base</span><span style="color:#ADBAC7;">(a), </span><span style="color:#DCBDFB;">ob</span><span style="color:#ADBAC7;">(b)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;c </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> c;</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;Son有参构造&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">~Son</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;Son析够&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test01</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    Son </span><span style="color:#DCBDFB;">ob</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">,</span><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;">,</span><span style="color:#6CB6FF;">30</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">main</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">argc</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">argv</span><span style="color:#ADBAC7;">[])</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">test01</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">using</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">namespace</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">std</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Base</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;父类默认构造&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Base</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">a</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;a </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;父类有参构造&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">~Base</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;父类析够&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Other</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> b;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Other</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;Other默认构造&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Other</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">b</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;b </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> b;</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;Other有参构造&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">~Other</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;Other析够&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Son</span><span style="color:#24292E;">:</span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    Other ob;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> c;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Son</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;Son构造&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#6A737D;">    //父类写类名称   成员对象用对象名</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Son</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">a</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">b</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">c</span><span style="color:#24292E;">):</span><span style="color:#6F42C1;">Base</span><span style="color:#24292E;">(a), </span><span style="color:#6F42C1;">ob</span><span style="color:#24292E;">(b)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;c </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> c;</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;Son有参构造&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">~Son</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;Son析够&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test01</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    Son </span><span style="color:#6F42C1;">ob</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">30</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">argc</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">argv</span><span style="color:#24292E;">[])</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">test01</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#adbac7;">父类构造</span></span>
<span class="line"><span style="color:#adbac7;">Other构造</span></span>
<span class="line"><span style="color:#adbac7;">Son构造</span></span>
<span class="line"><span style="color:#adbac7;">Son析够</span></span>
<span class="line"><span style="color:#adbac7;">Other析够</span></span>
<span class="line"><span style="color:#adbac7;">父类析够</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">父类构造</span></span>
<span class="line"><span style="color:#24292e;">Other构造</span></span>
<span class="line"><span style="color:#24292e;">Son构造</span></span>
<span class="line"><span style="color:#24292e;">Son析够</span></span>
<span class="line"><span style="color:#24292e;">Other析够</span></span>
<span class="line"><span style="color:#24292e;">父类析够</span></span></code></pre></div><h2 id="_26-子类调用成员对象、父类的有参构造" tabindex="-1">26. 子类调用成员对象、父类的有参构造 <a class="header-anchor" href="#_26-子类调用成员对象、父类的有参构造" aria-label="Permalink to &quot;26. 子类调用成员对象、父类的有参构造&quot;">​</a></h2><p>子类 会自动调用 成员对象、父类的默认构造。</p><p>子类 必须使用初始化列表 调用成员对象、父类的有参构造。</p><p>初始化列表时：父类写类名称 成员对象用对象名。</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">#include</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">using</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">namespace</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">std</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Base</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Base</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;父类默认构造&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Base</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">a</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;a </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;父类有参构造&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">~Base</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;父类析够&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Other</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> b;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Other</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;Other默认构造&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Other</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">b</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;b </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> b;</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;Other有参构造&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">~Other</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;Other析够&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Son</span><span style="color:#ADBAC7;">:</span><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Base</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    Other ob;</span><span style="color:#768390;">  // 这里的成员对象  注意赋值的时候！！！</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> c;</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Son</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;Son构造&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#768390;">    //父类写类名称   成员对象用对象名 ！！！！ 超级重要</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Son</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">a</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">b</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">c</span><span style="color:#ADBAC7;">):</span><span style="color:#DCBDFB;">Base</span><span style="color:#ADBAC7;">(a), </span><span style="color:#DCBDFB;">ob</span><span style="color:#ADBAC7;">(b)</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#768390;">        // this-&gt;a = a; 这里不行 这是父类的a</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">-&gt;c </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> c;</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;Son有参构造&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">~Son</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    {</span></span>
<span class="line"><span style="color:#ADBAC7;">        cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;Son析够&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test01</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    Son </span><span style="color:#DCBDFB;">ob</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">,</span><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;">,</span><span style="color:#6CB6FF;">30</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">main</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">argc</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#F69D50;">argv</span><span style="color:#ADBAC7;">[])</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">test01</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">using</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">namespace</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">std</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Base</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;父类默认构造&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Base</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">a</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;a </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;父类有参构造&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">~Base</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;父类析够&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Other</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> b;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Other</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;Other默认构造&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Other</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">b</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;b </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> b;</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;Other有参构造&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">~Other</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;Other析够&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Son</span><span style="color:#24292E;">:</span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    Other ob;</span><span style="color:#6A737D;">  // 这里的成员对象  注意赋值的时候！！！</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> c;</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Son</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;Son构造&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#6A737D;">    //父类写类名称   成员对象用对象名 ！！！！ 超级重要</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Son</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">a</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">b</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">c</span><span style="color:#24292E;">):</span><span style="color:#6F42C1;">Base</span><span style="color:#24292E;">(a), </span><span style="color:#6F42C1;">ob</span><span style="color:#24292E;">(b)</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#6A737D;">        // this-&gt;a = a; 这里不行 这是父类的a</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">-&gt;c </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> c;</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;Son有参构造&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">~Son</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">        cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;Son析够&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test01</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    Son </span><span style="color:#6F42C1;">ob</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">30</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">argc</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">argv</span><span style="color:#24292E;">[])</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">test01</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="_27-子类和父类同名成员处理" tabindex="-1">27.子类和父类同名成员处理 <a class="header-anchor" href="#_27-子类和父类同名成员处理" aria-label="Permalink to &quot;27.子类和父类同名成员处理&quot;">​</a></h2><h3 id="_1、子类和父类-同名成员数据" tabindex="-1">1、子类和父类 同名成员数据 <a class="header-anchor" href="#_1、子类和父类-同名成员数据" aria-label="Permalink to &quot;1、子类和父类 同名成员数据&quot;">​</a></h3><p>同名成员 最简单 最安全的处理方式：加作用域</p><p>子类默认优先访问 子类的同名成员</p><p>必须加父类作用域 访问父类的同名成员</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Base</span></span>
<span class="line"><span style="color:#ADBAC7;">2 {</span></span>
<span class="line"><span style="color:#6CB6FF;">3</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#6CB6FF;">4</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#6CB6FF;">5</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#6CB6FF;">6</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">Base</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> a)</span></span>
<span class="line"><span style="color:#6CB6FF;">7</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">8</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">‐</span><span style="color:#F47067;">&gt;</span><span style="color:#ADBAC7;">a </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#6CB6FF;">9</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;"> };</span></span>
<span class="line"><span style="color:#6CB6FF;">11</span></span>
<span class="line"><span style="color:#6CB6FF;">12</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Son</span><span style="color:#ADBAC7;">:</span><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Base</span></span>
<span class="line"><span style="color:#ADBAC7;">13 {</span></span>
<span class="line"><span style="color:#6CB6FF;">14</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#6CB6FF;">15</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#6CB6FF;">16</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">Son</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> x, </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> y):</span><span style="color:#DCBDFB;">Base</span><span style="color:#ADBAC7;">(x)</span></span>
<span class="line"><span style="color:#6CB6FF;">17</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">18</span><span style="color:#ADBAC7;"> a </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> y;</span></span>
<span class="line"><span style="color:#6CB6FF;">19</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;"> };</span></span>
<span class="line"><span style="color:#6CB6FF;">21</span></span>
<span class="line"><span style="color:#6CB6FF;">22</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test01</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#6CB6FF;">23</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">24</span><span style="color:#ADBAC7;"> Son </span><span style="color:#DCBDFB;">ob</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">,</span><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#6CB6FF;">25</span><span style="color:#768390;"> //子类默认优先访问 子类的同名成员</span></span>
<span class="line"><span style="color:#6CB6FF;">26</span><span style="color:#ADBAC7;"> cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob.a</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">27</span><span style="color:#768390;"> //必须加父类作用域 访问父类的同名成员</span></span>
<span class="line"><span style="color:#6CB6FF;">28</span><span style="color:#ADBAC7;"> cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob.Base::a</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">29</span><span style="color:#ADBAC7;"> }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base</span></span>
<span class="line"><span style="color:#24292E;">2 {</span></span>
<span class="line"><span style="color:#005CC5;">3</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#005CC5;">4</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#005CC5;">5</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#005CC5;">6</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> a)</span></span>
<span class="line"><span style="color:#005CC5;">7</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">8</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">‐</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">a </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#005CC5;">9</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">10</span><span style="color:#24292E;"> };</span></span>
<span class="line"><span style="color:#005CC5;">11</span></span>
<span class="line"><span style="color:#005CC5;">12</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Son</span><span style="color:#24292E;">:</span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base</span></span>
<span class="line"><span style="color:#24292E;">13 {</span></span>
<span class="line"><span style="color:#005CC5;">14</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#005CC5;">15</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#005CC5;">16</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Son</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> x, </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> y):</span><span style="color:#6F42C1;">Base</span><span style="color:#24292E;">(x)</span></span>
<span class="line"><span style="color:#005CC5;">17</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">18</span><span style="color:#24292E;"> a </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> y;</span></span>
<span class="line"><span style="color:#005CC5;">19</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">20</span><span style="color:#24292E;"> };</span></span>
<span class="line"><span style="color:#005CC5;">21</span></span>
<span class="line"><span style="color:#005CC5;">22</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test01</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#005CC5;">23</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">24</span><span style="color:#24292E;"> Son </span><span style="color:#6F42C1;">ob</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#005CC5;">25</span><span style="color:#6A737D;"> //子类默认优先访问 子类的同名成员</span></span>
<span class="line"><span style="color:#005CC5;">26</span><span style="color:#24292E;"> cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob.a</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#005CC5;">27</span><span style="color:#6A737D;"> //必须加父类作用域 访问父类的同名成员</span></span>
<span class="line"><span style="color:#005CC5;">28</span><span style="color:#24292E;"> cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob.Base::a</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#005CC5;">29</span><span style="color:#24292E;"> }</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#adbac7;">20</span></span>
<span class="line"><span style="color:#adbac7;">10</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">20</span></span>
<span class="line"><span style="color:#24292e;">10</span></span></code></pre></div><h3 id="_2、子类和父类-同名成员函数" tabindex="-1">2、子类和父类 同名成员函数 <a class="header-anchor" href="#_2、子类和父类-同名成员函数" aria-label="Permalink to &quot;2、子类和父类 同名成员函数&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Base</span></span>
<span class="line"><span style="color:#ADBAC7;">2 {</span></span>
<span class="line"><span style="color:#6CB6FF;">3</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#6CB6FF;">4</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">fun01</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#6CB6FF;">5</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">6</span><span style="color:#ADBAC7;"> cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;Base 无参的fun01&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">7</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">8</span><span style="color:#ADBAC7;"> };</span></span>
<span class="line"><span style="color:#6CB6FF;">9</span></span>
<span class="line"><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Son</span><span style="color:#ADBAC7;">:</span><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Base</span></span>
<span class="line"><span style="color:#ADBAC7;">11 {</span></span>
<span class="line"><span style="color:#6CB6FF;">12</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#6CB6FF;">13</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">fun01</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#6CB6FF;">14</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">15</span><span style="color:#ADBAC7;"> cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;Son 无参的fun01&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">16</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">17</span><span style="color:#ADBAC7;"> };</span></span>
<span class="line"><span style="color:#6CB6FF;">18</span></span>
<span class="line"><span style="color:#6CB6FF;">19</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test01</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">21</span><span style="color:#ADBAC7;"> Son ob;</span></span>
<span class="line"><span style="color:#6CB6FF;">22</span><span style="color:#768390;"> //子类默认优先访问 子类的同名成员</span></span>
<span class="line"><span style="color:#6CB6FF;">23</span><span style="color:#ADBAC7;"> ob.</span><span style="color:#DCBDFB;">fun01</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#6CB6FF;">24</span><span style="color:#768390;"> //必须加父类作用域 访问父类的同名成员</span></span>
<span class="line"><span style="color:#6CB6FF;">25</span><span style="color:#ADBAC7;"> ob.Base::</span><span style="color:#DCBDFB;">fun01</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#6CB6FF;">26</span><span style="color:#ADBAC7;"> }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base</span></span>
<span class="line"><span style="color:#24292E;">2 {</span></span>
<span class="line"><span style="color:#005CC5;">3</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#005CC5;">4</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fun01</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#005CC5;">5</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">6</span><span style="color:#24292E;"> cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;Base 无参的fun01&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#005CC5;">7</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">8</span><span style="color:#24292E;"> };</span></span>
<span class="line"><span style="color:#005CC5;">9</span></span>
<span class="line"><span style="color:#005CC5;">10</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Son</span><span style="color:#24292E;">:</span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base</span></span>
<span class="line"><span style="color:#24292E;">11 {</span></span>
<span class="line"><span style="color:#005CC5;">12</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#005CC5;">13</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fun01</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#005CC5;">14</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">15</span><span style="color:#24292E;"> cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;Son 无参的fun01&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#005CC5;">16</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">17</span><span style="color:#24292E;"> };</span></span>
<span class="line"><span style="color:#005CC5;">18</span></span>
<span class="line"><span style="color:#005CC5;">19</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test01</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#005CC5;">20</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">21</span><span style="color:#24292E;"> Son ob;</span></span>
<span class="line"><span style="color:#005CC5;">22</span><span style="color:#6A737D;"> //子类默认优先访问 子类的同名成员</span></span>
<span class="line"><span style="color:#005CC5;">23</span><span style="color:#24292E;"> ob.</span><span style="color:#6F42C1;">fun01</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#005CC5;">24</span><span style="color:#6A737D;"> //必须加父类作用域 访问父类的同名成员</span></span>
<span class="line"><span style="color:#005CC5;">25</span><span style="color:#24292E;"> ob.Base::</span><span style="color:#6F42C1;">fun01</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#005CC5;">26</span><span style="color:#24292E;"> }</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#adbac7;">Son无参的fun01</span></span>
<span class="line"><span style="color:#adbac7;">Base 无参的fun01</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">Son无参的fun01</span></span>
<span class="line"><span style="color:#24292e;">Base 无参的fun01</span></span></code></pre></div><h3 id="_3、子类-重定义-父类的同名函数" tabindex="-1">3、子类 重定义 父类的同名函数 <a class="header-anchor" href="#_3、子类-重定义-父类的同名函数" aria-label="Permalink to &quot;3、子类 重定义 父类的同名函数&quot;">​</a></h3><p>重载：无继承，同一作用域，参数的个数、顺序、类型不同 都可重载</p><p>重定义：有继承， 子类 重定义 父类的同名函数（参数可以不同）（非虚函数）</p><p>子类一旦 重定义了父类的同名函数（不管参数是否一致），子类中都将屏蔽父类所有的同名函数。</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Base</span></span>
<span class="line"><span style="color:#ADBAC7;">2 {</span></span>
<span class="line"><span style="color:#6CB6FF;">3</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#6CB6FF;">4</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">fun01</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#6CB6FF;">5</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">6</span><span style="color:#ADBAC7;"> cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;Base 无参的fun01&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">7</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">8</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">fun01</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> a)</span></span>
<span class="line"><span style="color:#6CB6FF;">9</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;"> cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;Base 的fun01 int&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">11</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">12</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">fun01</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> a, </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> b)</span></span>
<span class="line"><span style="color:#6CB6FF;">13</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">14</span><span style="color:#ADBAC7;"> cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;Base 的fun01 int int&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">15</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">16</span><span style="color:#ADBAC7;"> };</span></span>
<span class="line"><span style="color:#6CB6FF;">17</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span></span>
<span class="line"><span style="color:#6CB6FF;">18</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Son</span><span style="color:#ADBAC7;">:</span><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Base</span></span>
<span class="line"><span style="color:#ADBAC7;">19 {</span></span>
<span class="line"><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#6CB6FF;">21</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">fun01</span><span style="color:#ADBAC7;">(string a)</span></span>
<span class="line"><span style="color:#6CB6FF;">22</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">23</span><span style="color:#ADBAC7;"> cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;Son 的fun01 char&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">24</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">25</span><span style="color:#ADBAC7;"> };</span></span>
<span class="line"><span style="color:#6CB6FF;">26</span></span>
<span class="line"><span style="color:#6CB6FF;">27</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test01</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#6CB6FF;">28</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">29</span><span style="color:#ADBAC7;"> Son ob;</span></span>
<span class="line"><span style="color:#6CB6FF;">30</span><span style="color:#ADBAC7;"> ob.</span><span style="color:#DCBDFB;">fun01</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;hello&quot;</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#6CB6FF;">31</span><span style="color:#ADBAC7;"> ob.</span><span style="color:#DCBDFB;">fun01</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#6CB6FF;">32</span><span style="color:#ADBAC7;"> ob.</span><span style="color:#DCBDFB;">fun01</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#6CB6FF;">33</span><span style="color:#ADBAC7;"> ob.</span><span style="color:#DCBDFB;">fun01</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">,</span><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#6CB6FF;">34</span><span style="color:#ADBAC7;"> }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base</span></span>
<span class="line"><span style="color:#24292E;">2 {</span></span>
<span class="line"><span style="color:#005CC5;">3</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#005CC5;">4</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fun01</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#005CC5;">5</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">6</span><span style="color:#24292E;"> cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;Base 无参的fun01&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#005CC5;">7</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">8</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fun01</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> a)</span></span>
<span class="line"><span style="color:#005CC5;">9</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">10</span><span style="color:#24292E;"> cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;Base 的fun01 int&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#005CC5;">11</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">12</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fun01</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> a, </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> b)</span></span>
<span class="line"><span style="color:#005CC5;">13</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">14</span><span style="color:#24292E;"> cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;Base 的fun01 int int&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#005CC5;">15</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">16</span><span style="color:#24292E;"> };</span></span>
<span class="line"><span style="color:#005CC5;">17</span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#005CC5;">18</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Son</span><span style="color:#24292E;">:</span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base</span></span>
<span class="line"><span style="color:#24292E;">19 {</span></span>
<span class="line"><span style="color:#005CC5;">20</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#005CC5;">21</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fun01</span><span style="color:#24292E;">(string a)</span></span>
<span class="line"><span style="color:#005CC5;">22</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">23</span><span style="color:#24292E;"> cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;Son 的fun01 char&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#005CC5;">24</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">25</span><span style="color:#24292E;"> };</span></span>
<span class="line"><span style="color:#005CC5;">26</span></span>
<span class="line"><span style="color:#005CC5;">27</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test01</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#005CC5;">28</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">29</span><span style="color:#24292E;"> Son ob;</span></span>
<span class="line"><span style="color:#005CC5;">30</span><span style="color:#24292E;"> ob.</span><span style="color:#6F42C1;">fun01</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;hello&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#005CC5;">31</span><span style="color:#24292E;"> ob.</span><span style="color:#6F42C1;">fun01</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#005CC5;">32</span><span style="color:#24292E;"> ob.</span><span style="color:#6F42C1;">fun01</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#005CC5;">33</span><span style="color:#24292E;"> ob.</span><span style="color:#6F42C1;">fun01</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#005CC5;">34</span><span style="color:#24292E;"> }</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#adbac7;">Son的fun01 char</span></span>
<span class="line"><span style="color:#adbac7;">Base 无参的fun01</span></span>
<span class="line"><span style="color:#adbac7;">Base 的fun01 int</span></span>
<span class="line"><span style="color:#adbac7;">Base 的fun01 int int</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">Son的fun01 char</span></span>
<span class="line"><span style="color:#24292e;">Base 无参的fun01</span></span>
<span class="line"><span style="color:#24292e;">Base 的fun01 int</span></span>
<span class="line"><span style="color:#24292e;">Base 的fun01 int int</span></span></code></pre></div><h2 id="_28-子类不能继承父类成员" tabindex="-1">28. 子类不能继承父类成员 <a class="header-anchor" href="#_28-子类不能继承父类成员" aria-label="Permalink to &quot;28. 子类不能继承父类成员&quot;">​</a></h2><p>父类的构造、析够、operator= 不能被子类 继承</p><h2 id="_29-多继承" tabindex="-1">29. 多继承 <a class="header-anchor" href="#_29-多继承" aria-label="Permalink to &quot;29. 多继承&quot;">​</a></h2><h3 id="_1、多继承的格式" tabindex="-1">1、多继承的格式 <a class="header-anchor" href="#_1、多继承的格式" aria-label="Permalink to &quot;1、多继承的格式&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#adbac7;">1 class 父类1{};</span></span>
<span class="line"><span style="color:#adbac7;">2 class 父类2{};</span></span>
<span class="line"><span style="color:#adbac7;">3</span></span>
<span class="line"><span style="color:#adbac7;">4</span></span>
<span class="line"><span style="color:#adbac7;">5 class 子类:继承方式1 父类1, 继承方式2 父类2</span></span>
<span class="line"><span style="color:#adbac7;">6 {</span></span>
<span class="line"><span style="color:#adbac7;">7 //新增子类数据</span></span>
<span class="line"><span style="color:#adbac7;">8 };</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">1 class 父类1{};</span></span>
<span class="line"><span style="color:#24292e;">2 class 父类2{};</span></span>
<span class="line"><span style="color:#24292e;">3</span></span>
<span class="line"><span style="color:#24292e;">4</span></span>
<span class="line"><span style="color:#24292e;">5 class 子类:继承方式1 父类1, 继承方式2 父类2</span></span>
<span class="line"><span style="color:#24292e;">6 {</span></span>
<span class="line"><span style="color:#24292e;">7 //新增子类数据</span></span>
<span class="line"><span style="color:#24292e;">8 };</span></span></code></pre></div><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Base1</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Base1</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">a</span><span style="color:#ADBAC7;">):</span><span style="color:#DCBDFB;">a</span><span style="color:#ADBAC7;">(a){}</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Base2</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Base2</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">a</span><span style="color:#ADBAC7;">):</span><span style="color:#DCBDFB;">a</span><span style="color:#ADBAC7;">(a){}</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Son</span><span style="color:#ADBAC7;">:</span><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Base1</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Base2</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#768390;">    //int a;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Son</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">a</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">b</span><span style="color:#ADBAC7;">):</span><span style="color:#DCBDFB;">Base1</span><span style="color:#ADBAC7;">(a),</span><span style="color:#DCBDFB;">Base2</span><span style="color:#ADBAC7;">(b){}</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test01</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    Son </span><span style="color:#DCBDFB;">ob</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">,</span><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob.a</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot; &quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob.b</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#768390;">    //cout&lt;&lt;ob.a&lt;&lt;endl;//子类a</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base1</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Base1</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">a</span><span style="color:#24292E;">):</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">(a){}</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base2</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Base2</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">a</span><span style="color:#24292E;">):</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">(a){}</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Son</span><span style="color:#24292E;">:</span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base1</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base2</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#6A737D;">    //int a;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Son</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">a</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">b</span><span style="color:#24292E;">):</span><span style="color:#6F42C1;">Base1</span><span style="color:#24292E;">(a),</span><span style="color:#6F42C1;">Base2</span><span style="color:#24292E;">(b){}</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test01</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    Son </span><span style="color:#6F42C1;">ob</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob.a</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot; &quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob.b</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#6A737D;">    //cout&lt;&lt;ob.a&lt;&lt;endl;//子类a</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#adbac7;">6422384 4200555</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">6422384 4200555</span></span></code></pre></div><h3 id="_2、多继承中同名成员" tabindex="-1">2、多继承中同名成员 <a class="header-anchor" href="#_2、多继承中同名成员" aria-label="Permalink to &quot;2、多继承中同名成员&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#F47067;">#include</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">using</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">namespace</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">std</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Base1</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Base1</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">a</span><span style="color:#ADBAC7;">):</span><span style="color:#DCBDFB;">a</span><span style="color:#ADBAC7;">(a){}</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Base2</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> a;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Base2</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">a</span><span style="color:#ADBAC7;">):</span><span style="color:#DCBDFB;">a</span><span style="color:#ADBAC7;">(a){}</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Son</span><span style="color:#ADBAC7;">:</span><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Base1</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Base2</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#768390;">    //int a;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">Son</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">a</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">b</span><span style="color:#ADBAC7;">):</span><span style="color:#DCBDFB;">Base1</span><span style="color:#ADBAC7;">(a),</span><span style="color:#DCBDFB;">Base2</span><span style="color:#ADBAC7;">(b){}</span></span>
<span class="line"><span style="color:#ADBAC7;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test01</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#ADBAC7;">    Son </span><span style="color:#DCBDFB;">ob</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">,</span><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#768390;">    //cout&lt;&lt;ob.a&lt;&lt;endl;//子类a</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob.Base1::a</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span><span style="color:#768390;">//Base1 a</span></span>
<span class="line"><span style="color:#ADBAC7;">    cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">ob.Base2::a</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span><span style="color:#768390;">//Base2 a</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">using</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">namespace</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">std</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base1</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Base1</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">a</span><span style="color:#24292E;">):</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">(a){}</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base2</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> a;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Base2</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">a</span><span style="color:#24292E;">):</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">(a){}</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Son</span><span style="color:#24292E;">:</span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base1</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Base2</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#6A737D;">    //int a;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Son</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">a</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">b</span><span style="color:#24292E;">):</span><span style="color:#6F42C1;">Base1</span><span style="color:#24292E;">(a),</span><span style="color:#6F42C1;">Base2</span><span style="color:#24292E;">(b){}</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test01</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    Son </span><span style="color:#6F42C1;">ob</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#6A737D;">    //cout&lt;&lt;ob.a&lt;&lt;endl;//子类a</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob.Base1::a</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span><span style="color:#6A737D;">//Base1 a</span></span>
<span class="line"><span style="color:#24292E;">    cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">ob.Base2::a</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span><span style="color:#6A737D;">//Base2 a</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#adbac7;">30</span></span>
<span class="line"><span style="color:#adbac7;">10</span></span>
<span class="line"><span style="color:#adbac7;">20</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">30</span></span>
<span class="line"><span style="color:#24292e;">10</span></span>
<span class="line"><span style="color:#24292e;">20</span></span></code></pre></div><h2 id="_30-菱形继承" tabindex="-1">30. 菱形继承 <a class="header-anchor" href="#_30-菱形继承" aria-label="Permalink to &quot;30. 菱形继承&quot;">​</a></h2><p>菱形继承：有公共祖先的继承 叫菱形继承。</p><p>最底层的子类 数据 会包含多分（公共祖先的数据）</p><p><img src="https://cdn.staticaly.com/gh/clint-sfy/blogcdn@master/img/c_plus/%E7%BB%A7%E6%89%BF4.png" alt=""></p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Animal</span></span>
<span class="line"><span style="color:#ADBAC7;">2 {</span></span>
<span class="line"><span style="color:#6CB6FF;">3</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#6CB6FF;">4</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> data;</span></span>
<span class="line"><span style="color:#6CB6FF;">5</span><span style="color:#ADBAC7;"> };</span></span>
<span class="line"><span style="color:#6CB6FF;">6</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Sheep</span><span style="color:#ADBAC7;"> :</span><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Animal</span><span style="color:#ADBAC7;">{};</span></span>
<span class="line"><span style="color:#6CB6FF;">7</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Tuo</span><span style="color:#ADBAC7;"> :</span><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Animal</span><span style="color:#ADBAC7;"> {};</span></span>
<span class="line"><span style="color:#6CB6FF;">8</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">SheepTuo</span><span style="color:#ADBAC7;">:</span><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Sheep</span><span style="color:#ADBAC7;">,</span><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Tuo</span><span style="color:#ADBAC7;">{};</span></span>
<span class="line"><span style="color:#6CB6FF;">9</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">main</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">11</span><span style="color:#ADBAC7;"> SheepTuo ob;</span></span>
<span class="line"><span style="color:#6CB6FF;">12</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">memset</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">&amp;</span><span style="color:#ADBAC7;">ob, </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">, </span><span style="color:#F47067;">sizeof</span><span style="color:#ADBAC7;">(SheepTuo));</span></span>
<span class="line"><span style="color:#6CB6FF;">13</span></span>
<span class="line"><span style="color:#6CB6FF;">14</span><span style="color:#768390;"> //cout &lt;&lt; ob.data &lt;&lt; endl;//二义性</span></span>
<span class="line"><span style="color:#6CB6FF;">15</span><span style="color:#ADBAC7;"> cout </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> ob.Sheep::data </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">16</span><span style="color:#ADBAC7;"> cout </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> ob.Tuo::data </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">17</span><span style="color:#ADBAC7;"> }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span></span>
<span class="line"><span style="color:#24292E;">2 {</span></span>
<span class="line"><span style="color:#005CC5;">3</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#005CC5;">4</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> data;</span></span>
<span class="line"><span style="color:#005CC5;">5</span><span style="color:#24292E;"> };</span></span>
<span class="line"><span style="color:#005CC5;">6</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Sheep</span><span style="color:#24292E;"> :</span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span><span style="color:#24292E;">{};</span></span>
<span class="line"><span style="color:#005CC5;">7</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Tuo</span><span style="color:#24292E;"> :</span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span><span style="color:#24292E;"> {};</span></span>
<span class="line"><span style="color:#005CC5;">8</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SheepTuo</span><span style="color:#24292E;">:</span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Sheep</span><span style="color:#24292E;">,</span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Tuo</span><span style="color:#24292E;">{};</span></span>
<span class="line"><span style="color:#005CC5;">9</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#005CC5;">10</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">11</span><span style="color:#24292E;"> SheepTuo ob;</span></span>
<span class="line"><span style="color:#005CC5;">12</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">memset</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;">ob, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">sizeof</span><span style="color:#24292E;">(SheepTuo));</span></span>
<span class="line"><span style="color:#005CC5;">13</span></span>
<span class="line"><span style="color:#005CC5;">14</span><span style="color:#6A737D;"> //cout &lt;&lt; ob.data &lt;&lt; endl;//二义性</span></span>
<span class="line"><span style="color:#005CC5;">15</span><span style="color:#24292E;"> cout </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> ob.Sheep::data </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> endl;</span></span>
<span class="line"><span style="color:#005CC5;">16</span><span style="color:#24292E;"> cout </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> ob.Tuo::data </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> endl;</span></span>
<span class="line"><span style="color:#005CC5;">17</span><span style="color:#24292E;"> }</span></span></code></pre></div><p>怎么才能只要公共祖先的一份数据呢？</p><h2 id="_31-虚继承" tabindex="-1">31. 虚继承 <a class="header-anchor" href="#_31-虚继承" aria-label="Permalink to &quot;31. 虚继承&quot;">​</a></h2><p>虚继承 解决 菱形继承中 多分公共祖先数据的问题</p><h3 id="_1、虚继承的概述" tabindex="-1">1、虚继承的概述 <a class="header-anchor" href="#_1、虚继承的概述" aria-label="Permalink to &quot;1、虚继承的概述&quot;">​</a></h3><p>在继承方式 前加virtual修饰</p><p>子类虚继承父类 子类只会保存一份公共数据</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#adbac7;">#include&lt;iostream&gt;</span></span>
<span class="line"><span style="color:#adbac7;">#include&lt;string.h&gt;</span></span>
<span class="line"><span style="color:#adbac7;">using namespace std;</span></span>
<span class="line"><span style="color:#adbac7;">class Animal</span></span>
<span class="line"><span style="color:#adbac7;">{</span></span>
<span class="line"><span style="color:#adbac7;">public:</span></span>
<span class="line"><span style="color:#adbac7;">    int data;</span></span>
<span class="line"><span style="color:#adbac7;">};</span></span>
<span class="line"><span style="color:#adbac7;">class Sheep :virtual public Animal{};</span></span>
<span class="line"><span style="color:#adbac7;">class Tuo :virtual public Animal {};</span></span>
<span class="line"><span style="color:#adbac7;">class SheepTuo:public Sheep,public Tuo{};</span></span>
<span class="line"><span style="color:#adbac7;">int main()</span></span>
<span class="line"><span style="color:#adbac7;">{</span></span>
<span class="line"><span style="color:#adbac7;">    SheepTuo ob;</span></span>
<span class="line"><span style="color:#adbac7;">    memset(&amp;ob, 0, sizeof(SheepTuo));</span></span>
<span class="line"><span style="color:#adbac7;"></span></span>
<span class="line"><span style="color:#adbac7;">    cout &lt;&lt; ob.data &lt;&lt; endl;</span></span>
<span class="line"><span style="color:#adbac7;">    //cout &lt;&lt; ob.Sheep::data &lt;&lt; endl;</span></span>
<span class="line"><span style="color:#adbac7;">    //cout &lt;&lt; ob.Tuo::data &lt;&lt; endl;</span></span>
<span class="line"><span style="color:#adbac7;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">#include&lt;iostream&gt;</span></span>
<span class="line"><span style="color:#24292e;">#include&lt;string.h&gt;</span></span>
<span class="line"><span style="color:#24292e;">using namespace std;</span></span>
<span class="line"><span style="color:#24292e;">class Animal</span></span>
<span class="line"><span style="color:#24292e;">{</span></span>
<span class="line"><span style="color:#24292e;">public:</span></span>
<span class="line"><span style="color:#24292e;">    int data;</span></span>
<span class="line"><span style="color:#24292e;">};</span></span>
<span class="line"><span style="color:#24292e;">class Sheep :virtual public Animal{};</span></span>
<span class="line"><span style="color:#24292e;">class Tuo :virtual public Animal {};</span></span>
<span class="line"><span style="color:#24292e;">class SheepTuo:public Sheep,public Tuo{};</span></span>
<span class="line"><span style="color:#24292e;">int main()</span></span>
<span class="line"><span style="color:#24292e;">{</span></span>
<span class="line"><span style="color:#24292e;">    SheepTuo ob;</span></span>
<span class="line"><span style="color:#24292e;">    memset(&amp;ob, 0, sizeof(SheepTuo));</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    cout &lt;&lt; ob.data &lt;&lt; endl;</span></span>
<span class="line"><span style="color:#24292e;">    //cout &lt;&lt; ob.Sheep::data &lt;&lt; endl;</span></span>
<span class="line"><span style="color:#24292e;">    //cout &lt;&lt; ob.Tuo::data &lt;&lt; endl;</span></span>
<span class="line"><span style="color:#24292e;">}</span></span></code></pre></div><h3 id="_2、分析虚继承的实现原理" tabindex="-1">2、分析虚继承的实现原理 <a class="header-anchor" href="#_2、分析虚继承的实现原理" aria-label="Permalink to &quot;2、分析虚继承的实现原理&quot;">​</a></h3><p>虚继承 会在子类中产生 虚基类指针（vbptr） 指向 虚基类表(vbtable), 虚基类表纪录的是通过该指针访问公共祖先的数据的偏移量。</p><p>注意：虚继承只能解决具备公共祖先的多继承所带来的二义性问题，不能解决没有公共祖先的多继承的.</p><p>工程开发中真正意义上的多继承是几乎不被使用，因为多重继承带来的代码复杂性远多于其带来的便利，多重继承对代码维护性上的影响是灾难性的，在设计方法上，任何多继承都可以用单继承代替。</p><h2 id="_32-多态的概述" tabindex="-1">32.多态的概述 <a class="header-anchor" href="#_32-多态的概述" aria-label="Permalink to &quot;32.多态的概述&quot;">​</a></h2><p>静态多态（编译时多态，早绑定）：函数重载、运算符重载</p><p>动态多态（运行时多态，晚绑定）：虚函数</p><h2 id="_33-虚函数" tabindex="-1">33. 虚函数 <a class="header-anchor" href="#_33-虚函数" aria-label="Permalink to &quot;33. 虚函数&quot;">​</a></h2><h3 id="_1、知识点引入" tabindex="-1">1、知识点引入 <a class="header-anchor" href="#_1、知识点引入" aria-label="Permalink to &quot;1、知识点引入&quot;">​</a></h3><p><img src="https://cdn.staticaly.com/gh/clint-sfy/blogcdn@master/img/c_plus/%E5%A4%9A%E6%80%811.png" alt=""></p><p>父类指针（引用）保存 子类空间地址的目的 就是让算法通用。</p><h3 id="_2、父类指针-保存-子类空间地址-带来的问题" tabindex="-1">2、父类指针 保存 子类空间地址（带来的问题） <a class="header-anchor" href="#_2、父类指针-保存-子类空间地址-带来的问题" aria-label="Permalink to &quot;2、父类指针 保存 子类空间地址（带来的问题）&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Animal</span></span>
<span class="line"><span style="color:#ADBAC7;">2 {</span></span>
<span class="line"><span style="color:#6CB6FF;">3</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#6CB6FF;">4</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">speak</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#6CB6FF;">5</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">6</span><span style="color:#ADBAC7;"> cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;动物在说话&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">7</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">8</span><span style="color:#ADBAC7;"> };</span></span>
<span class="line"><span style="color:#6CB6FF;">9</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Dog</span><span style="color:#ADBAC7;">:</span><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Animal</span></span>
<span class="line"><span style="color:#ADBAC7;">10 {</span></span>
<span class="line"><span style="color:#6CB6FF;">11</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#6CB6FF;">12</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">speak</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#6CB6FF;">13</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">14</span><span style="color:#ADBAC7;"> cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;狗在汪汪&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">15</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">16</span><span style="color:#ADBAC7;"> };</span></span>
<span class="line"><span style="color:#6CB6FF;">17</span></span>
<span class="line"><span style="color:#6CB6FF;">18</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test01</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#6CB6FF;">19</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;"> Animal </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">p </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> Dog;</span></span>
<span class="line"><span style="color:#6CB6FF;">21</span><span style="color:#ADBAC7;"> p‐</span><span style="color:#F47067;">&gt;</span><span style="color:#DCBDFB;">speak</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#6CB6FF;">22</span><span style="color:#ADBAC7;"> }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span></span>
<span class="line"><span style="color:#24292E;">2 {</span></span>
<span class="line"><span style="color:#005CC5;">3</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#005CC5;">4</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">speak</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#005CC5;">5</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">6</span><span style="color:#24292E;"> cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;动物在说话&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#005CC5;">7</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">8</span><span style="color:#24292E;"> };</span></span>
<span class="line"><span style="color:#005CC5;">9</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Dog</span><span style="color:#24292E;">:</span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span></span>
<span class="line"><span style="color:#24292E;">10 {</span></span>
<span class="line"><span style="color:#005CC5;">11</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#005CC5;">12</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">speak</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#005CC5;">13</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">14</span><span style="color:#24292E;"> cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;狗在汪汪&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#005CC5;">15</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">16</span><span style="color:#24292E;"> };</span></span>
<span class="line"><span style="color:#005CC5;">17</span></span>
<span class="line"><span style="color:#005CC5;">18</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test01</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#005CC5;">19</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">20</span><span style="color:#24292E;"> Animal </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">p </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> Dog;</span></span>
<span class="line"><span style="color:#005CC5;">21</span><span style="color:#24292E;"> p‐</span><span style="color:#D73A49;">&gt;</span><span style="color:#6F42C1;">speak</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#005CC5;">22</span><span style="color:#24292E;"> }</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#adbac7;">动物在说话</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">动物在说话</span></span></code></pre></div><p>其实用户的需求：p-&gt;speak 希望等到的是“狗在汪汪” 而不是“动物在说话”。</p><p>原因在此：</p><p><img src="https://cdn.staticaly.com/gh/clint-sfy/blogcdn@master/img/c_plus/%E5%A4%9A%E6%80%812.png" alt=""></p><h3 id="_3、虚函数的定义-成员函数前加virtual修饰" tabindex="-1">3、虚函数的定义：成员函数前加virtual修饰 <a class="header-anchor" href="#_3、虚函数的定义-成员函数前加virtual修饰" aria-label="Permalink to &quot;3、虚函数的定义：成员函数前加virtual修饰&quot;">​</a></h3><p>子类重写父类的虚函数注意：有继承、子类重写父类虚函数（函数名、返回值类型、参数类型个数顺序 必须完全一致)。</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Animal</span></span>
<span class="line"><span style="color:#ADBAC7;">2 {</span></span>
<span class="line"><span style="color:#6CB6FF;">3</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#6CB6FF;">4</span><span style="color:#768390;"> //虚函数</span></span>
<span class="line"><span style="color:#6CB6FF;">5</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">virtual</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">speak</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#6CB6FF;">6</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">7</span><span style="color:#ADBAC7;"> cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;动物在说话&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">8</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">9</span><span style="color:#ADBAC7;"> };</span></span>
<span class="line"><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Dog</span><span style="color:#ADBAC7;">:</span><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Animal</span></span>
<span class="line"><span style="color:#ADBAC7;">11 {</span></span>
<span class="line"><span style="color:#6CB6FF;">12</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#6CB6FF;">13</span><span style="color:#768390;"> //子类重写 父类的虚函数</span></span>
<span class="line"><span style="color:#6CB6FF;">14</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">speak</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#6CB6FF;">15</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">16</span><span style="color:#ADBAC7;"> cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;狗在汪汪&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">17</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">18</span><span style="color:#ADBAC7;"> };</span></span>
<span class="line"><span style="color:#6CB6FF;">19</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Cat</span><span style="color:#ADBAC7;">:</span><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Animal</span></span>
<span class="line"><span style="color:#ADBAC7;">20 {</span></span>
<span class="line"><span style="color:#6CB6FF;">21</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#6CB6FF;">22</span><span style="color:#768390;"> //子类重写 父类的虚函数</span></span>
<span class="line"><span style="color:#6CB6FF;">23</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">speak</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#6CB6FF;">24</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">25</span><span style="color:#ADBAC7;"> cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;猫在喵喵&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">26</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">27</span><span style="color:#ADBAC7;"> };</span></span>
<span class="line"><span style="color:#6CB6FF;">28</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test01</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#6CB6FF;">29</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">30</span><span style="color:#ADBAC7;"> Animal </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">p1 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> Dog;</span></span>
<span class="line"><span style="color:#6CB6FF;">31</span><span style="color:#ADBAC7;"> p1‐</span><span style="color:#F47067;">&gt;</span><span style="color:#DCBDFB;">speak</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#6CB6FF;">32</span><span style="color:#ADBAC7;"> Animal </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">p2 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> Cat;</span></span>
<span class="line"><span style="color:#6CB6FF;">33</span><span style="color:#ADBAC7;"> p2‐</span><span style="color:#F47067;">&gt;</span><span style="color:#DCBDFB;">speak</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#6CB6FF;">34</span></span>
<span class="line"><span style="color:#6CB6FF;">35</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">delete</span><span style="color:#ADBAC7;"> p1;</span></span>
<span class="line"><span style="color:#6CB6FF;">36</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">delete</span><span style="color:#ADBAC7;"> p2;</span></span>
<span class="line"><span style="color:#6CB6FF;">37</span><span style="color:#ADBAC7;"> }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span></span>
<span class="line"><span style="color:#24292E;">2 {</span></span>
<span class="line"><span style="color:#005CC5;">3</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#005CC5;">4</span><span style="color:#6A737D;"> //虚函数</span></span>
<span class="line"><span style="color:#005CC5;">5</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">virtual</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">speak</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#005CC5;">6</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">7</span><span style="color:#24292E;"> cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;动物在说话&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#005CC5;">8</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">9</span><span style="color:#24292E;"> };</span></span>
<span class="line"><span style="color:#005CC5;">10</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Dog</span><span style="color:#24292E;">:</span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span></span>
<span class="line"><span style="color:#24292E;">11 {</span></span>
<span class="line"><span style="color:#005CC5;">12</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#005CC5;">13</span><span style="color:#6A737D;"> //子类重写 父类的虚函数</span></span>
<span class="line"><span style="color:#005CC5;">14</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">speak</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#005CC5;">15</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">16</span><span style="color:#24292E;"> cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;狗在汪汪&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#005CC5;">17</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">18</span><span style="color:#24292E;"> };</span></span>
<span class="line"><span style="color:#005CC5;">19</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Cat</span><span style="color:#24292E;">:</span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span></span>
<span class="line"><span style="color:#24292E;">20 {</span></span>
<span class="line"><span style="color:#005CC5;">21</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#005CC5;">22</span><span style="color:#6A737D;"> //子类重写 父类的虚函数</span></span>
<span class="line"><span style="color:#005CC5;">23</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">speak</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#005CC5;">24</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">25</span><span style="color:#24292E;"> cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;猫在喵喵&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#005CC5;">26</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">27</span><span style="color:#24292E;"> };</span></span>
<span class="line"><span style="color:#005CC5;">28</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test01</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#005CC5;">29</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">30</span><span style="color:#24292E;"> Animal </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">p1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> Dog;</span></span>
<span class="line"><span style="color:#005CC5;">31</span><span style="color:#24292E;"> p1‐</span><span style="color:#D73A49;">&gt;</span><span style="color:#6F42C1;">speak</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#005CC5;">32</span><span style="color:#24292E;"> Animal </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">p2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> Cat;</span></span>
<span class="line"><span style="color:#005CC5;">33</span><span style="color:#24292E;"> p2‐</span><span style="color:#D73A49;">&gt;</span><span style="color:#6F42C1;">speak</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#005CC5;">34</span></span>
<span class="line"><span style="color:#005CC5;">35</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">delete</span><span style="color:#24292E;"> p1;</span></span>
<span class="line"><span style="color:#005CC5;">36</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">delete</span><span style="color:#24292E;"> p2;</span></span>
<span class="line"><span style="color:#005CC5;">37</span><span style="color:#24292E;"> }</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#adbac7;">狗在汪汪</span></span>
<span class="line"><span style="color:#adbac7;">猫在喵喵</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">狗在汪汪</span></span>
<span class="line"><span style="color:#24292e;">猫在喵喵</span></span></code></pre></div><h3 id="_4、虚函数原理" tabindex="-1">4、虚函数原理 <a class="header-anchor" href="#_4、虚函数原理" aria-label="Permalink to &quot;4、虚函数原理&quot;">​</a></h3><p>如果一个类中的成员函数 被virtual修饰，那么这个函数就是虚函数。类就会产生一个虚函数指针（vfptr）指向了一张虚函数表（vftable）。 如果这个类 没有涉及到继承， 这时虚函数表中 纪录及时当前类的虚函数入口地址。</p><p><img src="https://cdn.staticaly.com/gh/clint-sfy/blogcdn@master/img/c_plus/%E5%A4%9A%E6%80%813.png" alt=""></p><h2 id="_34-纯虚函数" tabindex="-1">34. 纯虚函数 <a class="header-anchor" href="#_34-纯虚函数" aria-label="Permalink to &quot;34. 纯虚函数&quot;">​</a></h2><p>虚函数不实现函数体：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#adbac7;">1 class Animal</span></span>
<span class="line"><span style="color:#adbac7;">2 {</span></span>
<span class="line"><span style="color:#adbac7;">3 public:</span></span>
<span class="line"><span style="color:#adbac7;">4 //纯虚函数</span></span>
<span class="line"><span style="color:#adbac7;">5 virtual void speak(void)=0;</span></span>
<span class="line"><span style="color:#adbac7;">6 };</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">1 class Animal</span></span>
<span class="line"><span style="color:#24292e;">2 {</span></span>
<span class="line"><span style="color:#24292e;">3 public:</span></span>
<span class="line"><span style="color:#24292e;">4 //纯虚函数</span></span>
<span class="line"><span style="color:#24292e;">5 virtual void speak(void)=0;</span></span>
<span class="line"><span style="color:#24292e;">6 };</span></span></code></pre></div><p>一旦类中有纯虚函数，那么这个类 就是抽象类。</p><p>抽象类 不能实例化 对象。（Animal ob；错误）</p><p>抽象类 必须被继承 同时 子类 必须重写 父类的所有纯虚函数，否则 子类也是抽象类。</p><p><strong>抽象类主要的目的 是设计 类的接口：</strong></p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> #include </span><span style="color:#F47067;">&lt;</span><span style="color:#ADBAC7;">iostream</span><span style="color:#F47067;">&gt;</span></span>
<span class="line"><span style="color:#6CB6FF;">2</span></span>
<span class="line"><span style="color:#6CB6FF;">3</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">using</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">namespace</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">std</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#6CB6FF;">4</span><span style="color:#768390;"> //抽象制作饮品</span></span>
<span class="line"><span style="color:#6CB6FF;">5</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">AbstractDrinking</span><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#6CB6FF;">6</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#6CB6FF;">7</span><span style="color:#768390;"> //烧水</span></span>
<span class="line"><span style="color:#6CB6FF;">8</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">virtual</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">Boil</span><span style="color:#ADBAC7;">() </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#6CB6FF;">9</span><span style="color:#768390;"> //冲泡</span></span>
<span class="line"><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">virtual</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">Brew</span><span style="color:#ADBAC7;">() </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#6CB6FF;">11</span><span style="color:#768390;"> //倒入杯中</span></span>
<span class="line"><span style="color:#6CB6FF;">12</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">virtual</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">PourInCup</span><span style="color:#ADBAC7;">() </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#6CB6FF;">13</span><span style="color:#768390;"> //加入辅料</span></span>
<span class="line"><span style="color:#6CB6FF;">14</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">virtual</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">PutSomething</span><span style="color:#ADBAC7;">() </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#6CB6FF;">15</span><span style="color:#768390;"> //规定流程</span></span>
<span class="line"><span style="color:#6CB6FF;">16</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">MakeDrink</span><span style="color:#ADBAC7;">(){</span></span>
<span class="line"><span style="color:#6CB6FF;">17</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">‐</span><span style="color:#F47067;">&gt;</span><span style="color:#DCBDFB;">Boil</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#6CB6FF;">18</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">Brew</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#6CB6FF;">19</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">PourInCup</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">PutSomething</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#6CB6FF;">21</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">22</span><span style="color:#ADBAC7;"> };</span></span>
<span class="line"><span style="color:#6CB6FF;">23</span></span>
<span class="line"><span style="color:#6CB6FF;">24</span><span style="color:#768390;"> //制作咖啡</span></span>
<span class="line"><span style="color:#6CB6FF;">25</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Coffee</span><span style="color:#ADBAC7;"> : </span><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">AbstractDrinking</span><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#6CB6FF;">26</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#6CB6FF;">27</span><span style="color:#768390;"> //烧水</span></span>
<span class="line"><span style="color:#6CB6FF;">28</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">virtual</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">Boil</span><span style="color:#ADBAC7;">(){</span></span>
<span class="line"><span style="color:#6CB6FF;">29</span><span style="color:#ADBAC7;"> cout </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;煮农夫山泉!&quot;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">30</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">31</span><span style="color:#768390;"> //冲泡</span></span>
<span class="line"><span style="color:#6CB6FF;">32</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">virtual</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">Brew</span><span style="color:#ADBAC7;">(){</span></span>
<span class="line"><span style="color:#6CB6FF;">33</span><span style="color:#ADBAC7;"> cout </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;冲泡咖啡!&quot;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">34</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">35</span><span style="color:#768390;"> //倒入杯中</span></span>
<span class="line"><span style="color:#6CB6FF;">36</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">virtual</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">PourInCup</span><span style="color:#ADBAC7;">(){</span></span>
<span class="line"><span style="color:#6CB6FF;">37</span><span style="color:#ADBAC7;"> cout </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;将咖啡倒入杯中!&quot;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">38</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">39</span><span style="color:#768390;"> //加入辅料</span></span>
<span class="line"><span style="color:#6CB6FF;">40</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">virtual</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">PutSomething</span><span style="color:#ADBAC7;">(){</span></span>
<span class="line"><span style="color:#6CB6FF;">41</span><span style="color:#ADBAC7;"> cout </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;加入牛奶!&quot;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">42</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">43</span><span style="color:#ADBAC7;"> };</span></span>
<span class="line"><span style="color:#6CB6FF;">44</span></span>
<span class="line"><span style="color:#6CB6FF;">45</span><span style="color:#768390;"> //制作茶水</span></span>
<span class="line"><span style="color:#6CB6FF;">46</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Tea</span><span style="color:#ADBAC7;"> : </span><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">AbstractDrinking</span><span style="color:#ADBAC7;">{</span></span>
<span class="line"><span style="color:#6CB6FF;">47</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#6CB6FF;">48</span><span style="color:#768390;"> //烧水</span></span>
<span class="line"><span style="color:#6CB6FF;">49</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">virtual</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">Boil</span><span style="color:#ADBAC7;">(){</span></span>
<span class="line"><span style="color:#6CB6FF;">50</span><span style="color:#ADBAC7;"> cout </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;煮自来水!&quot;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">51</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">52</span><span style="color:#768390;"> //冲泡</span></span>
<span class="line"><span style="color:#6CB6FF;">53</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">virtual</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">Brew</span><span style="color:#ADBAC7;">(){</span></span>
<span class="line"><span style="color:#6CB6FF;">54</span><span style="color:#ADBAC7;"> cout </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;冲泡茶叶!&quot;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">55</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">56</span><span style="color:#768390;"> //倒入杯中</span></span>
<span class="line"><span style="color:#6CB6FF;">57</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">virtual</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">PourInCup</span><span style="color:#ADBAC7;">(){</span></span>
<span class="line"><span style="color:#6CB6FF;">58</span><span style="color:#ADBAC7;"> cout </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;将茶水倒入杯中!&quot;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">59</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">60</span><span style="color:#768390;"> //加入辅料</span></span>
<span class="line"><span style="color:#6CB6FF;">61</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">virtual</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">PutSomething</span><span style="color:#ADBAC7;">(){</span></span>
<span class="line"><span style="color:#6CB6FF;">62</span><span style="color:#ADBAC7;"> cout </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;加入食盐!&quot;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">63</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">64</span><span style="color:#ADBAC7;"> };</span></span>
<span class="line"><span style="color:#6CB6FF;">65</span></span>
<span class="line"><span style="color:#6CB6FF;">66</span><span style="color:#768390;"> //业务函数</span></span>
<span class="line"><span style="color:#6CB6FF;">67</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">DoBussiness</span><span style="color:#ADBAC7;">(AbstractDrinking</span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;"> drink){</span></span>
<span class="line"><span style="color:#6CB6FF;">68</span><span style="color:#ADBAC7;"> drink‐</span><span style="color:#F47067;">&gt;</span><span style="color:#DCBDFB;">MakeDrink</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#6CB6FF;">69</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">delete</span><span style="color:#ADBAC7;"> drink;</span></span>
<span class="line"><span style="color:#6CB6FF;">70</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">71</span></span>
<span class="line"><span style="color:#6CB6FF;">72</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">main</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> argc, </span><span style="color:#F47067;">char</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;">argv[])</span></span>
<span class="line"><span style="color:#6CB6FF;">73</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">74</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">DoBussiness</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> Coffee);</span></span>
<span class="line"><span style="color:#6CB6FF;">75</span><span style="color:#ADBAC7;"> cout </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;‐‐‐‐‐‐‐‐‐‐‐‐‐‐&quot;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">76</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">DoBussiness</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> Tea);</span></span>
<span class="line"><span style="color:#6CB6FF;">77</span></span>
<span class="line"><span style="color:#6CB6FF;">78</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">1</span><span style="color:#24292E;"> #include </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">iostream</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#005CC5;">2</span></span>
<span class="line"><span style="color:#005CC5;">3</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">using</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">namespace</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">std</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#005CC5;">4</span><span style="color:#6A737D;"> //抽象制作饮品</span></span>
<span class="line"><span style="color:#005CC5;">5</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">AbstractDrinking</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#005CC5;">6</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#005CC5;">7</span><span style="color:#6A737D;"> //烧水</span></span>
<span class="line"><span style="color:#005CC5;">8</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">virtual</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Boil</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#005CC5;">9</span><span style="color:#6A737D;"> //冲泡</span></span>
<span class="line"><span style="color:#005CC5;">10</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">virtual</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Brew</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#005CC5;">11</span><span style="color:#6A737D;"> //倒入杯中</span></span>
<span class="line"><span style="color:#005CC5;">12</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">virtual</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PourInCup</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#005CC5;">13</span><span style="color:#6A737D;"> //加入辅料</span></span>
<span class="line"><span style="color:#005CC5;">14</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">virtual</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PutSomething</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#005CC5;">15</span><span style="color:#6A737D;"> //规定流程</span></span>
<span class="line"><span style="color:#005CC5;">16</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MakeDrink</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#005CC5;">17</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">‐</span><span style="color:#D73A49;">&gt;</span><span style="color:#6F42C1;">Boil</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#005CC5;">18</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Brew</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#005CC5;">19</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PourInCup</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#005CC5;">20</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PutSomething</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#005CC5;">21</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">22</span><span style="color:#24292E;"> };</span></span>
<span class="line"><span style="color:#005CC5;">23</span></span>
<span class="line"><span style="color:#005CC5;">24</span><span style="color:#6A737D;"> //制作咖啡</span></span>
<span class="line"><span style="color:#005CC5;">25</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Coffee</span><span style="color:#24292E;"> : </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">AbstractDrinking</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#005CC5;">26</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#005CC5;">27</span><span style="color:#6A737D;"> //烧水</span></span>
<span class="line"><span style="color:#005CC5;">28</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">virtual</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Boil</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#005CC5;">29</span><span style="color:#24292E;"> cout </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;煮农夫山泉!&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> endl;</span></span>
<span class="line"><span style="color:#005CC5;">30</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">31</span><span style="color:#6A737D;"> //冲泡</span></span>
<span class="line"><span style="color:#005CC5;">32</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">virtual</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Brew</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#005CC5;">33</span><span style="color:#24292E;"> cout </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;冲泡咖啡!&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> endl;</span></span>
<span class="line"><span style="color:#005CC5;">34</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">35</span><span style="color:#6A737D;"> //倒入杯中</span></span>
<span class="line"><span style="color:#005CC5;">36</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">virtual</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PourInCup</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#005CC5;">37</span><span style="color:#24292E;"> cout </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;将咖啡倒入杯中!&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> endl;</span></span>
<span class="line"><span style="color:#005CC5;">38</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">39</span><span style="color:#6A737D;"> //加入辅料</span></span>
<span class="line"><span style="color:#005CC5;">40</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">virtual</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PutSomething</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#005CC5;">41</span><span style="color:#24292E;"> cout </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;加入牛奶!&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> endl;</span></span>
<span class="line"><span style="color:#005CC5;">42</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">43</span><span style="color:#24292E;"> };</span></span>
<span class="line"><span style="color:#005CC5;">44</span></span>
<span class="line"><span style="color:#005CC5;">45</span><span style="color:#6A737D;"> //制作茶水</span></span>
<span class="line"><span style="color:#005CC5;">46</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Tea</span><span style="color:#24292E;"> : </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">AbstractDrinking</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#005CC5;">47</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#005CC5;">48</span><span style="color:#6A737D;"> //烧水</span></span>
<span class="line"><span style="color:#005CC5;">49</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">virtual</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Boil</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#005CC5;">50</span><span style="color:#24292E;"> cout </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;煮自来水!&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> endl;</span></span>
<span class="line"><span style="color:#005CC5;">51</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">52</span><span style="color:#6A737D;"> //冲泡</span></span>
<span class="line"><span style="color:#005CC5;">53</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">virtual</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Brew</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#005CC5;">54</span><span style="color:#24292E;"> cout </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;冲泡茶叶!&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> endl;</span></span>
<span class="line"><span style="color:#005CC5;">55</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">56</span><span style="color:#6A737D;"> //倒入杯中</span></span>
<span class="line"><span style="color:#005CC5;">57</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">virtual</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PourInCup</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#005CC5;">58</span><span style="color:#24292E;"> cout </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;将茶水倒入杯中!&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> endl;</span></span>
<span class="line"><span style="color:#005CC5;">59</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">60</span><span style="color:#6A737D;"> //加入辅料</span></span>
<span class="line"><span style="color:#005CC5;">61</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">virtual</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PutSomething</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#005CC5;">62</span><span style="color:#24292E;"> cout </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;加入食盐!&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> endl;</span></span>
<span class="line"><span style="color:#005CC5;">63</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">64</span><span style="color:#24292E;"> };</span></span>
<span class="line"><span style="color:#005CC5;">65</span></span>
<span class="line"><span style="color:#005CC5;">66</span><span style="color:#6A737D;"> //业务函数</span></span>
<span class="line"><span style="color:#005CC5;">67</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">DoBussiness</span><span style="color:#24292E;">(AbstractDrinking</span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> drink){</span></span>
<span class="line"><span style="color:#005CC5;">68</span><span style="color:#24292E;"> drink‐</span><span style="color:#D73A49;">&gt;</span><span style="color:#6F42C1;">MakeDrink</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#005CC5;">69</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">delete</span><span style="color:#24292E;"> drink;</span></span>
<span class="line"><span style="color:#005CC5;">70</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">71</span></span>
<span class="line"><span style="color:#005CC5;">72</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> argc, </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">argv[])</span></span>
<span class="line"><span style="color:#005CC5;">73</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">74</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">DoBussiness</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> Coffee);</span></span>
<span class="line"><span style="color:#005CC5;">75</span><span style="color:#24292E;"> cout </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;‐‐‐‐‐‐‐‐‐‐‐‐‐‐&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> endl;</span></span>
<span class="line"><span style="color:#005CC5;">76</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">DoBussiness</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> Tea);</span></span>
<span class="line"><span style="color:#005CC5;">77</span></span>
<span class="line"><span style="color:#005CC5;">78</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span></code></pre></div><p><strong>问题1：虚函数 和纯虚函数的 区别</strong></p><p>虚函数：virtual修饰 有函数体 不会导致父类为抽象类。</p><p>纯虚函数：virtual修饰，=0，没有函数体 导致父类为抽象类。子类必须重写父类的所有纯虚函数。</p><h2 id="_35-虚析构函数" tabindex="-1">35. 虚析构函数 <a class="header-anchor" href="#_35-虚析构函数" aria-label="Permalink to &quot;35.  虚析构函数&quot;">​</a></h2><p>虚析构：通过父类指针 释放整个子类空间。</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Animal</span></span>
<span class="line"><span style="color:#ADBAC7;">2 {</span></span>
<span class="line"><span style="color:#6CB6FF;">3</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#6CB6FF;">4</span><span style="color:#768390;"> //虚函数</span></span>
<span class="line"><span style="color:#6CB6FF;">5</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">virtual</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">speak</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#6CB6FF;">6</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">7</span><span style="color:#ADBAC7;"> cout </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;动物在说话&quot;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">8</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">9</span><span style="color:#768390;"> //虚析构</span></span>
<span class="line"><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">virtual</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">~</span><span style="color:#DCBDFB;">Animal</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#6CB6FF;">11</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">12</span><span style="color:#ADBAC7;"> cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;Animal的析构函数&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">13</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">14</span><span style="color:#ADBAC7;"> };</span></span>
<span class="line"><span style="color:#6CB6FF;">15</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Dog</span><span style="color:#ADBAC7;"> :</span><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Animal</span></span>
<span class="line"><span style="color:#ADBAC7;">16 {</span></span>
<span class="line"><span style="color:#6CB6FF;">17</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#6CB6FF;">18</span><span style="color:#768390;"> //子类重写 父类的虚函数</span></span>
<span class="line"><span style="color:#6CB6FF;">19</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">speak</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">21</span><span style="color:#ADBAC7;"> cout </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;狗在汪汪&quot;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">22</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">23</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">~</span><span style="color:#DCBDFB;">Dog</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#6CB6FF;">24</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">25</span><span style="color:#ADBAC7;"> cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;Dog的析构函数&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">26</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">27</span><span style="color:#ADBAC7;"> };</span></span>
<span class="line"><span style="color:#6CB6FF;">28</span></span>
<span class="line"><span style="color:#6CB6FF;">29</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test01</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#6CB6FF;">30</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">31</span><span style="color:#ADBAC7;"> Animal</span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;"> p1 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> Dog;</span></span>
<span class="line"><span style="color:#6CB6FF;">32</span><span style="color:#ADBAC7;"> p1‐</span><span style="color:#F47067;">&gt;</span><span style="color:#DCBDFB;">speak</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#6CB6FF;">33</span></span>
<span class="line"><span style="color:#6CB6FF;">34</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">delete</span><span style="color:#ADBAC7;"> p1;</span></span>
<span class="line"><span style="color:#6CB6FF;">35</span><span style="color:#ADBAC7;"> }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span></span>
<span class="line"><span style="color:#24292E;">2 {</span></span>
<span class="line"><span style="color:#005CC5;">3</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#005CC5;">4</span><span style="color:#6A737D;"> //虚函数</span></span>
<span class="line"><span style="color:#005CC5;">5</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">virtual</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">speak</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#005CC5;">6</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">7</span><span style="color:#24292E;"> cout </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;动物在说话&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> endl;</span></span>
<span class="line"><span style="color:#005CC5;">8</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">9</span><span style="color:#6A737D;"> //虚析构</span></span>
<span class="line"><span style="color:#005CC5;">10</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">virtual</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">~</span><span style="color:#6F42C1;">Animal</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#005CC5;">11</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">12</span><span style="color:#24292E;"> cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;Animal的析构函数&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#005CC5;">13</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">14</span><span style="color:#24292E;"> };</span></span>
<span class="line"><span style="color:#005CC5;">15</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Dog</span><span style="color:#24292E;"> :</span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span></span>
<span class="line"><span style="color:#24292E;">16 {</span></span>
<span class="line"><span style="color:#005CC5;">17</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#005CC5;">18</span><span style="color:#6A737D;"> //子类重写 父类的虚函数</span></span>
<span class="line"><span style="color:#005CC5;">19</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">speak</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#005CC5;">20</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">21</span><span style="color:#24292E;"> cout </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;狗在汪汪&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> endl;</span></span>
<span class="line"><span style="color:#005CC5;">22</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">23</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">~</span><span style="color:#6F42C1;">Dog</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#005CC5;">24</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">25</span><span style="color:#24292E;"> cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;Dog的析构函数&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#005CC5;">26</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">27</span><span style="color:#24292E;"> };</span></span>
<span class="line"><span style="color:#005CC5;">28</span></span>
<span class="line"><span style="color:#005CC5;">29</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test01</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#005CC5;">30</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">31</span><span style="color:#24292E;"> Animal</span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> p1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> Dog;</span></span>
<span class="line"><span style="color:#005CC5;">32</span><span style="color:#24292E;"> p1‐</span><span style="color:#D73A49;">&gt;</span><span style="color:#6F42C1;">speak</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#005CC5;">33</span></span>
<span class="line"><span style="color:#005CC5;">34</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">delete</span><span style="color:#24292E;"> p1;</span></span>
<span class="line"><span style="color:#005CC5;">35</span><span style="color:#24292E;"> }</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#adbac7;">狗在汪汪</span></span>
<span class="line"><span style="color:#adbac7;">Dog的析够函数</span></span>
<span class="line"><span style="color:#adbac7;">Animal的析够函数</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">狗在汪汪</span></span>
<span class="line"><span style="color:#24292e;">Dog的析够函数</span></span>
<span class="line"><span style="color:#24292e;">Animal的析够函数</span></span></code></pre></div><p>构造的顺序：父类---&gt;成员----&gt;子类</p><p>析构的顺序：子类---&gt;成员----&gt;父类</p><h2 id="_36-纯虚析构函数" tabindex="-1">36. 纯虚析构函数 <a class="header-anchor" href="#_36-纯虚析构函数" aria-label="Permalink to &quot;36. 纯虚析构函数&quot;">​</a></h2><p>纯虚析构的本质：是析构函数，各个类的回收工作。而且析构函数不能被继承。</p><p>必须为纯虚析构函数提供一个函数体。</p><p>纯虚析构函数 必须在类外实现</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark-dimmed vp-code-dark"><code><span class="line"><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> #include </span><span style="color:#F47067;">&lt;</span><span style="color:#ADBAC7;">iostream</span><span style="color:#F47067;">&gt;</span></span>
<span class="line"><span style="color:#6CB6FF;">2</span></span>
<span class="line"><span style="color:#6CB6FF;">3</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">using</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">namespace</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">std</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#6CB6FF;">4</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Animal</span></span>
<span class="line"><span style="color:#ADBAC7;">5 {</span></span>
<span class="line"><span style="color:#6CB6FF;">6</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#6CB6FF;">7</span><span style="color:#768390;"> //纯虚函数</span></span>
<span class="line"><span style="color:#6CB6FF;">8</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">virtual</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">speak</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">)</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#6CB6FF;">9</span></span>
<span class="line"><span style="color:#6CB6FF;">10</span><span style="color:#768390;"> //纯虚析构函数 必须在类外实现</span></span>
<span class="line"><span style="color:#6CB6FF;">11</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">virtual</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">~</span><span style="color:#DCBDFB;">Animal</span><span style="color:#ADBAC7;">()</span><span style="color:#F47067;">=</span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#6CB6FF;">12</span><span style="color:#ADBAC7;"> };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6CB6FF;">13</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Dog</span><span style="color:#ADBAC7;"> :</span><span style="color:#F47067;">public</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Animal</span></span>
<span class="line"><span style="color:#ADBAC7;">14 {</span></span>
<span class="line"><span style="color:#6CB6FF;">15</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">public:</span></span>
<span class="line"><span style="color:#6CB6FF;">16</span><span style="color:#768390;"> //子类重写 父类的虚函数</span></span>
<span class="line"><span style="color:#6CB6FF;">17</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">speak</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#6CB6FF;">18</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">19</span><span style="color:#ADBAC7;"> cout </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;狗在汪汪&quot;</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;"> endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">21</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">~</span><span style="color:#DCBDFB;">Dog</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#6CB6FF;">22</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">23</span><span style="color:#ADBAC7;"> cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;Dog的析构函数&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">24</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">25</span><span style="color:#ADBAC7;"> };</span></span>
<span class="line"><span style="color:#6CB6FF;">26</span></span>
<span class="line"><span style="color:#6CB6FF;">27</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">void</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test01</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#6CB6FF;">28</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">29</span><span style="color:#ADBAC7;"> Animal</span><span style="color:#F47067;">*</span><span style="color:#ADBAC7;"> p1 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">new</span><span style="color:#ADBAC7;"> Dog;</span></span>
<span class="line"><span style="color:#6CB6FF;">30</span><span style="color:#ADBAC7;"> p1‐</span><span style="color:#F47067;">&gt;</span><span style="color:#DCBDFB;">speak</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#6CB6FF;">31</span></span>
<span class="line"><span style="color:#6CB6FF;">32</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">delete</span><span style="color:#ADBAC7;"> p1;</span></span>
<span class="line"><span style="color:#6CB6FF;">33</span></span>
<span class="line"><span style="color:#6CB6FF;">34</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">35</span></span>
<span class="line"><span style="color:#6CB6FF;">36</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">main</span><span style="color:#ADBAC7;">(</span><span style="color:#F47067;">int</span><span style="color:#ADBAC7;"> argc, </span><span style="color:#F47067;">char*</span><span style="color:#ADBAC7;"> argv[])</span></span>
<span class="line"><span style="color:#6CB6FF;">37</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">38</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">test01</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#6CB6FF;">39</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">return</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#6CB6FF;">40</span><span style="color:#ADBAC7;"> }</span></span>
<span class="line"><span style="color:#6CB6FF;">41</span></span>
<span class="line"><span style="color:#6CB6FF;">42</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">Animal</span><span style="color:#ADBAC7;">::</span><span style="color:#F47067;">~</span><span style="color:#DCBDFB;">Animal</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#6CB6FF;">43</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#6CB6FF;">44</span><span style="color:#ADBAC7;"> cout</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#96D0FF;">&quot;Animal的析构函数&quot;</span><span style="color:#F47067;">&lt;&lt;</span><span style="color:#ADBAC7;">endl;</span></span>
<span class="line"><span style="color:#6CB6FF;">45</span><span style="color:#ADBAC7;"> }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">1</span><span style="color:#24292E;"> #include </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">iostream</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#005CC5;">2</span></span>
<span class="line"><span style="color:#005CC5;">3</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">using</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">namespace</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">std</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#005CC5;">4</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span></span>
<span class="line"><span style="color:#24292E;">5 {</span></span>
<span class="line"><span style="color:#005CC5;">6</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#005CC5;">7</span><span style="color:#6A737D;"> //纯虚函数</span></span>
<span class="line"><span style="color:#005CC5;">8</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">virtual</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">speak</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#005CC5;">9</span></span>
<span class="line"><span style="color:#005CC5;">10</span><span style="color:#6A737D;"> //纯虚析构函数 必须在类外实现</span></span>
<span class="line"><span style="color:#005CC5;">11</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">virtual</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">~</span><span style="color:#6F42C1;">Animal</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#005CC5;">12</span><span style="color:#24292E;"> };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5;">13</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Dog</span><span style="color:#24292E;"> :</span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span></span>
<span class="line"><span style="color:#24292E;">14 {</span></span>
<span class="line"><span style="color:#005CC5;">15</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">public:</span></span>
<span class="line"><span style="color:#005CC5;">16</span><span style="color:#6A737D;"> //子类重写 父类的虚函数</span></span>
<span class="line"><span style="color:#005CC5;">17</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">speak</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#005CC5;">18</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">19</span><span style="color:#24292E;"> cout </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;狗在汪汪&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> endl;</span></span>
<span class="line"><span style="color:#005CC5;">20</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">21</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">~</span><span style="color:#6F42C1;">Dog</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#005CC5;">22</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">23</span><span style="color:#24292E;"> cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;Dog的析构函数&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#005CC5;">24</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">25</span><span style="color:#24292E;"> };</span></span>
<span class="line"><span style="color:#005CC5;">26</span></span>
<span class="line"><span style="color:#005CC5;">27</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test01</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#005CC5;">28</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">29</span><span style="color:#24292E;"> Animal</span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> p1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> Dog;</span></span>
<span class="line"><span style="color:#005CC5;">30</span><span style="color:#24292E;"> p1‐</span><span style="color:#D73A49;">&gt;</span><span style="color:#6F42C1;">speak</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#005CC5;">31</span></span>
<span class="line"><span style="color:#005CC5;">32</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">delete</span><span style="color:#24292E;"> p1;</span></span>
<span class="line"><span style="color:#005CC5;">33</span></span>
<span class="line"><span style="color:#005CC5;">34</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">35</span></span>
<span class="line"><span style="color:#005CC5;">36</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> argc, </span><span style="color:#D73A49;">char*</span><span style="color:#24292E;"> argv[])</span></span>
<span class="line"><span style="color:#005CC5;">37</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">38</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test01</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#005CC5;">39</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#005CC5;">40</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#005CC5;">41</span></span>
<span class="line"><span style="color:#005CC5;">42</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Animal</span><span style="color:#24292E;">::</span><span style="color:#D73A49;">~</span><span style="color:#6F42C1;">Animal</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#005CC5;">43</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">44</span><span style="color:#24292E;"> cout</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">&quot;Animal的析构函数&quot;</span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;">endl;</span></span>
<span class="line"><span style="color:#005CC5;">45</span><span style="color:#24292E;"> }</span></span></code></pre></div><p><strong>问题1：虚析构 和纯虚析构的区别？</strong></p><p>虚析构：virtual修饰，有函数体，不会导致父类为抽象类。</p><p>纯虚析构：virtual修饰，=0，函数体必须类外实现，导致父类为抽象类。</p><h2 id="多态的常用问题" tabindex="-1">多态的常用问题 <a class="header-anchor" href="#多态的常用问题" aria-label="Permalink to &quot;多态的常用问题&quot;">​</a></h2><p><strong>1、多态的分类<strong><strong>2、谈谈你对</strong></strong>动态捆绑****机制的理解（虚函数实现原理）</strong></p><p><strong>3、重载、重定义、重写的区别</strong></p><p><strong>4、虚函数和纯虚函数的区别</strong></p><p><strong>5、虚析构和纯虚析构的区别</strong></p><p><strong>6、虚函数的作用</strong></p><p><strong>7、虚析构的作用</strong></p><h2 id="重载、重定义、重写的区别" tabindex="-1"><strong>重载、重定义、重写的区别</strong> <a class="header-anchor" href="#重载、重定义、重写的区别" aria-label="Permalink to &quot;**重载、重定义、重写的区别**&quot;">​</a></h2><p>重载：同一作用域，同名函数，参数的顺序、个数、类型不同 都可以重载。函数的返回值类型不能作为重载条件（函数重载、运算符重载）</p><p>重定义：有继承，子类 重定义 父类的同名函数（非虚函数）， 参数顺序、个数、类型可以不同。子类的同名函数会屏蔽父类的所有同名函数（可以通过作用域解决）</p><p>重写（覆盖）：有继承，子类 重写 父类的虚函数。返回值类型、函数名、参数顺序、个数、类型都必须一致</p></div></div></main><footer class="VPDocFooter" data-v-48b5bc29 data-v-1b7f98f6><!--[--><!--[--><!--[--><!--[--><!----><!--]--><!--]--><!--]--><!--]--><div class="edit-info" data-v-1b7f98f6><div class="edit-link" data-v-1b7f98f6><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/clint-sfy/clintsfy.github.io/edit/main/docs/courses/c_plus/01-C++的基础/02-c++类和对象.md" target="_blank" rel="noreferrer" data-v-1b7f98f6><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-1b7f98f6><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> 不妥之处，敬请雅正<!--]--></a></div><div class="last-updated" data-v-1b7f98f6><p class="VPLastUpdated" data-v-1b7f98f6 data-v-d84b8284>最后更新: <time datetime="2023-08-06T13:08:54.000Z" data-v-d84b8284></time></p></div></div><nav class="prev-next" data-v-1b7f98f6><div class="pager" data-v-1b7f98f6><a class="pager-link prev" href="/courses/c_plus/01-C++%E7%9A%84%E5%9F%BA%E7%A1%80/01-c++%E5%AF%B9c%E7%9A%84%E6%89%A9%E5%B1%95" data-v-1b7f98f6><span class="desc" data-v-1b7f98f6>上一篇</span><span class="title" data-v-1b7f98f6><div class="text-color-red mr-[6px]" style="font-weight: 550; display: inline-block;">1</div>C++对C的扩展</span></a></div><div class="pager" data-v-1b7f98f6><a class="pager-link next" href="/courses/c_plus/01-C++%E7%9A%84%E5%9F%BA%E7%A1%80/03-c++%E6%A8%A1%E6%9D%BF" data-v-1b7f98f6><span class="desc" data-v-1b7f98f6>下一篇</span><span class="title" data-v-1b7f98f6><div class="text-color-yellow mr-[6px]" style="font-weight: 550; display: inline-block;">3</div>C++模板</span></a></div></nav></footer><!--[--><!--[--><!--[--><div id="comment-container"></div><!--]--><!--]--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"archives.md\":\"92a42cb0\",\"about_archives.md\":\"6de7a81d\",\"about_donate.md\":\"c9422694\",\"about_see.md\":\"261cfb5b\",\"about_index.md\":\"10805d55\",\"about_me.md\":\"29b053c1\",\"categories_chatgpt_02-chatgpt_03-ai做ppt.md\":\"d16f43d8\",\"categories_chatgpt_02-chatgpt_04-ai编写java项目.md\":\"4f8d18cd\",\"categories_chatgpt_02-chatgpt_02-学术提示词.md\":\"a281fb08\",\"categories_chatgpt_01-chatgpt开源项目_02-gpt学术项目.md\":\"78c61d95\",\"categories_chatgpt_02-chatgpt_01-角色扮演.md\":\"76940585\",\"categories_issues_2022_03_24_创建一个自身类的静态对象变量，究竟会如何执行？.md\":\"01c94983\",\"categories_issues_2022_10_15_解决windows桌面部分快捷方式图标变为空白的问题.md\":\"8b2db978\",\"categories_issues_2022_01_26_javascript 无法存储 java  long 类型数据问题.md\":\"c006d47d\",\"categories_issues_2021_12_13_无法访问f盘。文件或目录损坏且无法读取.md\":\"30e246a5\",\"categories_chatgpt_01-chatgpt开源项目_01-gpt项目.md\":\"90ae0368\",\"categories_issues_2022_11_06_解决dotnet安装后报错的问题.md\":\"54c4e042\",\"categories_issues_2021_12_01_f盘上的回收站已损坏。是否清空该驱动器上的回收站.md\":\"da0fee6c\",\"categories_issues_2022_10_29_docker设置网络代理.md\":\"7b600694\",\"categories_issues_2022_11_04_解决docker安装prometheus启动报错的问题.md\":\"217a006f\",\"categories_issues_2021_12_08_for循环中删除集合元素隐藏的陷阱.md\":\"d112429d\",\"categories_issues_2021_12_10_command line is too long. shorten command line for xxx or also for spring boot default configuration.md\":\"0a4c5964\",\"categories_issues_2022_10_25_解决centos8执行yum安装报错.md\":\"001fb639\",\"categories_issues_2022_08_11_执行shell脚本，报java command not found.md\":\"52ee5f37\",\"categories_issues_2022_09_05_nginx转发请求，报13：permission denied错误.md\":\"0a9a98cc\",\"categories_issues_2022_09_23_解决无法重复读取请求体和响应体的问题.md\":\"e4d80235\",\"categories_issues_2021_12_11_sql 注入攻击风险.md\":\"256fae1e\",\"categories_issues_2022_08_31_springboot项目引入openfeign后无法启动.md\":\"2b432f80\",\"categories_issues_index.md\":\"0d504811\",\"courses_c_01-c语言基础_01-c语言基础概述.md\":\"d676a58a\",\"categories_issues_2022_11_23_解决maven传递依赖污染的问题.md\":\"04ea7db1\",\"courses_c_01-c语言基础_03-函数.md\":\"ab9c55e0\",\"courses_c_01-c语言基础_02-数组.md\":\"03535c16\",\"courses_c_01-c语言基础_06-动态内存申请.md\":\"a0b786bc\",\"courses_c_01-c语言基础_04-预处理.md\":\"a864e152\",\"courses_c_01-c语言基础_05-指针.md\":\"ff5aa88c\",\"courses_c_01-c语言基础_08-结构体.md\":\"a2ddb074\",\"courses_c_01-c语言基础_07-字符串处理函数.md\":\"4622284c\",\"courses_c_01-c语言基础_11-makefile.md\":\"4fb3f5e8\",\"courses_c_index.md\":\"3544ddc6\",\"courses_c_01-c语言基础_10-文件.md\":\"c1317cd8\",\"courses_c_plus_01-c__的基础_01-c__对c的扩展.md\":\"5ca6700f\",\"courses_c_01-c语言基础_09-链表.md\":\"ae312288\",\"courses_c_plus_02-c__的stl_10-其他补充.md\":\"1372c656\",\"courses_c_plus_02-c__的stl_07-list容器.md\":\"5ff94548\",\"courses_c_plus_02-c__的stl_08-set容器.md\":\"947b4983\",\"courses_c_plus_02-c__的stl_01-c__stl.md\":\"fcd57999\",\"courses_c_plus_02-c__的stl_05-stack容器.md\":\"4a4a2a52\",\"courses_c_plus_02-c__的stl_09-map容器.md\":\"23fe4b54\",\"courses_python_01-python基础篇_01-python基础.md\":\"27d99404\",\"courses_c_plus_01-c__的基础_04-c__类型转换.md\":\"0a4ba8f2\",\"courses_tangyudi_01-数学基础篇_03-泰勒公式和拉格朗日.md\":\"2dfdd977\",\"courses_tangyudi_01-数学基础篇_04-线性代数基础.md\":\"29657563\",\"courses_tangyudi_01-数学基础篇_05-特征值与矩阵分解.md\":\"6be6232f\",\"courses_tangyudi_01-数学基础篇_06-随机变量.md\":\"2c29e274\",\"courses_python_02-python进阶篇_02-pandas.md\":\"e7762c38\",\"courses_c_plus_index.md\":\"ab462b93\",\"courses_c_plus_02-c__的stl_03-vector容器.md\":\"ae12ed1f\",\"courses_tangyudi_01-数学基础篇_08-几种分布.md\":\"3014eea9\",\"courses_tangyudi_01-数学基础篇_09-核函数变换.md\":\"b9546e20\",\"courses_tangyudi_01-数学基础篇_10-熵与激活函数.md\":\"fe2a3ec9\",\"courses_c_plus_02-c__的stl_02-string容器.md\":\"01557fa9\",\"courses_c_plus_02-c__的stl_04-deque容器.md\":\"350f8c3e\",\"courses_c_plus_02-c__的stl_11-常见算法.md\":\"a50202be\",\"courses_c_plus_02-c__的stl_06-queue容器.md\":\"218947f1\",\"courses_tangyudi_01-数学基础篇_14-方差分析.md\":\"df819225\",\"courses_tangyudi_01-数学基础篇_13-相关分析.md\":\"133dffd2\",\"courses_c_plus_01-c__的基础_05-c__异常.md\":\"88ef74cf\",\"courses_tangyudi_01-数学基础篇_12-假设检验.md\":\"279ba430\",\"courses_tangyudi_01-数学基础篇_01-高等数学基础.md\":\"9a2d2863\",\"courses_python_02-python进阶篇_01-numpy.md\":\"4ce77612\",\"courses_tangyudi_01-数学基础篇_02-微积分.md\":\"01797136\",\"courses_tangyudi_01-数学基础篇_11-回归分析.md\":\"8dec020c\",\"courses_tangyudi_01-数学基础篇_07-概率论基础.md\":\"75a635e6\",\"courses_c_plus_01-c__的基础_03-c__模板.md\":\"6c569931\",\"courses_python_02-python进阶篇_04-seaborn.md\":\"3d5eed21\",\"courses_tangyudi_02-机器学习篇_02-模型评估方法.md\":\"87c1fb6c\",\"courses_tangyudi_01-数学基础篇_16-贝叶斯分析.md\":\"39c53b59\",\"courses_tangyudi_01-数学基础篇_15-聚类分析.md\":\"94ea83a4\",\"courses_tangyudi_02-机器学习篇_03-逻辑回归.md\":\"9fb0c385\",\"courses_python_02-python进阶篇_03-matplotlib.md\":\"f8148578\",\"courses_tangyudi_02-机器学习篇_01-线性回归.md\":\"6dffb065\",\"courses_c_plus_01-c__的基础_02-c__类和对象.md\":\"5fedb2f2\",\"courses_tangyudi_02-机器学习篇_04-聚类算法.md\":\"f4c15bba\",\"courses_tangyudi_02-机器学习篇_05-决策树.md\":\"af3bc8ba\",\"courses_yuanzi_03-qt应用开发和部署_09-文本读写.md\":\"8a75a832\",\"courses_tangyudi_02-机器学习篇_08-神经网络.md\":\"d21d441c\",\"courses_yuanzi_03-qt应用开发和部署_05-布局管理.md\":\"3e8dfa3f\",\"courses_tangyudi_02-机器学习篇_11-词向量.md\":\"cdba8cba\",\"courses_tangyudi_02-机器学习篇_09-贝叶斯.md\":\"2ba3440c\",\"courses_tangyudi_02-机器学习篇_10-关联规则.md\":\"9e382d0f\",\"courses_tangyudi_03-深度学习篇_04-yolo.md\":\"d1a0718f\",\"courses_tangyudi_02-机器学习篇_07-支持向量机.md\":\"2b1ec0b3\",\"courses_yuanzi_03-qt应用开发和部署_06-容器.md\":\"b7372cbe\",\"courses_yuanzi_03-qt应用开发和部署_08-项目控制组（基于项）.md\":\"faa33769\",\"courses_yuanzi_03-qt应用开发和部署_01-linux安装qt.md\":\"be7620f9\",\"courses_yuanzi_03-qt应用开发和部署_02-按钮.md\":\"7b74d15e\",\"courses_yuanzi_03-qt应用开发和部署_07-项目式视图组（基于模型）.md\":\"4eeff5e4\",\"courses_yuanzi_03-qt应用开发和部署_12-tcp通信.md\":\"24501abe\",\"courses_yuanzi_03-qt应用开发和部署_11-多线程.md\":\"8e1e2213\",\"courses_yuanzi_03-qt应用开发和部署_13-udp通信.md\":\"3f0bbf13\",\"introduction.md\":\"17197715\",\"index.md\":\"4c6b84cd\",\"my_project_01-project_01-项目1_01-介绍.md\":\"297b1e3b\",\"my_project_01-project_02-项目2_02-介绍.md\":\"d8f34795\",\"my_project_01-project_03-项目3_03-介绍.md\":\"02aed625\",\"courses_yuanzi_03-qt应用开发和部署_04-显示窗口部件.md\":\"1828d015\",\"courses_tangyudi_02-机器学习篇_06-集成算法.md\":\"5369c526\",\"courses_tangyudi_03-深度学习篇_03-opencv.md\":\"cdb7c57f\",\"courses_yuanzi_03-qt应用开发和部署_10-绘图与图表.md\":\"5d4c9dff\",\"courses_tangyudi_02-机器学习篇_12-降维.md\":\"329c2246\",\"courses_yuanzi_03-qt应用开发和部署_03-输入窗口部件.md\":\"4828f333\",\"courses_tangyudi_03-深度学习篇_01-pytorch.md\":\"504c4e5e\",\"courses_tangyudi_03-深度学习篇_02-mmlab实战.md\":\"373bc6f6\",\"tags.md\":\"26fef91a\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"阿源的知识库\",\"description\":\"个人技术知识库，记录 & 分享个人碎片化、结构化、体系化的技术知识内容。\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"首页\",\"link\":\"/introduction\",\"activeMatch\":\"/introduction\"},{\"text\":\"项目文档\",\"link\":\"/my_project/01-project/01-项目1/01-介绍.md\",\"activeMatch\":\"/my_project/\"},{\"text\":\"前沿 & 工作\",\"items\":[{\"text\":\"Bug万象集\",\"link\":\"/categories/issues/index\",\"activeMatch\":\"/categories/issues/\"},{\"text\":\"ChatGPT\",\"link\":\"/categories/chatgpt/01-ChatGPT开源项目/01-GPT项目\",\"activeMatch\":\"/categories/chatgpt/\"}],\"activeMatch\":\"/categories/\"},{\"text\":\"学习笔记\",\"items\":[{\"text\":\"C语言基础快速入门\",\"link\":\"/courses/c/index\",\"activeMatch\":\"/courses/c/\"},{\"text\":\"C++基础快速入门\",\"link\":\"/courses/c_plus/01-C++的基础/01-c++对c的扩展\",\"activeMatch\":\"/courses/c_plus/\"},{\"text\":\"Python基础快速入门\",\"link\":\"/courses/python/01-python基础篇/01-python基础\",\"activeMatch\":\"/courses/python/\"},{\"text\":\"唐宇迪AI课程\",\"link\":\"/courses/tangyudi/02-机器学习篇/01-线性回归\",\"activeMatch\":\"/courses/tangyudi/\"},{\"text\":\"正点原子Linux课程\",\"link\":\"/courses/yuanzi/03-QT应用开发和部署/01-linux安装qt.md\",\"activeMatch\":\"/courses/yuanzi/\"}],\"activeMatch\":\"/courses/\"},{\"text\":\"我的标签\",\"link\":\"/tags\",\"activeMatch\":\"/tags\"},{\"text\":\"关于\",\"items\":[{\"text\":\"关于知识库\",\"link\":\"/about/index\",\"activeMatch\":\"/about/index\"},{\"text\":\"关于我\",\"link\":\"/about/me\",\"activeMatch\":\"/about/me\"},{\"text\":\"赞助\",\"link\":\"/about/donate\",\"activeMatch\":\"/about/donate\"},{\"text\":\"在线体验\",\"link\":\"/about/see\",\"activeMatch\":\"/about/see\"},{\"text\":\"我的归档\",\"link\":\"/archives\",\"activeMatch\":\"/archives\"}],\"activeMatch\":\"/about/\"}],\"sidebar\":{\"/my_project/01-project/\":[{\"text\":\"项目1 (1篇)\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>项目1\",\"link\":\"/my_project/01-project/01-项目1/01-介绍\"}],\"collapsed\":true},{\"text\":\"项目2 (1篇)\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>项目2\",\"link\":\"/my_project/01-project/02-项目2/02-介绍\"}],\"collapsed\":true},{\"text\":\"项目3 (1篇)\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>项目3\",\"link\":\"/my_project/01-project/03-项目3/03-介绍\"}],\"collapsed\":true}],\"/categories/issues/\":[{\"text\":\"<img class=\\\"chinese-zodiac\\\" style=\\\"position: static; vertical-align: middle; padding-bottom: 3px;\\\" src=\\\"/img/svg/chinese-zodiac/tiger.svg\\\" title=\\\"虎年\\\" alt=\\\"生肖\\\">\\n            2022年 (12篇)\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>解决 Maven 传递依赖污染的问题\",\"link\":\"/categories/issues/2022/11/23/解决Maven传递依赖污染的问题\"},{\"text\":\"<div class=\\\"text-color-orange mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">2</div>解决 DotNet 安装完，报错\",\"link\":\"/categories/issues/2022/11/06/解决DotNET安装后报错的问题\"},{\"text\":\"<div class=\\\"text-color-yellow mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">3</div>解决 Docker 安装 Prometheus 启动报 permission denied 的问题\",\"link\":\"/categories/issues/2022/11/04/解决Docker安装Prometheus启动报错的问题\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">4</div>Docker 设置网络代理\",\"link\":\"/categories/issues/2022/10/29/Docker设置网络代理\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">5</div>解决 CentOS 8 执行 yum install 报 Error\",\"link\":\"/categories/issues/2022/10/25/解决CentOS8执行yum安装报错\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">6</div>解决 Windows 桌面部分快捷方式图标变为空白的问题\",\"link\":\"/categories/issues/2022/10/15/解决Windows桌面部分快捷方式图标变为空白的问题\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">7</div>解决无法重复读取请求体和响应体的问题\",\"link\":\"/categories/issues/2022/09/23/解决无法重复读取请求体和响应体的问题\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">8</div>Nginx转发请求，报13：Permission denied错误\",\"link\":\"/categories/issues/2022/09/05/Nginx转发请求，报13：Permission denied错误\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">9</div>SpringBoot项目引入OpenFeign后无法启动\",\"link\":\"/categories/issues/2022/08/31/SpringBoot项目引入OpenFeign后无法启动\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">10</div>执行Shell脚本，报java: command not found\",\"link\":\"/categories/issues/2022/08/11/执行Shell脚本，报java command not found\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">11</div>创建一个自身类的静态对象变量，究竟会如何执行？\",\"link\":\"/categories/issues/2022/03/24/创建一个自身类的静态对象变量，究竟会如何执行？\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">12</div>JavaScript 无法存储 Java Long 类型数据问题\",\"link\":\"/categories/issues/2022/01/26/JavaScript 无法存储 Java  Long 类型数据问题\"}],\"collapsed\":false},{\"text\":\"<img class=\\\"chinese-zodiac\\\" style=\\\"position: static; vertical-align: middle; padding-bottom: 3px;\\\" src=\\\"/img/svg/chinese-zodiac/ox.svg\\\" title=\\\"牛年\\\" alt=\\\"生肖\\\">\\n            2021年 (5篇)\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>无法访问 F:\\\\。文件或目录损坏且无法读取。\",\"link\":\"/categories/issues/2021/12/13/无法访问F盘。文件或目录损坏且无法读取\"},{\"text\":\"<div class=\\\"text-color-orange mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">2</div>SQL 注入攻击风险\",\"link\":\"/categories/issues/2021/12/11/SQL 注入攻击风险\"},{\"text\":\"<div class=\\\"text-color-yellow mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">3</div>Command line is too long. Shorten command line for XXX or also for Spring Boot default configuration？\",\"link\":\"/categories/issues/2021/12/10/Command line is too long. Shorten command line for XXX or also for Spring Boot default configuration\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">4</div>for循环中删除集合元素隐藏的陷阱\",\"link\":\"/categories/issues/2021/12/08/for循环中删除集合元素隐藏的陷阱\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">5</div>F:\\\\ 上的回收站已损坏。是否清空该驱动器上的\\\"回收站\\\"?\",\"link\":\"/categories/issues/2021/12/01/F盘上的回收站已损坏。是否清空该驱动器上的回收站\"}],\"collapsed\":true}],\"/categories/chatgpt/\":[{\"text\":\"ChatGPT开源项目 (2篇)\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>Gpt项目\",\"link\":\"/categories/chatgpt/01-ChatGPT开源项目/01-GPT项目\"},{\"text\":\"<div class=\\\"text-color-orange mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">2</div>Gpt学术版项目\",\"link\":\"/categories/chatgpt/01-ChatGPT开源项目/02-GPT学术项目\"}],\"collapsed\":false},{\"text\":\"ChatGPT (4篇)\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>gpt角色扮演\",\"link\":\"/categories/chatgpt/02-ChatGPT/01-角色扮演\"},{\"text\":\"<div class=\\\"text-color-orange mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">2</div>gpt学术提示词\",\"link\":\"/categories/chatgpt/02-ChatGPT/02-学术提示词\"},{\"text\":\"<div class=\\\"text-color-yellow mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">3</div>AI_PPT\",\"link\":\"/categories/chatgpt/02-ChatGPT/03-AI做PPT\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">4</div>AI编写Java项目\",\"link\":\"/categories/chatgpt/02-ChatGPT/04-AI编写Java项目\"}],\"collapsed\":false}],\"/courses/c/\":[{\"text\":\"C语言基础 (11篇)\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>C语言基础概述\",\"link\":\"/courses/c/01-C语言基础/01-C语言基础概述\"},{\"text\":\"<div class=\\\"text-color-orange mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">2</div>C语言数组\",\"link\":\"/courses/c/01-C语言基础/02-数组\"},{\"text\":\"<div class=\\\"text-color-yellow mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">3</div>C语言函数\",\"link\":\"/courses/c/01-C语言基础/03-函数\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">4</div>C语言预处理\",\"link\":\"/courses/c/01-C语言基础/04-预处理\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">5</div>C语言指针\",\"link\":\"/courses/c/01-C语言基础/05-指针\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">6</div>C语言动态内存申请\",\"link\":\"/courses/c/01-C语言基础/06-动态内存申请\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">7</div>C语言字符串处理函数\",\"link\":\"/courses/c/01-C语言基础/07-字符串处理函数\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">8</div>C语言结构体\",\"link\":\"/courses/c/01-C语言基础/08-结构体\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">9</div>C语言链表\",\"link\":\"/courses/c/01-C语言基础/09-链表\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">10</div>C语言文件\",\"link\":\"/courses/c/01-C语言基础/10-文件\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">11</div>C语言makefile\",\"link\":\"/courses/c/01-C语言基础/11-makefile\"}],\"collapsed\":false}],\"/courses/c_plus/\":[{\"text\":\"C++的基础 (5篇)\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>C++对C的扩展\",\"link\":\"/courses/c_plus/01-C++的基础/01-c++对c的扩展\"},{\"text\":\"<div class=\\\"text-color-orange mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">2</div>C++类和对象\",\"link\":\"/courses/c_plus/01-C++的基础/02-c++类和对象\"},{\"text\":\"<div class=\\\"text-color-yellow mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">3</div>C++模板\",\"link\":\"/courses/c_plus/01-C++的基础/03-c++模板\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">4</div>C++类型转换\",\"link\":\"/courses/c_plus/01-C++的基础/04-c++类型转换\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">5</div>C++异常\",\"link\":\"/courses/c_plus/01-C++的基础/05-c++异常\"}],\"collapsed\":false},{\"text\":\"C++的STL (11篇)\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>C++的STL概述\",\"link\":\"/courses/c_plus/02-C++的STL/01-c++STL\"},{\"text\":\"<div class=\\\"text-color-orange mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">2</div>C++的string容器\",\"link\":\"/courses/c_plus/02-C++的STL/02-String容器\"},{\"text\":\"<div class=\\\"text-color-yellow mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">3</div>C++的vector容器\",\"link\":\"/courses/c_plus/02-C++的STL/03-vector容器\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">4</div>C++的deque容器\",\"link\":\"/courses/c_plus/02-C++的STL/04-deque容器\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">5</div>C++的stack容器\",\"link\":\"/courses/c_plus/02-C++的STL/05-stack容器\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">6</div>C++的queue容器\",\"link\":\"/courses/c_plus/02-C++的STL/06-queue容器\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">7</div>C++的list容器\",\"link\":\"/courses/c_plus/02-C++的STL/07-list容器\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">8</div>C++的set容器\",\"link\":\"/courses/c_plus/02-C++的STL/08-set容器\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">9</div>C++的map容器\",\"link\":\"/courses/c_plus/02-C++的STL/09-map容器\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">10</div>C++的STL补充\",\"link\":\"/courses/c_plus/02-C++的STL/10-其他补充\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">11</div>C++的常见算法\",\"link\":\"/courses/c_plus/02-C++的STL/11-常见算法\"}],\"collapsed\":false}],\"/courses/python/\":[{\"text\":\"python基础篇 (1篇)\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>Python基础\",\"link\":\"/courses/python/01-python基础篇/01-python基础\"}],\"collapsed\":true},{\"text\":\"python进阶篇 (4篇)\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>numpy基础\",\"link\":\"/courses/python/02-python进阶篇/01-numpy\"},{\"text\":\"<div class=\\\"text-color-orange mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">2</div>pandas基础\",\"link\":\"/courses/python/02-python进阶篇/02-pandas\"},{\"text\":\"<div class=\\\"text-color-yellow mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">3</div>matplotlib基础\",\"link\":\"/courses/python/02-python进阶篇/03-matplotlib\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">4</div>seaborn基础\",\"link\":\"/courses/python/02-python进阶篇/04-seaborn\"}],\"collapsed\":false}],\"/courses/tangyudi/\":[{\"text\":\"数学基础篇 (16篇)\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>高等数学基础\",\"link\":\"/courses/tangyudi/01-数学基础篇/01-高等数学基础\"},{\"text\":\"<div class=\\\"text-color-orange mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">2</div>微积分\",\"link\":\"/courses/tangyudi/01-数学基础篇/02-微积分\"},{\"text\":\"<div class=\\\"text-color-yellow mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">3</div>泰勒公式和拉格朗日\",\"link\":\"/courses/tangyudi/01-数学基础篇/03-泰勒公式和拉格朗日\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">4</div>线性代数基础\",\"link\":\"/courses/tangyudi/01-数学基础篇/04-线性代数基础\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">5</div>特征值与矩阵分解\",\"link\":\"/courses/tangyudi/01-数学基础篇/05-特征值与矩阵分解\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">6</div>随机变量\",\"link\":\"/courses/tangyudi/01-数学基础篇/06-随机变量\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">7</div>概率论基础\",\"link\":\"/courses/tangyudi/01-数学基础篇/07-概率论基础\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">8</div>几种分布\",\"link\":\"/courses/tangyudi/01-数学基础篇/08-几种分布\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">9</div>核函数变换\",\"link\":\"/courses/tangyudi/01-数学基础篇/09-核函数变换\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">10</div>熵与激活函数\",\"link\":\"/courses/tangyudi/01-数学基础篇/10-熵与激活函数\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">11</div>回归分析\",\"link\":\"/courses/tangyudi/01-数学基础篇/11-回归分析\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">12</div>假设检验\",\"link\":\"/courses/tangyudi/01-数学基础篇/12-假设检验\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">13</div>相关分析\",\"link\":\"/courses/tangyudi/01-数学基础篇/13-相关分析\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">14</div>方差分析\",\"link\":\"/courses/tangyudi/01-数学基础篇/14-方差分析\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">15</div>聚类分析\",\"link\":\"/courses/tangyudi/01-数学基础篇/15-聚类分析\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">16</div>贝叶斯分析\",\"link\":\"/courses/tangyudi/01-数学基础篇/16-贝叶斯分析\"}],\"collapsed\":false},{\"text\":\"机器学习篇 (12篇)\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>线性回归\",\"link\":\"/courses/tangyudi/02-机器学习篇/01-线性回归\"},{\"text\":\"<div class=\\\"text-color-orange mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">2</div>模型评估方法\",\"link\":\"/courses/tangyudi/02-机器学习篇/02-模型评估方法\"},{\"text\":\"<div class=\\\"text-color-yellow mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">3</div>逻辑回归\",\"link\":\"/courses/tangyudi/02-机器学习篇/03-逻辑回归\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">4</div>聚类算法\",\"link\":\"/courses/tangyudi/02-机器学习篇/04-聚类算法\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">5</div>决策树\",\"link\":\"/courses/tangyudi/02-机器学习篇/05-决策树\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">6</div>集成算法\",\"link\":\"/courses/tangyudi/02-机器学习篇/06-集成算法\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">7</div>支持向量机\",\"link\":\"/courses/tangyudi/02-机器学习篇/07-支持向量机\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">8</div>神经网络\",\"link\":\"/courses/tangyudi/02-机器学习篇/08-神经网络\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">9</div>贝叶斯\",\"link\":\"/courses/tangyudi/02-机器学习篇/09-贝叶斯\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">10</div>关联规则\",\"link\":\"/courses/tangyudi/02-机器学习篇/10-关联规则\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">11</div>词向量\",\"link\":\"/courses/tangyudi/02-机器学习篇/11-词向量\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">12</div>降维\",\"link\":\"/courses/tangyudi/02-机器学习篇/12-降维\"}],\"collapsed\":true},{\"text\":\"深度学习篇 (4篇)\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>Pytorch\",\"link\":\"/courses/tangyudi/03-深度学习篇/01-Pytorch\"},{\"text\":\"<div class=\\\"text-color-orange mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">2</div>MMLAB\",\"link\":\"/courses/tangyudi/03-深度学习篇/02-MMLAB实战\"},{\"text\":\"<div class=\\\"text-color-yellow mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">3</div>OpenCV\",\"link\":\"/courses/tangyudi/03-深度学习篇/03-OpenCV\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">4</div>YOLO\",\"link\":\"/courses/tangyudi/03-深度学习篇/04-YOLO\"}],\"collapsed\":true}],\"/courses/yuanzi/\":[{\"text\":\"QT应用开发和部署 (13篇)\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>正电原子QT教程速查\",\"link\":\"/courses/yuanzi/03-QT应用开发和部署/01-linux安装qt\"},{\"text\":\"<div class=\\\"text-color-orange mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">2</div>按钮\",\"link\":\"/courses/yuanzi/03-QT应用开发和部署/02-按钮\"},{\"text\":\"<div class=\\\"text-color-yellow mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">3</div>输入窗口部件\",\"link\":\"/courses/yuanzi/03-QT应用开发和部署/03-输入窗口部件\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">4</div>显示窗口部件\",\"link\":\"/courses/yuanzi/03-QT应用开发和部署/04-显示窗口部件\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">5</div>布局管理\",\"link\":\"/courses/yuanzi/03-QT应用开发和部署/05-布局管理\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">6</div>容器\",\"link\":\"/courses/yuanzi/03-QT应用开发和部署/06-容器\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">7</div>项目式视图组（基于模型）\",\"link\":\"/courses/yuanzi/03-QT应用开发和部署/07-项目式视图组（基于模型）\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">8</div>项目控制组（基于项）\",\"link\":\"/courses/yuanzi/03-QT应用开发和部署/08-项目控制组（基于项）\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">9</div>文本读写\",\"link\":\"/courses/yuanzi/03-QT应用开发和部署/09-文本读写\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">10</div>绘图与图表\",\"link\":\"/courses/yuanzi/03-QT应用开发和部署/10-绘图与图表\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">11</div>多线程\",\"link\":\"/courses/yuanzi/03-QT应用开发和部署/11-多线程\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">12</div>TCP通信\",\"link\":\"/courses/yuanzi/03-QT应用开发和部署/12-TCP通信\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">13</div>UDP通信\",\"link\":\"/courses/yuanzi/03-QT应用开发和部署/13-UDP通信\"}],\"collapsed\":false}]},\"logo\":\"/logo.png\",\"outline\":{\"level\":\"deep\",\"label\":\"目录\"},\"darkModeSwitchLabel\":\"切换日光/暗黑模式\",\"sidebarMenuLabel\":\"文章\",\"returnToTopLabel\":\"返回顶部\",\"lastUpdatedText\":\"最后更新\",\"docFooter\":{\"prev\":\"上一篇\",\"next\":\"下一篇\"},\"editLink\":{\"pattern\":\"https://github.com/clint-sfy/clintsfy.github.io/edit/main/docs/:path\",\"text\":\"不妥之处，敬请雅正\"},\"search\":{\"provider\":\"local\",\"options\":{\"locales\":{\"root\":{\"translations\":{\"button\":{\"buttonText\":\"搜索文档\",\"buttonAriaLabel\":\"搜索文档\"},\"modal\":{\"noResultsText\":\"无法找到相关结果\",\"resetButtonTitle\":\"清除查询条件\",\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"切换\"}}}}}}},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/clint-sfy\"},{\"icon\":{\"svg\":\"<svg role=\\\"img\\\" viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><title>码云</title><path d=\\\"M11.984 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.016 0zm6.09 5.333c.328 0 .593.266.592.593v1.482a.594.594 0 0 1-.593.592H9.777c-.982 0-1.778.796-1.778 1.778v5.63c0 .327.266.592.593.592h5.63c.982 0 1.778-.796 1.778-1.778v-.296a.593.593 0 0 0-.592-.593h-4.15a.592.592 0 0 1-.592-.592v-1.482a.593.593 0 0 1 .593-.592h6.815c.327 0 .593.265.593.592v3.408a4 4 0 0 1-4 4H5.926a.593.593 0 0 1-.593-.593V9.778a4.444 4.444 0 0 1 4.445-4.444h8.296Z\\\"/></svg>\"},\"link\":\"https://gitee.com/clint_sfy\"}],\"articleMetadataConfig\":{\"author\":\"阿源\",\"authorLink\":\"/about/me\",\"showViewCount\":false},\"copyrightConfig\":{\"license\":\"署名-相同方式共享 4.0 国际 (CC BY-SA 4.0)\",\"licenseLink\":\"http://creativecommons.org/licenses/by-sa/4.0/\"},\"commentConfig\":{\"type\":\"gitalk\",\"showComment\":true},\"footerConfig\":{\"showFooter\":true,\"icpRecordCode\":\"蜀ICP备2023001686号-1\",\"copyright\":\"Copyright © 2019-2023 clint-sfy\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":true}");</script>
    
  </body>
</html>