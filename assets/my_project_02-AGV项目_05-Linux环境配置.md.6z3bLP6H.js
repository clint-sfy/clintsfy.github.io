import{_ as s,o as i,c as a,R as n}from"./chunks/framework.Dn7lIAzt.js";const g=JSON.parse('{"title":"Linux环境配置","description":"","frontmatter":{"title":"Linux环境配置","author":"阿源","date":"2023/11/22 12:00","categories":["个人项目"],"tags":["个人项目","ROS"]},"headers":[],"relativePath":"my_project/02-AGV项目/05-Linux环境配置.md","filePath":"my_project/02-AGV项目/05-Linux环境配置.md","lastUpdated":1750682438000}'),t={name:"my_project/02-AGV项目/05-Linux环境配置.md"},p=n(`<h2 id="linux环境配置" tabindex="-1">Linux环境配置 <a class="header-anchor" href="#linux环境配置" aria-label="Permalink to &quot;Linux环境配置&quot;">​</a></h2><h2 id="_1-linux软件配置" tabindex="-1">1. Linux软件配置 <a class="header-anchor" href="#_1-linux软件配置" aria-label="Permalink to &quot;1. Linux软件配置&quot;">​</a></h2><h3 id="_1-1-基础安装" tabindex="-1">1.1 基础安装 <a class="header-anchor" href="#_1-1-基础安装" aria-label="Permalink to &quot;1.1 基础安装&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /etc/apt/sources.list</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /etc/apt/sources.list.bak</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> vim</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /etc/apt/sources.list</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># ubuntu18</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">deb</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> http://mirrors.aliyun.com/ubuntu/</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> bionic</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> main</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> restricted</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> universe</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> multiverse</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">deb</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> http://mirrors.aliyun.com/ubuntu/</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> bionic-security</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> main</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> restricted</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> universe</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> multiverse</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">deb</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> http://mirrors.aliyun.com/ubuntu/</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> bionic-updates</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> main</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> restricted</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> universe</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> multiverse</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">deb</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> http://mirrors.aliyun.com/ubuntu/</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> bionic-proposed</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> main</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> restricted</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> universe</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> multiverse</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">deb</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> http://mirrors.aliyun.com/ubuntu/</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> bionic-backports</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> main</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> restricted</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> universe</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> multiverse</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">deb-src</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> http://mirrors.aliyun.com/ubuntu/</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> bionic</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> main</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> restricted</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> universe</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> multiverse</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">deb-src</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> http://mirrors.aliyun.com/ubuntu/</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> bionic-security</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> main</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> restricted</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> universe</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> multiverse</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">deb-src</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> http://mirrors.aliyun.com/ubuntu/</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> bionic-updates</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> main</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> restricted</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> universe</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> multiverse</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">deb-src</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> http://mirrors.aliyun.com/ubuntu/</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> bionic-proposed</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> main</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> restricted</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> universe</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> multiverse</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">deb-src</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> http://mirrors.aliyun.com/ubuntu/</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> bionic-backports</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> main</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> restricted</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> universe</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> multiverse</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">E:</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Could</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> lock</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /var/lib/dpkg/lock-frontend</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> open</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> (11: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">Resource</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> temporarily</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> unavailable</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> rm</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /var/lib/apt/lists/lock</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> rm</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /var/cache/apt/archives/lock</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> rm</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /var/lib/dpkg/lock</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">*</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> dpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --configure</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -a</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> update</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> fcitx-googlepinyin</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">  net-tools</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">  openssh-server</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">  terminator</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">  gnome-tweaks</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> fcitx-module-kimpanel</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> libgoogle-glog-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> libgflags-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> libatlas-base-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> libeigen3-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> libsuitesparse-dev</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -y</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    g++</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    git</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    google-mock</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    libboost-all-dev</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    libcairo2-dev</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    libeigen3-dev</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    libgflags-dev</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    libgoogle-glog-dev</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    liblua5.2-dev</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    libsuitesparse-dev</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    libwebp-dev</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    ninja-build</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    protobuf-compiler</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    python-sphinx</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> https://cmake.org/files/v3.22/cmake-3.22.1.tar.gz</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -xvzf</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> cmake-3.22.1.tar.gz</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">修改CMakeLists.txt，在其中添加set(CMAKE_USE_OPENSSL</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> OFF</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">./configure</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> make</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -j8</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> make</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -j8</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> update-alternatives</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /usr/bin/cmake</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> cmake</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /usr/local/bin/cmake</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --force</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">cmake</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --version</span></span></code></pre></div><h3 id="_1-2-ros相关" tabindex="-1">1.2 Ros相关 <a class="header-anchor" href="#_1-2-ros相关" aria-label="Permalink to &quot;1.2 Ros相关&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &#39;echo &quot;deb http://packages.ros.org/ros/ubuntu $(lsb_release -sc) main&quot; &gt; /etc/apt/sources.list.d/ros-latest.list&#39;</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &#39;. /etc/lsb-release &amp;&amp; echo &quot;deb http://mirrors.tuna.tsinghua.edu.cn/ros/ubuntu/ \`lsb_release -cs\` main&quot; &gt; /etc/apt/sources.list.d/ros-latest.list&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-key</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> adv</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --keyserver</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &#39;hkp://keyserver.ubuntu.com:80&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --recv-key</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> C1CF6E31E6BADE8868B172B4F42ED6FBAB17C654</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> update</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ros-melodic-desktop-full</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ros-noetic-desktop-full</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> python-rosdep</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> python-rosinstall</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> python-rosinstall-generator</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> python-wstool</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> build-essential</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> python3-rosdep</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> python3-rosinstall</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> python3-rosinstall-generator</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> python3-wstool</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> build-essential</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> rosdep</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> init</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">rosdep</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> update</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;source /opt/ros/melodic/setup.bash&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &gt;&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ~/.bashrc</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;source /opt/ros/noetic/setup.bash&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &gt;&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ~/.bashrc</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ~/.bashrc</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">rosdep</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --from-paths</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> src</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --ignore-src</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --rosdistro=melodic</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -y</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">rosdep</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --from-paths</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> src</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --ignore-src</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --rosdistro=noetic</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -y</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 这一步会有一些包没有下载完需要反复根据提示下载 知道sucessful</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 注意！如果提示是std_msgs  那么为ros-melodic-std-msgs </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ros-melodic-提示的东西</span></span></code></pre></div><h4 id="_1-2-1-cv-brige替换" tabindex="-1">1.2.1 cv_brige替换 <a class="header-anchor" href="#_1-2-1-cv-brige替换" aria-label="Permalink to &quot;1.2.1 cv_brige替换&quot;">​</a></h4><p>错误说明：<a href="https://github.com/ros-perception/vision_opencv/issues/345" target="_blank" rel="noreferrer">https://github.com/ros-perception/vision_opencv/issues/345</a></p><p>Project &#39;image_geometry&#39; specifies &#39;/usr/include/opencv&#39; as an include dir</p><h4 id="_1-2-2-gazebo升级" tabindex="-1">1.2.2 gazebo升级 <a class="header-anchor" href="#_1-2-2-gazebo升级" aria-label="Permalink to &quot;1.2.2 gazebo升级&quot;">​</a></h4><p>ubuntu18最好还是不要升级到gazebo11</p><p>古月居教程：<a href="https://www.guyuehome.com/34875" target="_blank" rel="noreferrer">https://www.guyuehome.com/34875</a></p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">dpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -l</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gazebo</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gazebo9</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gazebo9-common</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gazebo9-plugin-base</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> libgazebo9:amd64</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> libgazebo9-dev:amd64</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ros-melodic-gazebo-</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">*</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> purge</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gazebo9</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gazebo9-common</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gazebo9-plugin-base</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> libgazebo9:amd64</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> libgazebo9-dev:amd64</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ros-melodic-gazebo-</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">*</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &#39;echo &quot;deb http://packages.osrfoundation.org/gazebo/ubuntu-stable \`lsb_release -cs\` main&quot; &gt; /etc/apt/sources.list.d/gazebo-stable.list&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> https://packages.osrfoundation.org/gazebo.key</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -O</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> -</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-key</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> -</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gazebo11</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> libgazebo11-dev</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ros-melodic-gazebo11-</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">*</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gazebo11</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gazebo11-common</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gazebo11-plugin-base</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> libgazebo11:amd64</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> libgazebo11-dev:amd64</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ros-melodic-gazebo-</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> purge</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gazebo11</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gazebo11-common</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gazebo11-plugin-base</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> libgazebo11:amd64</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> libgazebo11-dev:amd64</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ros-melodic-gazebo-</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gazebo9</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> libgazebo9-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ros-melodic-gazebo9-</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">*</span></span></code></pre></div><h4 id="_1-3-gazebo模型" tabindex="-1">1.3 gazebo模型 <a class="header-anchor" href="#_1-3-gazebo模型" aria-label="Permalink to &quot;1.3 gazebo模型&quot;">​</a></h4><p>一键下载gazebo模型</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ~/.gazebo</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> https://gitee.com/ohhuo/scripts/raw/master/gazebo_model.py</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -O</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gazebo_model.py</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">python3</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gazebo_model.py</span></span></code></pre></div><h3 id="_1-4-pcl库" tabindex="-1">1.4 PCL库 <a class="header-anchor" href="#_1-4-pcl库" aria-label="Permalink to &quot;1.4 PCL库&quot;">​</a></h3><div class="language-SH vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">SH</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> libpcl-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> pcl-tools</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> libproj-dev</span></span></code></pre></div><h3 id="_1-5-eigen" tabindex="-1">1.5 Eigen <a class="header-anchor" href="#_1-5-eigen" aria-label="Permalink to &quot;1.5 Eigen&quot;">​</a></h3><p>如果Linux的Cmake找不到eigen的话 那就是软链接的问题</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ln</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /usr/include/eigen3/Eigen</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 	/usr/include/Eigen</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ln</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /usr/include/eigen3/unsupported</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 	/usr/include/unsupported</span></span></code></pre></div><h3 id="_1-6-英特尔相机" tabindex="-1">1.6 英特尔相机 <a class="header-anchor" href="#_1-6-英特尔相机" aria-label="Permalink to &quot;1.6 英特尔相机&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ros-melodic-ddynamic-reconfigure</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ros-melodic-realsense2-camera</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ros-melodic-realsense2-description</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> git</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> libssl-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> libusb-1.0-0-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> pkg-config</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> libgtk-3-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> libglfw3-dev</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> https://github.com/IntelRealSense/librealsense.git</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -b</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> v2.50.0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> librealsense</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">./scripts/setup_udev_rules.sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> build</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> &amp;&amp; </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> build</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">cmake</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ..</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> make</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -j8</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> make</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span></span></code></pre></div><p>检查目录<code>/etc/udev/rules.d/</code>下是否有<code>99-realsense-libusb.rules</code>，然后重启</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span>##Version=1.1##</span></span>
<span class="line"><span># Device rules for Intel RealSense devices (R200, F200, SR300 LR200, ZR300, D400, L500, T200)</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0a80&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;, RUN+=&quot;/usr/local/bin/usb-R200-in_udev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0a66&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0aa5&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0abf&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0acb&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0ad0&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;04b4&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0ad1&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0ad2&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0ad3&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0ad4&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0ad5&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0ad6&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0af2&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0af6&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0afe&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0aff&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b00&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b01&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b03&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b07&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b0c&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b0d&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b3a&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b3d&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b48&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b49&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b4b&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b4d&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b52&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b5b&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b5c&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b64&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Intel RealSense recovery devices (DFU)</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0ab3&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0adb&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0adc&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b55&quot;, MODE:=&quot;0666&quot;, GROUP:=&quot;plugdev&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Intel RealSense devices (Movidius, T265)</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ENV{DEVTYPE}==&quot;usb_device&quot;, ATTRS{idVendor}==&quot;8087&quot;, ATTRS{idProduct}==&quot;0af3&quot;, MODE=&quot;0666&quot;, GROUP=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ENV{DEVTYPE}==&quot;usb_device&quot;, ATTRS{idVendor}==&quot;8087&quot;, ATTRS{idProduct}==&quot;0b37&quot;, MODE=&quot;0666&quot;, GROUP=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEMS==&quot;usb&quot;, ENV{DEVTYPE}==&quot;usb_device&quot;, ATTRS{idVendor}==&quot;03e7&quot;, ATTRS{idProduct}==&quot;2150&quot;, MODE=&quot;0666&quot;, GROUP=&quot;plugdev&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>KERNEL==&quot;iio*&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0ad5&quot;, MODE:=&quot;0777&quot;, GROUP:=&quot;plugdev&quot;, RUN+=&quot;/bin/sh -c &#39;chmod -R 0777 /sys/%p&#39;&quot;</span></span>
<span class="line"><span>DRIVER==&quot;hid_sensor_custom&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0ad5&quot;, RUN+=&quot;/bin/sh -c &#39;chmod -R 0777 /sys/%p &amp;&amp; chmod 0777 /dev/%k&#39;&quot;</span></span>
<span class="line"><span>KERNEL==&quot;iio*&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0af2&quot;, MODE:=&quot;0777&quot;, GROUP:=&quot;plugdev&quot;, RUN+=&quot;/bin/sh -c &#39;chmod -R 0777 /sys/%p&#39;&quot;</span></span>
<span class="line"><span>DRIVER==&quot;hid_sensor*&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0af2&quot;, RUN+=&quot;/bin/sh -c &#39;chmod -R 0777 /sys/%p &amp;&amp; chmod 0777 /dev/%k&#39;&quot;</span></span>
<span class="line"><span>KERNEL==&quot;iio*&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0afe&quot;, MODE:=&quot;0777&quot;, GROUP:=&quot;plugdev&quot;, RUN+=&quot;/bin/sh -c &#39;chmod -R 0777 /sys/%p&#39;&quot;</span></span>
<span class="line"><span>DRIVER==&quot;hid_sensor_custom&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0afe&quot;, RUN+=&quot;/bin/sh -c &#39;chmod -R 0777 /sys/%p &amp;&amp; chmod 0777 /dev/%k&#39;&quot;</span></span>
<span class="line"><span>KERNEL==&quot;iio*&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0aff&quot;, MODE:=&quot;0777&quot;, GROUP:=&quot;plugdev&quot;, RUN+=&quot;/bin/sh -c &#39;chmod -R 0777 /sys/%p&#39;&quot;</span></span>
<span class="line"><span>DRIVER==&quot;hid_sensor_custom&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0aff&quot;, RUN+=&quot;/bin/sh -c &#39;chmod -R 0777 /sys/%p &amp;&amp; chmod 0777 /dev/%k&#39;&quot;</span></span>
<span class="line"><span>KERNEL==&quot;iio*&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b00&quot;, MODE:=&quot;0777&quot;, GROUP:=&quot;plugdev&quot;, RUN+=&quot;/bin/sh -c &#39;chmod -R 0777 /sys/%p&#39;&quot;</span></span>
<span class="line"><span>DRIVER==&quot;hid_sensor_custom&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b00&quot;, RUN+=&quot;/bin/sh -c &#39;chmod -R 0777 /sys/%p &amp;&amp; chmod 0777 /dev/%k&#39;&quot;</span></span>
<span class="line"><span>KERNEL==&quot;iio*&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b01&quot;, MODE:=&quot;0777&quot;, GROUP:=&quot;plugdev&quot;, RUN+=&quot;/bin/sh -c &#39;chmod -R 0777 /sys/%p&#39;&quot;</span></span>
<span class="line"><span>DRIVER==&quot;hid_sensor_custom&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b01&quot;, RUN+=&quot;/bin/sh -c &#39;chmod -R 0777 /sys/%p &amp;&amp; chmod 0777 /dev/%k&#39;&quot;</span></span>
<span class="line"><span>KERNEL==&quot;iio*&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b3a&quot;, MODE:=&quot;0777&quot;, GROUP:=&quot;plugdev&quot;, RUN+=&quot;/bin/sh -c &#39;chmod -R 0777 /sys/%p&#39;&quot;</span></span>
<span class="line"><span>DRIVER==&quot;hid_sensor*&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b3a&quot;, RUN+=&quot;/bin/sh -c &#39; chmod -R 0777 /sys/%p &amp;&amp; chmod 0777 /dev/%k&#39;&quot;</span></span>
<span class="line"><span>KERNEL==&quot;iio*&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b3d&quot;, MODE:=&quot;0777&quot;, GROUP:=&quot;plugdev&quot;, RUN+=&quot;/bin/sh -c &#39;chmod -R 0777 /sys/%p&#39;&quot;</span></span>
<span class="line"><span>DRIVER==&quot;hid_sensor*&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b3d&quot;, RUN+=&quot;/bin/sh -c &#39; chmod -R 0777 /sys/%p &amp;&amp; chmod 0777 /dev/%k&#39;&quot;</span></span>
<span class="line"><span>KERNEL==&quot;iio*&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b4b&quot;, MODE:=&quot;0777&quot;, GROUP:=&quot;plugdev&quot;, RUN+=&quot;/bin/sh -c &#39;chmod -R 0777 /sys/%p&#39;&quot;</span></span>
<span class="line"><span>DRIVER==&quot;hid_sensor*&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b4b&quot;, RUN+=&quot;/bin/sh -c &#39; chmod -R 0777 /sys/%p &amp;&amp; chmod 0777 /dev/%k&#39;&quot;</span></span>
<span class="line"><span>KERNEL==&quot;iio*&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b4d&quot;, MODE:=&quot;0777&quot;, GROUP:=&quot;plugdev&quot;, RUN+=&quot;/bin/sh -c &#39;chmod -R 0777 /sys/%p&#39;&quot;</span></span>
<span class="line"><span>DRIVER==&quot;hid_sensor*&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b4d&quot;, RUN+=&quot;/bin/sh -c &#39; chmod -R 0777 /sys/%p &amp;&amp; chmod 0777 /dev/%k&#39;&quot;</span></span>
<span class="line"><span>KERNEL==&quot;iio*&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b5b&quot;, MODE:=&quot;0777&quot;, GROUP:=&quot;plugdev&quot;, RUN+=&quot;/bin/sh -c &#39;chmod -R 0777 /sys/%p&#39;&quot;</span></span>
<span class="line"><span>DRIVER==&quot;hid_sensor*&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b5b&quot;, RUN+=&quot;/bin/sh -c &#39; chmod -R 0777 /sys/%p &amp;&amp; chmod 0777 /dev/%k&#39;&quot;</span></span>
<span class="line"><span>KERNEL==&quot;iio*&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b5c&quot;, MODE:=&quot;0777&quot;, GROUP:=&quot;plugdev&quot;, RUN+=&quot;/bin/sh -c &#39;chmod -R 0777 /sys/%p&#39;&quot;</span></span>
<span class="line"><span>DRIVER==&quot;hid_sensor*&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b5c&quot;, RUN+=&quot;/bin/sh -c &#39; chmod -R 0777 /sys/%p &amp;&amp; chmod 0777 /dev/%k&#39;&quot;</span></span>
<span class="line"><span>KERNEL==&quot;iio*&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b64&quot;, MODE:=&quot;0777&quot;, GROUP:=&quot;plugdev&quot;, RUN+=&quot;/bin/sh -c &#39;chmod -R 0777 /sys/%p&#39;&quot;</span></span>
<span class="line"><span>DRIVER==&quot;hid_sensor*&quot;, ATTRS{idVendor}==&quot;8086&quot;, ATTRS{idProduct}==&quot;0b64&quot;, RUN+=&quot;/bin/sh -c &#39; chmod -R 0777 /sys/%p &amp;&amp; chmod 0777 /dev/%k&#39;&quot;</span></span></code></pre></div><h3 id="_1-7-python" tabindex="-1">1.7 python <a class="header-anchor" href="#_1-7-python" aria-label="Permalink to &quot;1.7 python&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">1）初始化：</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#更新软件源</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> upgrade</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#安装python3和pip3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> python3-dev</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> python3-pip</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">pip3</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> pip</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#换源</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ~/.pip</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ~/.pip/pip.conf</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#添加下面内容，清华镜像源</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[global]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">index-url</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> https://pypi.tuna.tsinghua.edu.cn/simple</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[install]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">trusted-host</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> https://pypi.tuna.tsinghua.edu.cn</span></span></code></pre></div><h3 id="_1-8-opencv" tabindex="-1">1.8 opencv <a class="header-anchor" href="#_1-8-opencv" aria-label="Permalink to &quot;1.8 opencv&quot;">​</a></h3><h3 id="_1-9-osqp" tabindex="-1">1.9 osqp <a class="header-anchor" href="#_1-9-osqp" aria-label="Permalink to &quot;1.9 osqp&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> clone</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --recursive</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -b</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> release-0.6.3</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> https://github.com/oxfordcontrol/osqp.git</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> https://github.com/robotology/osqp-eigen.git</span></span></code></pre></div><h2 id="_2-实用开源项目" tabindex="-1">2. 实用开源项目 <a class="header-anchor" href="#_2-实用开源项目" aria-label="Permalink to &quot;2. 实用开源项目&quot;">​</a></h2><h3 id="_2-1-cartographer" tabindex="-1">2.1 Cartographer <a class="header-anchor" href="#_2-1-cartographer" aria-label="Permalink to &quot;2.1 Cartographer&quot;">​</a></h3><p>在ubuntu18中protobuf与gazebo冲突问题：<a href="https://zhuanlan.zhihu.com/p/573559407" target="_blank" rel="noreferrer">https://zhuanlan.zhihu.com/p/573559407</a></p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> https://github.com/google/protobuf.git</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> protobuf</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">##### 2. 修改protobuf版本为v3.4.1,安装时会自动安装3.4.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> tags/v3.4.1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> checkout</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -b</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> v3.4.1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 如果这一步报错“Google Mock not present.  Fetching gmock-1.7.0 from the web..../autogen.sh: 34: ./autogen.sh: curl: not found ”</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 需要安装一个依赖包 curl</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># sudo apt  install curl</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">./autogen.sh</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">##### 3. 修改安装路径 </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># ./configure --prefix=/home/yours/local_install/google/protocbuff/ #yours是你对你计算机取的名字</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#【下面不同用户名是我为了方便配环境自己加的，修改为自己的用户名运行一个即可】</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">./configure</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --prefix=/home/ros/software/local_install/google/protocbuff/</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> # ros</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">./configure</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --prefix=/home/pzz/local_install/google/protocbuff/</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> # pzz </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">##### 4. 编译protobuf源码</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">make</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -j8</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">##### 5.安装protobuf3.4.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">######################################</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#### 编译PX4时，将如下内容注释掉，编译cartographer时，将如下内容打开 </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">####### add protobuf lib path ########/home/scout/local_install/lib</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">/home/ros/software/local_install/google/protocbuff/bin/:</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$PATH</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#(动态库搜索路径) 程序加载运行期间查找动态链接库时指定除了系统默认路径之外的其他路径</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> LD_LIBRARY_PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$LD_LIBRARY_PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">:/home/ros/software/local_install/google/protocbuff/lib/</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#(静态库搜索路径) 程序编译期间查找动态链接库时指定查找共享库的路径</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> LIBRARY_PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$LIBRARY_PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">:/home/ros/software/local_install/google/protocbuff/lib/</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#执行程序搜索路径</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">:/home/ros/software/local_install/google/protocbuff/bin/</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#c程序头文件搜索路径</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> C_INCLUDE_PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$C_INCLUDE_PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">:/home/ros/software/local_install/google/protocbuff/include/</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#c++程序头文件搜索路径</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> CPLUS_INCLUDE_PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$CPLUS_INCLUDE_PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">:/home/ros/software/local_install/google/protocbuff/include/</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#pkg-config 路径</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> PKG_CONFIG_PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">/home/ros/software/local_install/google/protocbuff/lib/pkgconfig/</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">######################################</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> cartographer_detailed_comments_ws/src/cartographer</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 修改</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">gedit</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> CMakeLists.txt</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 记得修改为自己的用户名 </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">############## this is for protocol version</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">###################################################</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">INCLUDE_DIRECTORIES(/home/ros/software/local_install/google/protocbuff/include/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">LINK_DIRECTORIES(/home/ros/software/local_install/google/protocbuff/lib/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">###################################################</span></span></code></pre></div><h3 id="_2-2-patchwork" tabindex="-1">2.2 patchwork <a class="header-anchor" href="#_2-2-patchwork" aria-label="Permalink to &quot;2.2 patchwork&quot;">​</a></h3><p>pgm_map_creator</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ros-melodic-jsk-recognition</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">  ros-melodic-jsk-common-msgs</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">  ros-melodic-jsk-rviz-plugins</span></span></code></pre></div><h3 id="_2-2-mpc-ros" tabindex="-1">2.2 mpc_ros <a class="header-anchor" href="#_2-2-mpc-ros" aria-label="Permalink to &quot;2.2 mpc_ros&quot;">​</a></h3><p>项目地址：<a href="https://github.com/Geonhee-LEE/mpc_ros" target="_blank" rel="noreferrer">https://github.com/Geonhee-LEE/mpc_ros</a></p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ros-melodic-costmap-2d</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">ros-melodic-move-base </span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;">\\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">ros-melodic-global-planner </span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;">\\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">ros-melodic-amcl</span></span></code></pre></div><p>下载ipopt</p><p><a href="https://github.com/Geonhee-LEE/mpc_ros/tree/melodic/assets/document/ipopt_install" target="_blank" rel="noreferrer">https://github.com/Geonhee-LEE/mpc_ros/tree/melodic/assets/document/ipopt_install</a></p><p>然后再双击进入Mumps，再打开get.Mumps，把第31行的地址更换成以下地址：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">wgetcmd</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> http://graal.ens-lyon.fr/MUMPS/MUMPS_</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">\${mumps_ver}</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">.tar.gz</span></span></code></pre></div><h3 id="_2-3-ros-motion-planning" tabindex="-1">2.3 ros_motion_planning <a class="header-anchor" href="#_2-3-ros-motion-planning" aria-label="Permalink to &quot;2.3 ros_motion_planning&quot;">​</a></h3><p><a href="https://github.com/ai-winter/ros_motion_planning?tab=readme-ov-file" target="_blank" rel="noreferrer">https://github.com/ai-winter/ros_motion_planning?tab=readme-ov-file</a></p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> clone</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -b</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> release-0.6.3</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --recursive</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> https://github.com/oxfordcontrol/osqp</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> osqp</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> build</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> &amp;&amp; </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> build</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">cmake</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ..</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -DBUILD_SHARED_LIBS=ON</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">make</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -j6</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> make</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /usr/local/include/osqp/</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /usr/local/include</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> https://github.com/robotology/osqp-eigen.git</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> osqp-eigen</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> build</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> &amp;&amp; </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> build</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">cmake</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ..</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">make</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> make</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> python-is-python3</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">ros-melodic-amcl </span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;">\\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">ros-melodic-base-local-planner </span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;">\\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">ros-melodic-map-server </span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;">\\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">ros-melodic-move-base </span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;">\\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">ros-melodic-navfn</span></span></code></pre></div><h2 id="_3-cartographer配置" tabindex="-1">3. Cartographer配置 <a class="header-anchor" href="#_3-cartographer配置" aria-label="Permalink to &quot;3. Cartographer配置&quot;">​</a></h2><p>a) 在只使用激光雷达的时候(tracking_frame=&quot;laser,publish_frame=&quot;laser&quot;)</p><p>b) 使用里程计+激光雷达时(tracking_frame=&quot;base_link&quot;, publish_frame=&quot;odom&quot;)</p><p>c) 使用IMU+激光+里程计时(tracking_frame=&quot;imu_link&quot;, publish_frame=&quot;odom&quot;)</p><h3 id="_3-1-2d激光小车" tabindex="-1">3.1 2D激光小车 <a class="header-anchor" href="#_3-1-2d激光小车" aria-label="Permalink to &quot;3.1 2D激光小车&quot;">​</a></h3><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">include</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;map_builder.lua&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">include</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;trajectory_builder.lua&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">options </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  map_builder </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> MAP_BUILDER,                </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- map_builder.lua的配置信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  trajectory_builder </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> TRAJECTORY_BUILDER,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- trajectory_builder.lua的配置信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  map_frame </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;map&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,                        </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- 地图坐标系的名字</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  --tracking_frame 有 imu 的 link 就设置成 imu 的 link, 没有就设置成 base_link</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  tracking_frame </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;base_footprint&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,        </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- 将所有传感器数据转换到这个坐标系下</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  -- 发布的 tf 的最下边一个坐标系, 就是 bag 文件中 tf树的最上边的一个坐标系</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  published_frame </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;base_footprint&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- tf: map -&gt; footprint</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  odom_frame </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;odom_combined&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,             </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- 里程计的坐标系名字</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  provide_odom_frame </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,                </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- 是否提供odom的tf, 如果为true,则tf树为map-&gt;odom-&gt;footprint</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">                                            -- 如果为false tf树为map-&gt;footprint</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  publish_frame_projected_to_2d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,    </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- 是否将坐标系投影到平面上</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  --use_pose_extrapolator = false,            -- 发布tf时是使用pose_extrapolator的位姿还是前端计算出来的位姿</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  use_odometry </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,                     </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- 是否使用里程计,如果使用要求一定要有odom的tf</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  use_nav_sat </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,                      </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- 是否使用gps</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  use_landmarks </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,                    </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- 是否使用landmark</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  num_laser_scans </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,                      </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- 是否使用单线激光数据</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  num_multi_echo_laser_scans </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,           </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- 是否使用multi_echo_laser_scans数据</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  num_subdivisions_per_laser_scan </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,      </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- 1帧数据被分成几次处理,一般为1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  num_point_clouds </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,                     </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- 是否使用点云数据</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  lookup_transform_timeout_sec </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- 查找tf时的超时时间</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  submap_publish_period_sec </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,          </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- 发布数据的时间间隔</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  pose_publish_period_sec </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 5e-3</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  trajectory_publish_period_sec </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 30e-3</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  rangefinder_sampling_ratio </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 1.</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,          </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- 传感器数据的采样频率</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  odometry_sampling_ratio </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 1.</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  fixed_frame_pose_sampling_ratio </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 1.</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  imu_sampling_ratio </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 1.</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  landmarks_sampling_ratio </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 1.</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">MAP_BUILDER.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">use_trajectory_builder_2d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">   </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">TRAJECTORY_BUILDER_2D.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">use_imu_data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> false</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">   -- 设置IMU数据</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">TRAJECTORY_BUILDER_2D.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">min_range</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 0.1</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">   --雷达的最大最小距离，根据雷达硬件设定</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">TRAJECTORY_BUILDER_2D.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">max_range</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 18.</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  --雷达的最大最小距离，根据雷达硬件设定</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- TRAJECTORY_BUILDER_2D.min_z = 0.2  --使用多点高以上的点云，单线的时候不要设置，多线防止打到地面上的点干扰建图</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">--TRAJECTORY_BUILDER_2D.max_z = 1.4</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">--TRAJECTORY_BUILDER_2D.voxel_filter_size = 0.02</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">--TRAJECTORY_BUILDER_2D.adaptive_voxel_filter.max_length = 0.5</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">--TRAJECTORY_BUILDER_2D.adaptive_voxel_filter.min_num_points = 200.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">--TRAJECTORY_BUILDER_2D.adaptive_voxel_filter.max_range = 50.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">--TRAJECTORY_BUILDER_2D.loop_closure_adaptive_voxel_filter.max_length = 0.9</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">--TRAJECTORY_BUILDER_2D.loop_closure_adaptive_voxel_filter.min_num_points = 100</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">--TRAJECTORY_BUILDER_2D.loop_closure_adaptive_voxel_filter.max_range = 50.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- 这个参数用于指定在传感器数据中缺失时，算法应该考虑的最大距离</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">TRAJECTORY_BUILDER_2D.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">missing_data_ray_length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 1.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- 通过在传感器数据中搜索相关的特征来进行实时的定位和地图构建  仿真的时候不用开</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">TRAJECTORY_BUILDER_2D.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">use_online_correlative_scan_matching</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> true</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- 指定在线实时相关扫描匹配器的线性搜索窗口大小</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">TRAJECTORY_BUILDER_2D.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">real_time_correlative_scan_matcher</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">linear_search_window</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 0.1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- 指定在线实时相关扫描匹配器中平移变化成本的权重</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">TRAJECTORY_BUILDER_2D.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">real_time_correlative_scan_matcher</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">translation_delta_cost_weight</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 10.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- 指定在线实时相关扫描匹配器中旋转变化成本的权重</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">TRAJECTORY_BUILDER_2D.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">real_time_correlative_scan_matcher</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">rotation_delta_cost_weight</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 1e-1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">--ceres地图的扫描，平移，旋转的权重，影响建图效果，其他基本上是影响计算量等</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">--扫描匹配点云和地图匹配程度，值越大，点云和地图匹配置信度越高</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">TRAJECTORY_BUILDER_2D.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">ceres_scan_matcher</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">occupied_space_weight</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 1.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">--残差平移、旋转分量，值越大，越不相信和地图匹配的效果，而是越相信先验位姿的结果</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">TRAJECTORY_BUILDER_2D.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">ceres_scan_matcher</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">translation_weight</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 1.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">--如果imu不好，接入后地图旋转厉害，可以将这里的旋转权重减小</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">TRAJECTORY_BUILDER_2D.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">ceres_scan_matcher</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">rotation_weight</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 1.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">--TRAJECTORY_BUILDER_2D.ceres_scan_matcher.ceres_solver_options.max_num_iterations = 12</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">--TRAJECTORY_BUILDER_2D.motion_filter.max_distance_meters = 0.1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">--TRAJECTORY_BUILDER_2D.motion_filter.max_angle_radians = 0.004</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">--TRAJECTORY_BUILDER_2D.imu_gravity_time_constant = 1.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">TRAJECTORY_BUILDER_2D.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">submaps</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">num_range_data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 35.</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  --一个子图插入多少个节点，根据laser和运动速度进行具体的调整</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">TRAJECTORY_BUILDER_2D.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">submaps</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">grid_options_2d</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">resolution</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 0.1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">POSE_GRAPH.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">optimize_every_n_nodes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 70.</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">   -- 2倍的num_range_data以上</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">POSE_GRAPH.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">constraint_builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">sampling_ratio</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 0.3</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">   -- 如果添加的约束与潜在约束的比例低于此比例,则将添加约束</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">POSE_GRAPH.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">constraint_builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">max_constraint_distance</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 15.</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> -- 在子图附近考虑姿势的阈值,大于这个值将被略过</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">POSE_GRAPH.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">optimization_problem</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">huber_scale</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 1e2</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> -- 用于指定Huber损失函数中的尺度参数</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">-- 回环检测阈值，如果不稳定有错误匹配，可以提高这两个值，场景重复可以降低或者关闭回环</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">POSE_GRAPH.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">constraint_builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">min_score</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 0.65</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">POSE_GRAPH.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">constraint_builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">global_localization_min_score</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 0.60</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> options</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span>&lt;!--</span></span>
<span class="line"><span>  Copyright 2016 The Cartographer Authors</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></span>
<span class="line"><span>  you may not use this file except in compliance with the License.</span></span>
<span class="line"><span>  You may obtain a copy of the License at</span></span>
<span class="line"><span></span></span>
<span class="line"><span>       http://www.apache.org/licenses/LICENSE-2.0</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  Unless required by applicable law or agreed to in writing, software</span></span>
<span class="line"><span>  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></span>
<span class="line"><span>  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></span>
<span class="line"><span>  See the License for the specific language governing permissions and</span></span>
<span class="line"><span>  limitations under the License.</span></span>
<span class="line"><span>--&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;launch&gt;</span></span>
<span class="line"><span>  &lt;!-- bag的地址与名称 --&gt;</span></span>
<span class="line"><span>  &lt;arg name=&quot;bag_filename&quot; default=&quot;$(env HOME)/bagfiles/rslidar-outdoor-gps-notf.bag&quot;/&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  &lt;!-- 使用bag的时间戳 --&gt;</span></span>
<span class="line"><span>  &lt;param name=&quot;/use_sim_time&quot; value=&quot;true&quot; /&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  &lt;!-- 启动cartographer --&gt;</span></span>
<span class="line"><span>  &lt;node name=&quot;cartographer_node&quot; pkg=&quot;cartographer_ros&quot;</span></span>
<span class="line"><span>      type=&quot;cartographer_node&quot; args=&quot;</span></span>
<span class="line"><span>          -configuration_directory $(find cartographer_ros)/configuration_files</span></span>
<span class="line"><span>          -configuration_basename lx_rs16_2d_outdoor.lua&quot;</span></span>
<span class="line"><span>      output=&quot;screen&quot;&gt;</span></span>
<span class="line"><span>    &lt;remap from=&quot;points2&quot; to=&quot;rslidar_points&quot; /&gt;</span></span>
<span class="line"><span>    &lt;remap from=&quot;scan&quot; to=&quot;front_scan&quot; /&gt;</span></span>
<span class="line"><span>    &lt;remap from=&quot;odom&quot; to=&quot;odom_scout&quot; /&gt;</span></span>
<span class="line"><span>    &lt;remap from=&quot;imu&quot; to=&quot;imu&quot; /&gt;</span></span>
<span class="line"><span>  &lt;/node&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  &lt;!-- 生成ros格式的地图 --&gt;</span></span>
<span class="line"><span>  &lt;node name=&quot;cartographer_occupancy_grid_node&quot; pkg=&quot;cartographer_ros&quot;</span></span>
<span class="line"><span>      type=&quot;cartographer_occupancy_grid_node&quot; args=&quot;-resolution 0.05&quot; /&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  &lt;!-- 启动rviz --&gt;</span></span>
<span class="line"><span>  &lt;node name=&quot;rviz&quot; pkg=&quot;rviz&quot; type=&quot;rviz&quot; required=&quot;true&quot;</span></span>
<span class="line"><span>      args=&quot;-d $(find cartographer_ros)/configuration_files/lx_2d.rviz&quot; /&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  &lt;!-- 启动rosbag --&gt;</span></span>
<span class="line"><span>  &lt;node name=&quot;playbag&quot; pkg=&quot;rosbag&quot; type=&quot;play&quot;</span></span>
<span class="line"><span>      args=&quot;--clock $(arg bag_filename)&quot; /&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;/launch&gt;</span></span></code></pre></div><div class="language-rviz vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rviz</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span></span></span></code></pre></div><h2 id="报错合集" tabindex="-1">报错合集 <a class="header-anchor" href="#报错合集" aria-label="Permalink to &quot;报错合集&quot;">​</a></h2>`,68),l=[p];function h(e,k,o,d,r,F){return i(),a("div",null,l)}const c=s(t,[["render",h]]);export{g as __pageData,c as default};
