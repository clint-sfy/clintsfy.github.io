import{_ as n}from"./chunks/ArticleMetadata.Xa7L4Afm.js";import{_ as k,D as p,o as t,c as r,I as d,w as o,k as h,a as g,R as c,b as F,e as y}from"./chunks/framework.Dn7lIAzt.js";import"./chunks/md5.vgHT5zCM.js";const E=JSON.parse('{"title":"AGV叉车实验记录","description":"","frontmatter":{"title":"AGV叉车实验记录","author":"阿源","date":"2025/06/23 19:00","categories":["个人项目"],"tags":["个人项目","ROS"]},"headers":[],"relativePath":"my_project/02-AGV项目/03-AGV叉车实验记录.md","filePath":"my_project/02-AGV项目/03-AGV叉车实验记录.md","lastUpdated":1750853872000}'),C={name:"my_project/02-AGV项目/03-AGV叉车实验记录.md"},u=h("h1",{id:"agv叉车实验记录",tabindex:"-1"},[g("AGV叉车实验记录 "),h("a",{class:"header-anchor",href:"#agv叉车实验记录","aria-label":'Permalink to "AGV叉车实验记录"'},"​")],-1),A=c(`<h2 id="_1-实验说明" tabindex="-1">1. 实验说明 <a class="header-anchor" href="#_1-实验说明" aria-label="Permalink to &quot;1. 实验说明&quot;">​</a></h2><h3 id="_1-1-仿真实验准备" tabindex="-1">1.1 仿真实验准备 <a class="header-anchor" href="#_1-1-仿真实验准备" aria-label="Permalink to &quot;1.1 仿真实验准备&quot;">​</a></h3><h4 id="_1-1-1-通讯实验准备" tabindex="-1">1.1.1 通讯实验准备 <a class="header-anchor" href="#_1-1-1-通讯实验准备" aria-label="Permalink to &quot;1.1.1 通讯实验准备&quot;">​</a></h4><ul><li>检查是否有/dev/forklift_controller</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">ubuntu20_sfy@agv20:~$</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ll</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /dev/fork</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">*</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">lrwxrwxrwx</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 6</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 6</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">月</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  25</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 14</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">:00</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /dev/forklift_apriltag_camera</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> -</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> video2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">lrwxrwxrwx</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 6</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 6</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">月</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  25</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 13</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">:59</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /dev/forklift_artag_camera</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> -</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> video0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">lrwxrwxrwx</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 7</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 6</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">月</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  25</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 11</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">:50</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /dev/forklift_controller</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> -</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ttyUSB0</span></span></code></pre></div><h4 id="_1-1-2-gazebo准备" tabindex="-1">1.1.2 Gazebo准备 <a class="header-anchor" href="#_1-1-2-gazebo准备" aria-label="Permalink to &quot;1.1.2 Gazebo准备&quot;">​</a></h4><h3 id="_1-2-实机实验准备" tabindex="-1">1.2 实机实验准备 <a class="header-anchor" href="#_1-2-实机实验准备" aria-label="Permalink to &quot;1.2 实机实验准备&quot;">​</a></h3><h2 id="_2-单片机实验" tabindex="-1">2. 单片机实验 <a class="header-anchor" href="#_2-单片机实验" aria-label="Permalink to &quot;2. 单片机实验&quot;">​</a></h2><h3 id="_2-仿真实验-验证stm32与ros通讯" tabindex="-1">2. 仿真实验：验证STM32与ROS通讯 <a class="header-anchor" href="#_2-仿真实验-验证stm32与ros通讯" aria-label="Permalink to &quot;2. 仿真实验：验证STM32与ROS通讯&quot;">​</a></h3><h4 id="实验说明" tabindex="-1">实验说明 <a class="header-anchor" href="#实验说明" aria-label="Permalink to &quot;实验说明&quot;">​</a></h4><ul><li>启动文件</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"></span></code></pre></div><h4 id="实验结果" tabindex="-1">实验结果 <a class="header-anchor" href="#实验结果" aria-label="Permalink to &quot;实验结果&quot;">​</a></h4><h2 id="_3-agv-叉车初始化定位任务" tabindex="-1">3. AGV 叉车初始化定位任务 <a class="header-anchor" href="#_3-agv-叉车初始化定位任务" aria-label="Permalink to &quot;3. AGV 叉车初始化定位任务&quot;">​</a></h2><h3 id="_3-1-仿真实验-查看相机初始化定位结果-apriltag" tabindex="-1">3.1 仿真实验：查看相机初始化定位结果（Apriltag） <a class="header-anchor" href="#_3-1-仿真实验-查看相机初始化定位结果-apriltag" aria-label="Permalink to &quot;3.1 仿真实验：查看相机初始化定位结果（Apriltag）&quot;">​</a></h3><h4 id="_3-1-1-实验说明" tabindex="-1">3.1.1 实验说明 <a class="header-anchor" href="#_3-1-1-实验说明" aria-label="Permalink to &quot;3.1.1 实验说明&quot;">​</a></h4><p>修改代码</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">修改为：</span></span></code></pre></div><ul><li>重新编译</li></ul><p>r</p><h4 id="测试不同遮盖程度的定位结果" tabindex="-1">测试不同遮盖程度的定位结果 <a class="header-anchor" href="#测试不同遮盖程度的定位结果" aria-label="Permalink to &quot;测试不同遮盖程度的定位结果&quot;">​</a></h4><h4 id="测试不同位置距离的定位结果" tabindex="-1">测试不同位置距离的定位结果 <a class="header-anchor" href="#测试不同位置距离的定位结果" aria-label="Permalink to &quot;测试不同位置距离的定位结果&quot;">​</a></h4><p>包括二维码的大小</p><h3 id="_3-2-实机实验-查看叉车初始化定位结果-apriltag" tabindex="-1">3.2 实机实验：查看叉车初始化定位结果（Apriltag） <a class="header-anchor" href="#_3-2-实机实验-查看叉车初始化定位结果-apriltag" aria-label="Permalink to &quot;3.2 实机实验：查看叉车初始化定位结果（Apriltag）&quot;">​</a></h3><blockquote><p>[!CAUTION]</p><p>叉车的基坐标系为base_footprint 叉车定位相机坐标系为usb_cam 请注意实验结果是否正确</p></blockquote><h4 id="实验结果-1" tabindex="-1">实验结果 <a class="header-anchor" href="#实验结果-1" aria-label="Permalink to &quot;实验结果&quot;">​</a></h4><ul><li>文件位置：</li></ul><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"></span></code></pre></div><h2 id="_4-agv叉车测试任务" tabindex="-1">4. AGV叉车测试任务 <a class="header-anchor" href="#_4-agv叉车测试任务" aria-label="Permalink to &quot;4. AGV叉车测试任务&quot;">​</a></h2><h2 id="_5-agv叉车取货任务" tabindex="-1">5. AGV叉车取货任务 <a class="header-anchor" href="#_5-agv叉车取货任务" aria-label="Permalink to &quot;5. AGV叉车取货任务&quot;">​</a></h2><h3 id="_5-1-仿真实验-验证取货路径规划结果" tabindex="-1">5.1 仿真实验：验证取货路径规划结果 <a class="header-anchor" href="#_5-1-仿真实验-验证取货路径规划结果" aria-label="Permalink to &quot;5.1 仿真实验：验证取货路径规划结果&quot;">​</a></h3><h2 id="_6-agv叉车放货任务" tabindex="-1">6. AGV叉车放货任务 <a class="header-anchor" href="#_6-agv叉车放货任务" aria-label="Permalink to &quot;6. AGV叉车放货任务&quot;">​</a></h2><h2 id="_7-agv叉车停车任务" tabindex="-1">7. AGV叉车停车任务 <a class="header-anchor" href="#_7-agv叉车停车任务" aria-label="Permalink to &quot;7. AGV叉车停车任务&quot;">​</a></h2><h2 id="_8-其他实验" tabindex="-1">8. 其他实验 <a class="header-anchor" href="#_8-其他实验" aria-label="Permalink to &quot;8. 其他实验&quot;">​</a></h2><h3 id="_8-1-仿真实验-movebase控制算法测试-仿真实体场景" tabindex="-1">8.1 仿真实验：MoveBase控制算法测试（仿真实体场景） <a class="header-anchor" href="#_8-1-仿真实验-movebase控制算法测试-仿真实体场景" aria-label="Permalink to &quot;8.1 仿真实验：MoveBase控制算法测试（仿真实体场景）&quot;">​</a></h3><ul><li>启动文件</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">roslaunch</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> sfy_ros</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> test_sfy_warehouse_gazebo.launch</span></span></code></pre></div><ul><li>启动后，点击2D NAV GOAL</li><li>然后再地图上随机发布目标点就行，发布的路径为之前设定好的</li></ul><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">rosparam param</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;wx&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">4.0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">4.0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> , </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">rosparam</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">rosparam param</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;wy&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">8.7</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> , </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">8.7</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">rosparam</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span></span></code></pre></div><blockquote><p>[!WARNING]</p><p>movebase <code>只能执行一次任务</code>，任务完成后，请关闭程序</p></blockquote><blockquote><p>[!TIP]</p><p>仿真场景可选择：warehouse warehouse_2 factory empty_world</p></blockquote><h3 id="_8-2-仿真实验-movebase控制算法测试-空场景" tabindex="-1">8.2 仿真实验：MoveBase控制算法测试（空场景） <a class="header-anchor" href="#_8-2-仿真实验-movebase控制算法测试-空场景" aria-label="Permalink to &quot;8.2 仿真实验：MoveBase控制算法测试（空场景）&quot;">​</a></h3><ul><li>启动文件</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">roslaunch</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> sfy_ros</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> test_sfy_empty_gazebo.launch</span></span></code></pre></div><ul><li>启动后，点击2D NAV GOAL</li><li>然后再地图上随机发布目标点就行，发布的路径为之前设定好的</li></ul><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">rosparam param</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;wx&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">4.0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">4.0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> , </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">rosparam</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">rosparam param</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;wy&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">8.7</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> , </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">8.7</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">rosparam</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span></span></code></pre></div><blockquote><p>[!WARNING]</p><p>movebase <code>只能执行一次任务</code>，任务完成后，请关闭程序</p></blockquote><h3 id="_8-3-仿真实验-查看agv叉车模型和tf坐标变换" tabindex="-1">8.3 仿真实验：查看AGV叉车模型和TF坐标变换 <a class="header-anchor" href="#_8-3-仿真实验-查看agv叉车模型和tf坐标变换" aria-label="Permalink to &quot;8.3 仿真实验：查看AGV叉车模型和TF坐标变换&quot;">​</a></h3><ul><li>启动文件</li></ul><div class="language-SH vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">SH</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">roslaunch</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> sfy_ros</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> rviz_sfy_forklift_model.launch</span></span></code></pre></div>`,50);function b(s,m,_,D,v,B){const l=n,e=p("ClientOnly");return t(),r("div",null,[u,d(e,null,{default:o(()=>{var a,i;return[(((a=s.$frontmatter)==null?void 0:a.aside)??!0)&&(((i=s.$frontmatter)==null?void 0:i.showArticleMetadata)??!0)?(t(),F(l,{key:0,article:s.$frontmatter},null,8,["article"])):y("",!0)]}),_:1}),A])}const V=k(C,[["render",b]]);export{E as __pageData,V as default};
