import{_ as l}from"./chunks/ArticleMetadata.Xa7L4Afm.js";import{_ as h,D as r,o as t,c as k,I as d,w as o,k as s,a as c,R as g,b as y,e as u}from"./chunks/framework.Dn7lIAzt.js";import"./chunks/md5.vgHT5zCM.js";const P=JSON.parse('{"title":"jupyterlab添加虚拟环境并添加到ipykernel","description":"","frontmatter":{},"headers":[],"relativePath":"categories/issues/2024/9/3/jupyterlab添加虚拟环境并添加到ipykernel.md","filePath":"categories/issues/2024/9/3/jupyterlab添加虚拟环境并添加到ipykernel.md","lastUpdated":1725349486000}'),F={name:"categories/issues/2024/9/3/jupyterlab添加虚拟环境并添加到ipykernel.md"},m=s("hr",null,null,-1),C=s("p",null,"title: jupyterlab添加虚拟环境并添加到ipykernel author: 阿源 date: 2024/09/03 14:30 categories:",-1),b=s("ul",null,[s("li",null,"Bug万象集 tags:"),s("li",null,"linux")],-1),_=s("hr",null,null,-1),v=s("h1",{id:"jupyterlab添加虚拟环境并添加到ipykernel",tabindex:"-1"},[c("jupyterlab添加虚拟环境并添加到ipykernel "),s("a",{class:"header-anchor",href:"#jupyterlab添加虚拟环境并添加到ipykernel","aria-label":'Permalink to "jupyterlab添加虚拟环境并添加到ipykernel"'},"​")],-1),D=g('<p>临时使用</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span>pip install -i https://pypi.tuna.tsinghua.edu.cn/simple</span></span></code></pre></div><p>jupyterlab默认情况下使用base作为虚拟环境，但是不能自由切换虚拟环境。可以通过以下方法切换使用内核：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> create</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> work</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ipykernel</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> python==</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">3.9</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">.16</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> activate</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> work</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">python</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ipykernel</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> work</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --display-name</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> work</span></span></code></pre></div><p>如果提示permission denied，则是因为root用户，在最后添加–user即可成功。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">python</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ipykernel</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> work</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --display-name</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> work</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --user</span></span></code></pre></div><p>最后刷新jupyterlab，可以看见自己创建的ipykernel已经可以使用。</p><p>注：对于python 3.11.0版本可能还会提示其他错误，在python后面添加-Xfrozen_modules=off可以解决。</p><p>移除kernel</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span>jupyter kernelspec list</span></span></code></pre></div><p>查看所有ipykernel</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span>jupyter kernelspec remove work</span></span></code></pre></div><p>移除虚拟环境</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> remove</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> work</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --all</span></span></code></pre></div>',16);function f(i,B,j,w,N,T){const n=l,p=r("ClientOnly");return t(),k("div",null,[m,C,b,_,v,d(p,null,{default:o(()=>{var a,e;return[(((a=i.$frontmatter)==null?void 0:a.aside)??!0)&&(((e=i.$frontmatter)==null?void 0:e.showArticleMetadata)??!0)?(t(),y(n,{key:0,article:i.$frontmatter},null,8,["article"])):u("",!0)]}),_:1}),D])}const S=h(F,[["render",f]]);export{P as __pageData,S as default};
