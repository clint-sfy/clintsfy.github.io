import{_ as l}from"./chunks/ArticleMetadata.Xa7L4Afm.js";import{_ as h,D as r,o as e,c as k,I as d,w as o,k as t,a as c,R as g,b as y,e as F}from"./chunks/framework.Dn7lIAzt.js";import"./chunks/md5.vgHT5zCM.js";const T=JSON.parse('{"title":"jupyterlab添加虚拟环境并添加到ipykernel","description":"","frontmatter":{"title":"jupyterlab添加虚拟环境并添加到ipykernel","author":"阿源","date":"2024/09/03 14:30","categories":["Bug万象集"],"tags":["linux"]},"headers":[],"relativePath":"categories/issues/2024/9/3/jupyterlab添加虚拟环境并添加到ipykernel.md","filePath":"categories/issues/2024/9/3/jupyterlab添加虚拟环境并添加到ipykernel.md","lastUpdated":1725349701000}'),u={name:"categories/issues/2024/9/3/jupyterlab添加虚拟环境并添加到ipykernel.md"},m=t("h1",{id:"jupyterlab添加虚拟环境并添加到ipykernel",tabindex:"-1"},[c("jupyterlab添加虚拟环境并添加到ipykernel "),t("a",{class:"header-anchor",href:"#jupyterlab添加虚拟环境并添加到ipykernel","aria-label":'Permalink to "jupyterlab添加虚拟环境并添加到ipykernel"'},"​")],-1),C=g('<p>临时使用</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span>pip install -i https://pypi.tuna.tsinghua.edu.cn/simple</span></span></code></pre></div><p>jupyterlab默认情况下使用base作为虚拟环境，但是不能自由切换虚拟环境。可以通过以下方法切换使用内核：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> create</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> work</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ipykernel</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> python==</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">3.9</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">.16</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> activate</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> work</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">python</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ipykernel</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> work</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --display-name</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> work</span></span></code></pre></div><p>如果提示permission denied，则是因为root用户，在最后添加–user即可成功。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">python</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ipykernel</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> work</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --display-name</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> work</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --user</span></span></code></pre></div><p>最后刷新jupyterlab，可以看见自己创建的ipykernel已经可以使用。</p><p>注：对于python 3.11.0版本可能还会提示其他错误，在python后面添加-Xfrozen_modules=off可以解决。</p><p>移除kernel</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span>jupyter kernelspec list</span></span></code></pre></div><p>查看所有ipykernel</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span>jupyter kernelspec remove work</span></span></code></pre></div><p>移除虚拟环境</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> remove</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> work</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --all</span></span></code></pre></div>',16);function b(s,v,_,D,f,B){const p=l,n=r("ClientOnly");return e(),k("div",null,[m,d(n,null,{default:o(()=>{var i,a;return[(((i=s.$frontmatter)==null?void 0:i.aside)??!0)&&(((a=s.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(e(),y(p,{key:0,article:s.$frontmatter},null,8,["article"])):F("",!0)]}),_:1}),C])}const V=h(u,[["render",b]]);export{T as __pageData,V as default};
